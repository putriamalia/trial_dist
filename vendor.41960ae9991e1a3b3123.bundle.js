webpackJsonp([3],{"+3/4":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("YaPU"),i=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=function(t){function e(e){t.call(this),this.scheduler=e}return i(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(r.a)},"+CnV":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}(n("AMGY").a)},"+b92":function(t,e,n){"use strict";var r={linearRing:function(t,e,n,r){for(var i=0,o=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],u=t[e+1];i+=a*s-o*u,o=s,a=u}return i/2},linearRings:function(t,e,n,i){var o,a,s=0;for(o=0,a=n.length;o<a;++o){var u=n[o];s+=r.linearRing(t,e,u,i),e=u}return s},linearRingss:function(t,e,n,i){var o,a,s=0;for(o=0,a=n.length;o<a;++o){var u=n[o];s+=r.linearRings(t,e,u,i),e=u[u.length-1]}return s}};e.a=r},"/3K7":function(t,e,n){"use strict";var r=n("CXX0"),i=n("omE/"),o=n("iHAK"),a=n("sR3l"),s=n("J25b"),u=function(t,e){a.a.call(this);var n=e||{};if(this.unique_=!!n.unique,this.array_=t||[],this.unique_)for(var r=0,i=this.array_.length;r<i;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()};r.a.inherits(u,a.a),u.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},u.prototype.extend=function(t){var e,n;for(e=0,n=t.length;e<n;++e)this.push(t[e]);return this},u.prototype.forEach=function(t,e){for(var n=e?t.bind(e):t,r=this.array_,i=0,o=r.length;i<o;++i)n(r[i],i,r)},u.prototype.getArray=function(){return this.array_},u.prototype.item=function(t){return this.array_[t]},u.prototype.getLength=function(){return this.get(u.Property_.LENGTH)},u.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new u.Event(o.a.ADD,e))},u.prototype.pop=function(){return this.removeAt(this.getLength()-1)},u.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},u.prototype.remove=function(t){var e,n,r=this.array_;for(e=0,n=r.length;e<n;++e)if(r[e]===t)return this.removeAt(e)},u.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new u.Event(o.a.REMOVE,e)),e},u.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var r=this.array_[t];this.array_[t]=e,this.dispatchEvent(new u.Event(o.a.REMOVE,r)),this.dispatchEvent(new u.Event(o.a.ADD,e))}else{var i;for(i=n;i<t;++i)this.insertAt(i,void 0);this.insertAt(t,e)}},u.prototype.updateLength_=function(){this.set(u.Property_.LENGTH,this.array_.length)},u.prototype.assertUnique_=function(t,e){for(var n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===t&&n!==e)throw new i.a(58)},u.Property_={LENGTH:"length"},u.Event=function(t,e){s.a.call(this,t),this.element=e},r.a.inherits(u.Event,s.a),e.a=u},"/3dj":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CXX0"),i=n("ZDkq"),o=n("2S6f"),a=n("dDPv"),s=n("ZVo0"),u=function(t,e,n){a.a.call(this);var r=n||{};this.tileCoord=t,this.state=e,this.interimTile=null,this.key="",this.transition_=void 0===r.transition?250:r.transition,this.transitionStarts_={}};r.a.inherits(u,a.a),u.prototype.changed=function(){this.dispatchEvent(s.a.CHANGE)},u.prototype.getKey=function(){return this.key+"/"+this.tileCoord},u.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==i.a.LOADED)return t;t=t.interimTile}while(t);return this},u.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==i.a.LOADED){t.interimTile=null;break}t.getState()==i.a.LOADING?e=t:t.getState()==i.a.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},u.prototype.getTileCoord=function(){return this.tileCoord},u.prototype.getState=function(){return this.state},u.prototype.setState=function(t){this.state=t,this.changed()},u.prototype.load=function(){},u.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var r=e-n+1e3/60;return r>=this.transition_?1:o.a.easeIn(r/this.transition_)},u.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},u.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)};var l=u,c=n("w2Al"),h=n("6t+W"),p=function(t,e,n,r,i,o){l.call(this,t,e,o),this.crossOrigin_=r,this.src_=n,this.image_=new Image,null!==r&&(this.image_.crossOrigin=r),this.imageListenerKeys_=null,this.tileLoadFunction_=i};r.a.inherits(p,l),p.prototype.disposeInternal=function(){this.state==i.a.LOADING&&(this.unlistenImage_(),this.image_=p.getBlankImage()),this.interimTile&&this.interimTile.dispose(),this.state=i.a.ABORT,this.changed(),l.prototype.disposeInternal.call(this)},p.prototype.getImage=function(){return this.image_},p.prototype.getKey=function(){return this.src_},p.prototype.handleImageError_=function(){this.state=i.a.ERROR,this.unlistenImage_(),this.image_=p.getBlankImage(),this.changed()},p.prototype.handleImageLoad_=function(){this.image_.naturalWidth&&this.image_.naturalHeight?this.state=i.a.LOADED:this.state=i.a.EMPTY,this.unlistenImage_(),this.changed()},p.prototype.load=function(){this.state==i.a.ERROR&&(this.state=i.a.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==i.a.IDLE&&(this.state=i.a.LOADING,this.changed(),this.imageListenerKeys_=[h.a.listenOnce(this.image_,s.a.ERROR,this.handleImageError_,this),h.a.listenOnce(this.image_,s.a.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},p.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(h.a.unlistenByKey),this.imageListenerKeys_=null},p.getBlankImage=function(){var t=c.a.createCanvasContext2D(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas};var f=p,d=n("7h3G"),g=n("fGqn"),y=function(t){d.a.call(this,t)};r.a.inherits(y,d.a),y.prototype.expireCache=function(t){for(var e,n;this.canExpireCache()&&!((n=(e=this.peekLast()).tileCoord[0].toString())in t&&t[n].contains(e.tileCoord));)this.pop().dispose()},y.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),e=g.a.fromKey(t)[0];this.forEach(function(t){t.tileCoord[0]!==e&&(this.remove(g.a.getKey(t.tileCoord)),t.dispose())},this)}};var v=y,_=n("yGLh"),m=n("/LWt"),E=n("o1z/"),C={calculateSourceResolution:function(t,e,n,r){var i=_.default.transform(n,e,t),o=_.default.getPointResolution(e,r,n),a=e.getMetersPerUnit();void 0!==a&&(o*=a);var s=t.getMetersPerUnit();void 0!==s&&(o/=s);var u=t.getExtent();if(!u||m.a.containsCoordinate(u,i)){var l=_.default.getPointResolution(t,o,i)/o;isFinite(l)&&l>0&&(o/=l)}return o},enlargeClipPoint_:function(t,e,n,r){var i=n-t,o=r-e,a=Math.sqrt(i*i+o*o);return[Math.round(n+i/a),Math.round(r+o/a)]},render:function(t,e,n,r,i,o,a,s,u,l,h){var p=c.a.createCanvasContext2D(Math.round(n*t),Math.round(n*e));if(0===u.length)return p.canvas;p.scale(n,n);var f=m.a.createEmpty();u.forEach(function(t,e,n){m.a.extend(f,t.extent)});var d=m.a.getWidth(f),g=m.a.getHeight(f),y=c.a.createCanvasContext2D(Math.round(n*d/r),Math.round(n*g/r)),v=n/r;u.forEach(function(t,e,n){var r=t.extent[0]-f[0],i=-(t.extent[3]-f[3]),o=m.a.getWidth(t.extent),a=m.a.getHeight(t.extent);y.drawImage(t.image,l,l,t.image.width-2*l,t.image.height-2*l,r*v,i*v,o*v,a*v)});var _=m.a.getTopLeft(a);return s.getTriangles().forEach(function(t,e,i){var a=t.source,s=t.target,u=a[0][0],l=a[0][1],c=a[1][0],h=a[1][1],d=a[2][0],g=a[2][1],v=(s[0][0]-_[0])/o,m=-(s[0][1]-_[1])/o,b=(s[1][0]-_[0])/o,x=-(s[1][1]-_[1])/o,T=(s[2][0]-_[0])/o,w=-(s[2][1]-_[1])/o,R=u,S=l;u=0,l=0;var O=[[c-=R,h-=S,0,0,b-v],[d-=R,g-=S,0,0,T-v],[0,0,c,h,x-m],[0,0,d,g,w-m]],I=E.a.solveLinearSystem(O);if(I){p.save(),p.beginPath();var P=(v+b+T)/3,A=(m+x+w)/3,L=C.enlargeClipPoint_(P,A,v,m),M=C.enlargeClipPoint_(P,A,b,x),D=C.enlargeClipPoint_(P,A,T,w);p.moveTo(M[0],M[1]),p.lineTo(L[0],L[1]),p.lineTo(D[0],D[1]),p.clip(),p.transform(I[0],I[2],I[1],I[3],v,m),p.translate(f[0]-R,f[3]-S),p.scale(r/n,-r/n),p.drawImage(y.canvas,0,0),p.restore()}}),h&&(p.save(),p.strokeStyle="black",p.lineWidth=1,s.getTriangles().forEach(function(t,e,n){var r=t.target,i=(r[0][0]-_[0])/o,a=-(r[0][1]-_[1])/o,s=(r[1][0]-_[0])/o,u=-(r[1][1]-_[1])/o,l=(r[2][0]-_[0])/o,c=-(r[2][1]-_[1])/o;p.beginPath(),p.moveTo(s,u),p.lineTo(i,a),p.lineTo(l,c),p.closePath(),p.stroke()}),p.restore()),p.canvas}},b=C,x=function(t,e,n,i,o){this.sourceProj_=t,this.targetProj_=e;var a={},s=_.default.getTransform(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return a[e]||(a[e]=s(t)),a[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&m.a.getWidth(i)==m.a.getWidth(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?m.a.getWidth(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?m.a.getWidth(this.targetProj_.getExtent()):null;var u=m.a.getTopLeft(n),l=m.a.getTopRight(n),c=m.a.getBottomRight(n),h=m.a.getBottomLeft(n),p=this.transformInv_(u),f=this.transformInv_(l),d=this.transformInv_(c),g=this.transformInv_(h);if(this.addQuad_(u,l,c,h,p,f,d,g,r.a.RASTER_REPROJECTION_MAX_SUBDIVISION),this.wrapsXInSource_){var y=1/0;this.triangles_.forEach(function(t,e,n){y=Math.min(y,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-y>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-y>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-y>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-y>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}},this)}a={}};x.prototype.addTriangle_=function(t,e,n,r,i,o){this.triangles_.push({source:[r,i,o],target:[t,e,n]})},x.prototype.addQuad_=function(t,e,n,i,o,a,s,u,l){var c=m.a.boundingExtent([o,a,s,u]),h=this.sourceWorldWidth_?m.a.getWidth(c)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&h>.5&&h<1,d=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var g=m.a.boundingExtent([t,e,n,i]);d|=m.a.getWidth(g)/this.targetWorldWidth_>r.a.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH}!f&&this.sourceProj_.isGlobal()&&h&&(d|=h>r.a.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH)}if(d||!this.maxSourceExtent_||m.a.intersects(c,this.maxSourceExtent_)){if(!(d||isFinite(o[0])&&isFinite(o[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(u[0])&&isFinite(u[1]))){if(!(l>0))return;d=!0}if(l>0){if(!d){var y,v=[(t[0]+n[0])/2,(t[1]+n[1])/2],_=this.transformInv_(v);if(f)y=(E.a.modulo(o[0],p)+E.a.modulo(s[0],p))/2-E.a.modulo(_[0],p);else y=(o[0]+s[0])/2-_[0];var C=(o[1]+s[1])/2-_[1];d=y*y+C*C>this.errorThresholdSquared_}if(d){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var b=[(e[0]+n[0])/2,(e[1]+n[1])/2],x=this.transformInv_(b),T=[(i[0]+t[0])/2,(i[1]+t[1])/2],w=this.transformInv_(T);this.addQuad_(t,e,b,T,o,a,x,w,l-1),this.addQuad_(T,b,n,i,w,x,s,u,l-1)}else{var R=[(t[0]+e[0])/2,(t[1]+e[1])/2],S=this.transformInv_(R),O=[(n[0]+i[0])/2,(n[1]+i[1])/2],I=this.transformInv_(O);this.addQuad_(t,R,O,i,o,S,I,u,l-1),this.addQuad_(R,e,n,O,S,a,s,I,l-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,n,i,o,s,u),this.addTriangle_(t,e,n,o,a,s)}},x.prototype.calculateSourceExtent=function(){var t=m.a.createEmpty();return this.triangles_.forEach(function(e,n,r){var i=e.source;m.a.extendCoordinate(t,i[0]),m.a.extendCoordinate(t,i[1]),m.a.extendCoordinate(t,i[2])}),t},x.prototype.getTriangles=function(){return this.triangles_};var T=x,w=function(t,e,n,o,a,s,u,c,h,p,f){l.call(this,a,i.a.IDLE),this.renderEdges_=void 0!==f&&f,this.pixelRatio_=u,this.gutter_=c,this.canvas_=null,this.sourceTileGrid_=e,this.targetTileGrid_=o,this.wrappedTileCoord_=s||a,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var d=o.getTileCoordExtent(this.wrappedTileCoord_),g=this.targetTileGrid_.getExtent(),y=this.sourceTileGrid_.getExtent(),v=g?m.a.getIntersection(d,g):d;if(0!==m.a.getArea(v)){var _=t.getExtent();_&&(y=y?m.a.getIntersection(y,_):_);var C=o.getResolution(this.wrappedTileCoord_[0]),x=m.a.getCenter(v),w=b.calculateSourceResolution(t,n,x,C);if(!isFinite(w)||w<=0)this.state=i.a.EMPTY;else{var R=void 0!==p?p:r.a.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD;if(this.triangulation_=new T(t,n,v,y,w*R),0!==this.triangulation_.getTriangles().length){this.sourceZ_=e.getZForResolution(w);var S=this.triangulation_.calculateSourceExtent();if(y&&(t.canWrapX()?(S[1]=E.a.clamp(S[1],y[1],y[3]),S[3]=E.a.clamp(S[3],y[1],y[3])):S=m.a.getIntersection(S,y)),m.a.getArea(S)){for(var O=e.getTileRangeForExtentAndZ(S,this.sourceZ_),I=O.minX;I<=O.maxX;I++)for(var P=O.minY;P<=O.maxY;P++){var A=h(this.sourceZ_,I,P,u);A&&this.sourceTiles_.push(A)}0===this.sourceTiles_.length&&(this.state=i.a.EMPTY)}else this.state=i.a.EMPTY}else this.state=i.a.EMPTY}}else this.state=i.a.EMPTY};r.a.inherits(w,l),w.prototype.disposeInternal=function(){this.state==i.a.LOADING&&this.unlistenSources_(),l.prototype.disposeInternal.call(this)},w.prototype.getImage=function(){return this.canvas_},w.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,n,r){e&&e.getState()==i.a.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})},this),this.sourceTiles_.length=0,0===t.length)this.state=i.a.ERROR;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),r="number"==typeof n?n:n[0],o="number"==typeof n?n:n[1],a=this.targetTileGrid_.getResolution(e),s=this.sourceTileGrid_.getResolution(this.sourceZ_),u=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=b.render(r,o,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),a,u,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=i.a.LOADED}this.changed()},w.prototype.load=function(){if(this.state==i.a.IDLE){this.state=i.a.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,n,r){var o,a=e.getState();a!=i.a.IDLE&&a!=i.a.LOADING||(t++,o=h.a.listen(e,s.a.CHANGE,function(n){var r=e.getState();r!=i.a.LOADED&&r!=i.a.ERROR&&r!=i.a.EMPTY||(h.a.unlistenByKey(o),0===--t&&(this.unlistenSources_(),this.reproject_()))},this),this.sourcesListenerKeys_.push(o))},this),this.sourceTiles_.forEach(function(t,e,n){t.getState()==i.a.IDLE&&t.load()}),0===t&&setTimeout(this.reproject_.bind(this),0)}},w.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(h.a.unlistenByKey),this.sourcesListenerKeys_=null};var R=w,S=n("OEyb"),O={createFromTemplate:function(t,e){var n=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,o=/\{-y\}/g;return function(a,s,u){return a?t.replace(n,a[0].toString()).replace(r,a[1].toString()).replace(i,function(){return(-a[2]-1).toString()}).replace(o,function(){var t=a[0],n=e.getFullTileRange(t);return S.a.assert(n,55),(n.getHeight()+a[2]).toString()}):void 0}},createFromTemplates:function(t,e){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=O.createFromTemplate(t[i],e);return O.createFromTileUrlFunctions(r)},createFromTileUrlFunctions:function(t){return 1===t.length?t[0]:function(e,n,r){if(e){var i=g.a.hash(e),o=E.a.modulo(i,t.length);return t[o](e,n,r)}}},nullTileUrlFunction:function(t,e,n){},expandUrl:function(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var r,i=n[1].charCodeAt(0),o=n[2].charCodeAt(0);for(r=i;r<=o;++r)e.push(t.replace(n[0],String.fromCharCode(r)));return e}if(n=n=/\{(\d+)-(\d+)\}/.exec(t)){for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)e.push(t.replace(n[0],s.toString()));return e}return e.push(t),e}},I=O,P=n("J25b"),A=n("xifc"),L=n("vLip"),M=n("7yEG"),D=function(t){L.a.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state,wrapX:t.wrapX}),this.opaque_=void 0!==t.opaque&&t.opaque,this.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null,this.tileCache=new v(t.cacheSize),this.tmpSize=[0,0],this.key_="",this.tileOptions={transition:t.transition}};r.a.inherits(D,L.a),D.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},D.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},D.prototype.forEachLoadedTile=function(t,e,n,r){var o=this.getTileCacheForProjection(t);if(!o)return!1;for(var a,s,u,l=!0,c=n.minX;c<=n.maxX;++c)for(var h=n.minY;h<=n.maxY;++h)s=g.a.getKeyZXY(e,c,h),u=!1,o.containsKey(s)&&(u=(a=o.get(s)).getState()===i.a.LOADED)&&(u=!1!==r(a)),u||(l=!1);return l},D.prototype.getGutter=function(t){return 0},D.prototype.getKey=function(){return this.key_},D.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},D.prototype.getOpaque=function(t){return this.opaque_},D.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},D.prototype.getTile=function(t,e,n,r,i){},D.prototype.getTileGrid=function(){return this.tileGrid},D.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:M.a.getForProjection(t)},D.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!_.default.equivalent(e,t)?null:this.tileCache},D.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},D.prototype.getTilePixelSize=function(t,e,n){var r=this.getTileGridForProjection(n),i=this.getTilePixelRatio(e),o=A.a.toSize(r.getTileSize(t),this.tmpSize);return 1==i?o:A.a.scale(o,i,this.tmpSize)},D.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=M.a.wrapX(r,t,n)),g.a.withinExtentAndZ(t,r)?t:null},D.prototype.refresh=function(){this.tileCache.clear(),this.changed()},D.prototype.useTile=r.a.nullFunction,D.Event=function(t,e){P.a.call(this,t),this.tile=e},r.a.inherits(D.Event,P.a);var N=D,F={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},k=function(t){N.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition}),this.tileLoadFunction=t.tileLoadFunction,this.tileUrlFunction=this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):I.nullTileUrlFunction,this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),t.tileUrlFunction&&this.setTileUrlFunction(t.tileUrlFunction),this.tileLoadingKeys_={}};r.a.inherits(k,N),k.prototype.fixedTileUrlFunction,k.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},k.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},k.prototype.getUrls=function(){return this.urls},k.prototype.handleTileChange=function(t){var e,n=t.target,o=r.a.getUid(n),a=n.getState();a==i.a.LOADING?(this.tileLoadingKeys_[o]=!0,e=F.TILELOADSTART):o in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[o],e=a==i.a.ERROR?F.TILELOADERROR:a==i.a.LOADED||a==i.a.ABORT?F.TILELOADEND:void 0),void 0!=e&&this.dispatchEvent(new N.Event(e,n))},k.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},k.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),"undefined"!=typeof e?this.setKey(e):this.changed()},k.prototype.setUrl=function(t){var e=this.urls=I.expandUrl(t);this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):I.createFromTemplates(e,this.tileGrid),t)},k.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):I.createFromTemplates(t,this.tileGrid),e)},k.prototype.useTile=function(t,e,n){var r=g.a.getKeyZXY(t,e,n);this.tileCache.containsKey(r)&&this.tileCache.get(r)};var j=k,U=function(t){j.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:U.defaultTileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:f,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1};r.a.inherits(U,j),U.prototype.canExpireCache=function(){if(!r.a.ENABLE_RASTER_REPROJECTION)return j.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},U.prototype.expireCache=function(t,e){if(r.a.ENABLE_RASTER_REPROJECTION){var n=this.getTileCacheForProjection(t);for(var i in this.tileCache.expireCache(this.tileCache==n?e:{}),this.tileCacheForProjection){var o=this.tileCacheForProjection[i];o.expireCache(o==n?e:{})}}else j.prototype.expireCache.call(this,t,e)},U.prototype.getGutter=function(t){return r.a.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&t&&!_.default.equivalent(this.getProjection(),t)?0:this.getGutterInternal()},U.prototype.getGutterInternal=function(){return 0},U.prototype.getOpaque=function(t){return!(r.a.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&t&&!_.default.equivalent(this.getProjection(),t))&&j.prototype.getOpaque.call(this,t)},U.prototype.getTileGridForProjection=function(t){if(!r.a.ENABLE_RASTER_REPROJECTION)return j.prototype.getTileGridForProjection.call(this,t);var e=this.getProjection();if(!this.tileGrid||e&&!_.default.equivalent(e,t)){var n=r.a.getUid(t).toString();return n in this.tileGridForProjection||(this.tileGridForProjection[n]=M.a.getForProjection(t)),this.tileGridForProjection[n]}return this.tileGrid},U.prototype.getTileCacheForProjection=function(t){if(!r.a.ENABLE_RASTER_REPROJECTION)return j.prototype.getTileCacheForProjection.call(this,t);var e=this.getProjection();if(!e||_.default.equivalent(e,t))return this.tileCache;var n=r.a.getUid(t).toString();return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new v(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},U.prototype.createTile_=function(t,e,n,r,o,a){var u=[t,e,n],l=this.getTileCoordForTileUrlFunction(u,o),c=l?this.tileUrlFunction(l,r,o):void 0,p=new this.tileClass(u,void 0!==c?i.a.IDLE:i.a.EMPTY,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return p.key=a,h.a.listen(p,s.a.CHANGE,this.handleTileChange,this),p},U.prototype.getTile=function(t,e,n,i,o){var a=this.getProjection();if(r.a.ENABLE_RASTER_REPROJECTION&&a&&o&&!_.default.equivalent(a,o)){var s,u=this.getTileCacheForProjection(o),l=[t,e,n],c=g.a.getKey(l);u.containsKey(c)&&(s=u.get(c));var h=this.getKey();if(s&&s.key==h)return s;var p=this.getTileGridForProjection(a),f=this.getTileGridForProjection(o),d=this.getTileCoordForTileUrlFunction(l,o),y=new R(a,p,o,f,l,d,this.getTilePixelRatio(i),this.getGutterInternal(),(function(t,e,n,r){return this.getTileInternal(t,e,n,r,a)}).bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return y.key=h,s?(y.interimTile=s,y.refreshInterimChain(),u.replace(c,y)):u.set(c,y),y}return this.getTileInternal(t,e,n,i,a||o)},U.prototype.getTileInternal=function(t,e,n,r,o){var a=null,s=g.a.getKeyZXY(t,e,n),u=this.getKey();if(this.tileCache.containsKey(s)){if((a=this.tileCache.get(s)).key!=u){var l=a;a=this.createTile_(t,e,n,r,o,u),l.getState()==i.a.IDLE?a.interimTile=l.interimTile:a.interimTile=l,a.refreshInterimChain(),this.tileCache.replace(s,a)}}else a=this.createTile_(t,e,n,r,o,u),this.tileCache.set(s,a);return a},U.prototype.setRenderReprojectionEdges=function(t){if(r.a.ENABLE_RASTER_REPROJECTION&&this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},U.prototype.setTileGridForProjection=function(t,e){if(r.a.ENABLE_RASTER_REPROJECTION){var n=_.default.get(t);if(n){var i=r.a.getUid(n).toString();i in this.tileGridForProjection||(this.tileGridForProjection[i]=e)}}},U.defaultTileLoadFunction=function(t,e){t.getImage().src=e};var G=U,V=function(t){var e=t||{},n=void 0!==e.projection?e.projection:"EPSG:3857",r=void 0!==e.tileGrid?e.tileGrid:M.a.createXYZ({extent:M.a.extentFromProjection(n),maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});G.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,logo:e.logo,opaque:e.opaque,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition})};r.a.inherits(V,G);var B=V,H=function(t){var e,n=t||{};e=void 0!==n.attributions?n.attributions:[H.ATTRIBUTION];var r=void 0!==n.crossOrigin?n.crossOrigin:"anonymous",i=void 0!==n.url?n.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";B.call(this,{attributions:e,cacheSize:n.cacheSize,crossOrigin:r,opaque:void 0===n.opaque||n.opaque,maxZoom:void 0!==n.maxZoom?n.maxZoom:19,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileLoadFunction:n.tileLoadFunction,url:i,wrapX:n.wrapX})};r.a.inherits(H,B),H.ATTRIBUTION='&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.';e.default=H},"/LWt":function(t,e,n){"use strict";var r=n("OEyb"),i=n("3BBv"),o=n("WTDv"),a={boundingExtent:function(t){for(var e=a.createEmpty(),n=0,r=t.length;n<r;++n)a.extendCoordinate(e,t[n]);return e},boundingExtentXYs_:function(t,e,n){var r=Math.min.apply(null,t),i=Math.min.apply(null,e),o=Math.max.apply(null,t),s=Math.max.apply(null,e);return a.createOrUpdate(r,i,o,s,n)},buffer:function(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]},clone:function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()},closestSquaredDistanceXY:function(t,e,n){var r,i;return(r=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*r+(i=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*i},containsCoordinate:function(t,e){return a.containsXY(t,e[0],e[1])},containsExtent:function(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]},containsXY:function(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]},coordinateRelationship:function(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],s=e[0],u=e[1],l=o.a.UNKNOWN;return s<n?l|=o.a.LEFT:s>i&&(l|=o.a.RIGHT),u<r?l|=o.a.BELOW:u>a&&(l|=o.a.ABOVE),l===o.a.UNKNOWN&&(l=o.a.INTERSECTING),l},createEmpty:function(){return[1/0,1/0,-1/0,-1/0]},createOrUpdate:function(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]},createOrUpdateEmpty:function(t){return a.createOrUpdate(1/0,1/0,-1/0,-1/0,t)},createOrUpdateFromCoordinate:function(t,e){var n=t[0],r=t[1];return a.createOrUpdate(n,r,n,r,e)},createOrUpdateFromCoordinates:function(t,e){var n=a.createOrUpdateEmpty(e);return a.extendCoordinates(n,t)},createOrUpdateFromFlatCoordinates:function(t,e,n,r,i){var o=a.createOrUpdateEmpty(i);return a.extendFlatCoordinates(o,t,e,n,r)},createOrUpdateFromRings:function(t,e){var n=a.createOrUpdateEmpty(e);return a.extendRings(n,t)},equals:function(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]},extend:function(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t},extendCoordinate:function(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])},extendCoordinates:function(t,e){var n,r;for(n=0,r=e.length;n<r;++n)a.extendCoordinate(t,e[n]);return t},extendFlatCoordinates:function(t,e,n,r,i){for(;n<r;n+=i)a.extendXY(t,e[n],e[n+1]);return t},extendRings:function(t,e){var n,r;for(n=0,r=e.length;n<r;++n)a.extendCoordinates(t,e[n]);return t},extendXY:function(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)},forEachCorner:function(t,e,n){var r;return(r=e.call(n,a.getBottomLeft(t)))?r:(r=e.call(n,a.getBottomRight(t)))?r:(r=e.call(n,a.getTopRight(t)))?r:(r=e.call(n,a.getTopLeft(t)))||!1},getArea:function(t){var e=0;return a.isEmpty(t)||(e=a.getWidth(t)*a.getHeight(t)),e},getBottomLeft:function(t){return[t[0],t[1]]},getBottomRight:function(t){return[t[2],t[1]]},getCenter:function(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]},getCorner:function(t,e){var n;return e===i.a.BOTTOM_LEFT?n=a.getBottomLeft(t):e===i.a.BOTTOM_RIGHT?n=a.getBottomRight(t):e===i.a.TOP_LEFT?n=a.getTopLeft(t):e===i.a.TOP_RIGHT?n=a.getTopRight(t):r.a.assert(!1,13),n},getEnlargedArea:function(t,e){var n=Math.min(t[0],e[0]),r=Math.min(t[1],e[1]);return(Math.max(t[2],e[2])-n)*(Math.max(t[3],e[3])-r)},getForViewAndSize:function(t,e,n,r,i){var o=e*r[0]/2,s=e*r[1]/2,u=Math.cos(n),l=Math.sin(n),c=o*u,h=o*l,p=s*u,f=s*l,d=t[0],g=t[1],y=d-c+f,v=d-c-f,_=d+c-f,m=d+c+f,E=g-h-p,C=g-h+p,b=g+h+p,x=g+h-p;return a.createOrUpdate(Math.min(y,v,_,m),Math.min(E,C,b,x),Math.max(y,v,_,m),Math.max(E,C,b,x),i)},getHeight:function(t){return t[3]-t[1]},getIntersectionArea:function(t,e){var n=a.getIntersection(t,e);return a.getArea(n)},getIntersection:function(t,e,n){var r=n||a.createEmpty();return a.intersects(t,e)&&(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]),r},getMargin:function(t){return a.getWidth(t)+a.getHeight(t)},getSize:function(t){return[t[2]-t[0],t[3]-t[1]]},getTopLeft:function(t){return[t[0],t[3]]},getTopRight:function(t){return[t[2],t[3]]},getWidth:function(t){return t[2]-t[0]},intersects:function(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]},isEmpty:function(t){return t[2]<t[0]||t[3]<t[1]},returnOrUpdate:function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t},scaleFromCenter:function(t,e){var n=(t[2]-t[0])/2*(e-1),r=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=r,t[3]+=r},intersectsSegment:function(t,e,n){var r=!1,i=a.coordinateRelationship(t,e),s=a.coordinateRelationship(t,n);if(i===o.a.INTERSECTING||s===o.a.INTERSECTING)r=!0;else{var u,l,c=t[0],h=t[1],p=t[2],f=t[3],d=e[0],g=e[1],y=n[0],v=n[1],_=(v-g)/(y-d);s&o.a.ABOVE&&!(i&o.a.ABOVE)&&(r=(u=y-(v-f)/_)>=c&&u<=p),r||!(s&o.a.RIGHT)||i&o.a.RIGHT||(r=(l=v-(y-p)*_)>=h&&l<=f),r||!(s&o.a.BELOW)||i&o.a.BELOW||(r=(u=y-(v-h)/_)>=c&&u<=p),r||!(s&o.a.LEFT)||i&o.a.LEFT||(r=(l=v-(y-c)*_)>=h&&l<=f)}return r},applyTransform:function(t,e,n){var r=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];e(r,r,2);var i=[r[0],r[2],r[4],r[6]],o=[r[1],r[3],r[5],r[7]];return a.boundingExtentXYs_(i,o,n)}};e.a=a},"/iUD":function(t,e,n){"use strict";e.a=function(t){return"function"==typeof t}},"/nXB":function(t,e,n){"use strict";e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=Number.POSITIVE_INFINITY,s=null,u=t[t.length-1];Object(o.a)(u)?(s=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof u&&(n=t.pop());if(null===s&&1===t.length&&t[0]instanceof r.a)return t[0];return Object(a.a)(n)(new i.a(t,s))};var r=n("YaPU"),i=n("Veqx"),o=n("1Q68"),a=n("8D5t")},"1Q68":function(t,e,n){"use strict";e.a=function(t){return t&&"function"==typeof t.schedule}},"2Je8":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"NgLocaleLocalization",function(){return g}),n.d(e,"NgLocalization",function(){return f}),n.d(e,"\u0275parseCookieValue",function(){return v}),n.d(e,"CommonModule",function(){return xt}),n.d(e,"DeprecatedI18NPipesModule",function(){return Tt}),n.d(e,"NgClass",function(){return _}),n.d(e,"NgFor",function(){return x}),n.d(e,"NgForOf",function(){return C}),n.d(e,"NgForOfContext",function(){return E}),n.d(e,"NgIf",function(){return T}),n.d(e,"NgIfContext",function(){return w}),n.d(e,"NgPlural",function(){return P}),n.d(e,"NgPluralCase",function(){return A}),n.d(e,"NgStyle",function(){return L}),n.d(e,"NgSwitch",function(){return S}),n.d(e,"NgSwitchCase",function(){return O}),n.d(e,"NgSwitchDefault",function(){return I}),n.d(e,"NgTemplateOutlet",function(){return M}),n.d(e,"NgComponentOutlet",function(){return m}),n.d(e,"DOCUMENT",function(){return wt}),n.d(e,"AsyncPipe",function(){return U}),n.d(e,"DatePipe",function(){return dt}),n.d(e,"I18nPluralPipe",function(){return _t}),n.d(e,"I18nSelectPipe",function(){return mt}),n.d(e,"JsonPipe",function(){return Et}),n.d(e,"LowerCasePipe",function(){return G}),n.d(e,"CurrencyPipe",function(){return ct}),n.d(e,"DecimalPipe",function(){return ut}),n.d(e,"PercentPipe",function(){return lt}),n.d(e,"SlicePipe",function(){return Ct}),n.d(e,"UpperCasePipe",function(){return B}),n.d(e,"TitleCasePipe",function(){return V}),n.d(e,"\u0275PLATFORM_BROWSER_ID",function(){return Rt}),n.d(e,"\u0275PLATFORM_SERVER_ID",function(){return St}),n.d(e,"\u0275PLATFORM_WORKER_APP_ID",function(){return Ot}),n.d(e,"\u0275PLATFORM_WORKER_UI_ID",function(){return It}),n.d(e,"isPlatformBrowser",function(){return Pt}),n.d(e,"isPlatformServer",function(){return At}),n.d(e,"isPlatformWorkerApp",function(){return Lt}),n.d(e,"isPlatformWorkerUi",function(){return Mt}),n.d(e,"VERSION",function(){return Dt}),n.d(e,"PlatformLocation",function(){return o}),n.d(e,"LOCATION_INITIALIZED",function(){return a}),n.d(e,"LocationStrategy",function(){return s}),n.d(e,"APP_BASE_HREF",function(){return u}),n.d(e,"HashLocationStrategy",function(){return h}),n.d(e,"PathLocationStrategy",function(){return p}),n.d(e,"Location",function(){return l}),n.d(e,"\u0275a",function(){return D}),n.d(e,"\u0275b",function(){return bt});var r=n("TToO"),i=n("3j3K"),o=function(){function t(){}return t.prototype.getBaseHrefFromDOM=function(){},t.prototype.onPopState=function(t){},t.prototype.onHashChange=function(t){},t.prototype.pathname=function(){},t.prototype.search=function(){},t.prototype.hash=function(){},t.prototype.replaceState=function(t,e,n){},t.prototype.pushState=function(t,e,n){},t.prototype.forward=function(){},t.prototype.back=function(){},t}(),a=new i.InjectionToken("Location Initialized"),s=function(){function t(){}return t.prototype.path=function(t){},t.prototype.prepareExternalUrl=function(t){},t.prototype.pushState=function(t,e,n,r){},t.prototype.replaceState=function(t,e,n,r){},t.prototype.forward=function(){},t.prototype.back=function(){},t.prototype.onPopState=function(t){},t.prototype.getBaseHref=function(){},t}(),u=new i.InjectionToken("appBaseHref"),l=function(){function t(e){var n=this;this._subject=new i.EventEmitter,this._platformStrategy=e;var r=this._platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(c(r)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,type:t.type})})}return t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=""),this.path()==this.normalize(e+t.normalizeQueryParams(n))},t.prototype.normalize=function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,c(e)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e){void 0===e&&(e=""),this._platformStrategy.pushState(null,"",t,e)},t.prototype.replaceState=function(t,e){void 0===e&&(e=""),this._platformStrategy.replaceState(null,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-("/"===t[n-1]?1:0);return t.slice(0,r)+t.slice(n)},t}();function c(t){return t.replace(/\/index.html$/,"")}l.decorators=[{type:i.Injectable}],l.ctorParameters=function(){return[{type:s}]};var h=function(t){function e(e,n){var r=t.call(this)||this;return r._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return r.a(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=l.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(s);h.decorators=[{type:i.Injectable}],h.ctorParameters=function(){return[{type:o},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[u]}]}]};var p=function(t){function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return r.a(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return l.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+l.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(s);p.decorators=[{type:i.Injectable}],p.ctorParameters=function(){return[{type:o},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[u]}]}]};var f=function(){function t(){}return t.prototype.getPluralCategory=function(t){},t}();function d(t,e,n){var r="="+t;if(e.indexOf(r)>-1)return r;if(r=n.getPluralCategory(t),e.indexOf(r)>-1)return r;if(e.indexOf("other")>-1)return"other";throw new Error('No plural message found for value "'+t+'"')}var g=function(t){function e(e){var n=t.call(this)||this;return n.locale=e,n}return r.a(e,t),e.prototype.getPluralCategory=function(t){switch(function(t,e){"string"==typeof e&&(e=parseInt(e,10));var n=e,r=n.toString().replace(/^[^.]*\.?/,""),i=Math.floor(Math.abs(n)),o=r.length,a=parseInt(r,10),s=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(t.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?y.One:y.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?y.One:y.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===i||1===n?y.One:y.Other;case"ar":return 0===n?y.Zero:1===n?y.One:2===n?y.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?y.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?y.Many:y.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===i&&0===o?y.One:y.Other;case"be":return n%10==1&&n%100!=11?y.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?y.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?y.Many:y.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?y.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?y.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?y.Few:0!==n&&n%1e6==0?y.Many:y.Other;case"bs":case"hr":case"sr":return 0===o&&i%10==1&&i%100!=11||a%10==1&&a%100!=11?y.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)||a%10===Math.floor(a%10)&&a%10>=2&&a%10<=4&&!(a%100>=12&&a%100<=14)?y.Few:y.Other;case"cs":case"sk":return 1===i&&0===o?y.One:i===Math.floor(i)&&i>=2&&i<=4&&0===o?y.Few:0!==o?y.Many:y.Other;case"cy":return 0===n?y.Zero:1===n?y.One:2===n?y.Two:3===n?y.Few:6===n?y.Many:y.Other;case"da":return 1===n||0!==s&&(0===i||1===i)?y.One:y.Other;case"dsb":case"hsb":return 0===o&&i%100==1||a%100==1?y.One:0===o&&i%100==2||a%100==2?y.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||a%100===Math.floor(a%100)&&a%100>=3&&a%100<=4?y.Few:y.Other;case"ff":case"fr":case"hy":case"kab":return 0===i||1===i?y.One:y.Other;case"fil":return 0===o&&(1===i||2===i||3===i)||0===o&&i%10!=4&&i%10!=6&&i%10!=9||0!==o&&a%10!=4&&a%10!=6&&a%10!=9?y.One:y.Other;case"ga":return 1===n?y.One:2===n?y.Two:n===Math.floor(n)&&n>=3&&n<=6?y.Few:n===Math.floor(n)&&n>=7&&n<=10?y.Many:y.Other;case"gd":return 1===n||11===n?y.One:2===n||12===n?y.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?y.Few:y.Other;case"gv":return 0===o&&i%10==1?y.One:0===o&&i%10==2?y.Two:0!==o||i%100!=0&&i%100!=20&&i%100!=40&&i%100!=60&&i%100!=80?0!==o?y.Many:y.Other:y.Few;case"he":return 1===i&&0===o?y.One:2===i&&0===o?y.Two:0!==o||n>=0&&n<=10||n%10!=0?y.Other:y.Many;case"is":return 0===s&&i%10==1&&i%100!=11||0!==s?y.One:y.Other;case"ksh":return 0===n?y.Zero:1===n?y.One:y.Other;case"kw":case"naq":case"se":case"smn":return 1===n?y.One:2===n?y.Two:y.Other;case"lag":return 0===n?y.Zero:0!==i&&1!==i||0===n?y.Other:y.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?y.Few:0!==a?y.Many:y.Other:y.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===o&&a%100===Math.floor(a%100)&&a%100>=11&&a%100<=19?y.Zero:n%10==1&&n%100!=11||2===o&&a%10==1&&a%100!=11||2!==o&&a%10==1?y.One:y.Other;case"mk":return 0===o&&i%10==1||a%10==1?y.One:y.Other;case"mt":return 1===n?y.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?y.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?y.Many:y.Other;case"pl":return 1===i&&0===o?y.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?y.Few:0===o&&1!==i&&i%10===Math.floor(i%10)&&i%10>=0&&i%10<=1||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=12&&i%100<=14?y.Many:y.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?y.One:y.Other;case"ro":return 1===i&&0===o?y.One:0!==o||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?y.Few:y.Other;case"ru":case"uk":return 0===o&&i%10==1&&i%100!=11?y.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?y.Few:0===o&&i%10==0||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?y.Many:y.Other;case"shi":return 0===i||1===n?y.One:n===Math.floor(n)&&n>=2&&n<=10?y.Few:y.Other;case"si":return 0===n||1===n||0===i&&1===a?y.One:y.Other;case"sl":return 0===o&&i%100==1?y.One:0===o&&i%100==2?y.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||0!==o?y.Few:y.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?y.One:y.Other;default:return y.Other}}(this.locale,t)){case y.Zero:return"zero";case y.One:return"one";case y.Two:return"two";case y.Few:return"few";case y.Many:return"many";default:return"other"}},e}(f);g.decorators=[{type:i.Injectable}],g.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:[i.LOCALE_ID]}]}]};var y={};function v(t,e){e=encodeURIComponent(e);for(var n=0,r=t.split(";");n<r.length;n++){var i=r[n],o=i.indexOf("="),a=-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],s=a[1];if(a[0].trim()===e)return decodeURIComponent(s)}return null}y.Zero=0,y.One=1,y.Two=2,y.Few=3,y.Many=4,y.Other=5,y[y.Zero]="Zero",y[y.One]="One",y[y.Two]="Two",y[y.Few]="Few",y[y.Many]="Many",y[y.Other]="Other";var _=function(){function t(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}return Object.defineProperty(t.prototype,"klass",{set:function(t){this._applyInitialClasses(!0),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyInitialClasses(!1),this._applyClasses(this._rawClass,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClass",{set:function(t){this._cleanupClasses(this._rawClass),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(i["\u0275isListLikeIterable"])(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},t.prototype._cleanupClasses=function(t){this._applyClasses(t,!0),this._applyInitialClasses(!1)},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(i["\u0275stringify"])(t.item));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})},t.prototype._applyInitialClasses=function(t){var e=this;this._initialClasses.forEach(function(n){return e._toggleClass(n,!t)})},t.prototype._applyClasses=function(t,e){var n=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return n._toggleClass(t,!e)}):Object.keys(t).forEach(function(r){null!=t[r]&&n._toggleClass(r,!e)}))},t.prototype._toggleClass=function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){n._renderer.setElementClass(n._ngEl.nativeElement,t,!!e)})},t}();_.decorators=[{type:i.Directive,args:[{selector:"[ngClass]"}]}],_.ctorParameters=function(){return[{type:i.IterableDiffers},{type:i.KeyValueDiffers},{type:i.ElementRef},{type:i.Renderer}]},_.propDecorators={klass:[{type:i.Input,args:["class"]}],ngClass:[{type:i.Input}]};var m=function(){function t(t){this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}return t.prototype.ngOnChanges=function(t){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){var e=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(t.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){var n=e.get(i.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(n.injector)}else this._moduleRef=null;var r=(this._moduleRef?this._moduleRef.componentFactoryResolver:e.get(i.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(r,this._viewContainerRef.length,e,this.ngComponentOutletContent)}},t.prototype.ngOnDestroy=function(){this._moduleRef&&this._moduleRef.destroy()},t}();m.decorators=[{type:i.Directive,args:[{selector:"[ngComponentOutlet]"}]}],m.ctorParameters=function(){return[{type:i.ViewContainerRef}]},m.propDecorators={ngComponentOutlet:[{type:i.Input}],ngComponentOutletInjector:[{type:i.Input}],ngComponentOutletContent:[{type:i.Input}],ngComponentOutletNgModuleFactory:[{type:i.Input}]};var E=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),C=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._differ=null}return Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Object(i.isDevMode)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){if("ngForOf"in t){var e=t.ngForOf.currentValue;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(t){throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+((n=e).name||typeof n)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var n},t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this.ngForOf);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new E(null,e.ngForOf,-1,-1),i),a=new b(t,o);n.push(a)}else if(null==i)e._viewContainer.remove(r);else{o=e._viewContainer.get(r);e._viewContainer.move(o,i);a=new b(t,o);n.push(a)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);r=0;for(var i=this._viewContainer.length;r<i;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=i}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t}();C.decorators=[{type:i.Directive,args:[{selector:"[ngFor][ngForOf]"}]}],C.ctorParameters=function(){return[{type:i.ViewContainerRef},{type:i.TemplateRef},{type:i.IterableDiffers}]},C.propDecorators={ngForOf:[{type:i.Input}],ngForTrackBy:[{type:i.Input}],ngForTemplate:[{type:i.Input}]};var b=function(){return function(t,e){this.record=t,this.view=e}}(),x=C;var T=function(){function t(t,e){this._viewContainer=t,this._context=new w,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t}();T.decorators=[{type:i.Directive,args:[{selector:"[ngIf]"}]}],T.ctorParameters=function(){return[{type:i.ViewContainerRef},{type:i.TemplateRef}]},T.propDecorators={ngIf:[{type:i.Input}],ngIfThen:[{type:i.Input}],ngIfElse:[{type:i.Input}]};var w=function(){return function(){this.$implicit=null,this.ngIf=null}}(),R=function(){function t(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}return t.prototype.create=function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)},t.prototype.destroy=function(){this._created=!1,this._viewContainerRef.clear()},t.prototype.enforceState=function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()},t}(),S=function(){function t(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return Object.defineProperty(t.prototype,"ngSwitch",{set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)},enumerable:!0,configurable:!0}),t.prototype._addCase=function(){return this._caseCount++},t.prototype._addDefault=function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)},t.prototype._matchCase=function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e},t.prototype._updateDefaultCases=function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++){this._defaultViews[e].enforceState(t)}}},t}();S.decorators=[{type:i.Directive,args:[{selector:"[ngSwitch]"}]}],S.ctorParameters=function(){return[]},S.propDecorators={ngSwitch:[{type:i.Input}]};var O=function(){function t(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new R(t,e)}return t.prototype.ngDoCheck=function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))},t}();O.decorators=[{type:i.Directive,args:[{selector:"[ngSwitchCase]"}]}],O.ctorParameters=function(){return[{type:i.ViewContainerRef},{type:i.TemplateRef},{type:S,decorators:[{type:i.Host}]}]},O.propDecorators={ngSwitchCase:[{type:i.Input}]};var I=function(){return function(t,e,n){n._addDefault(new R(t,e))}}();I.decorators=[{type:i.Directive,args:[{selector:"[ngSwitchDefault]"}]}],I.ctorParameters=function(){return[{type:i.ViewContainerRef},{type:i.TemplateRef},{type:S,decorators:[{type:i.Host}]}]};var P=function(){function t(t){this._localization=t,this._caseViews={}}return Object.defineProperty(t.prototype,"ngPlural",{set:function(t){this._switchValue=t,this._updateView()},enumerable:!0,configurable:!0}),t.prototype.addCase=function(t,e){this._caseViews[t]=e},t.prototype._updateView=function(){this._clearViews();var t=Object.keys(this._caseViews),e=d(this._switchValue,t,this._localization);this._activateView(this._caseViews[e])},t.prototype._clearViews=function(){this._activeView&&this._activeView.destroy()},t.prototype._activateView=function(t){t&&(this._activeView=t,this._activeView.create())},t}();P.decorators=[{type:i.Directive,args:[{selector:"[ngPlural]"}]}],P.ctorParameters=function(){return[{type:f}]},P.propDecorators={ngPlural:[{type:i.Input}]};var A=function(){return function(t,e,n,r){this.value=t;var i=!isNaN(Number(t));r.addCase(i?"="+t:t,new R(n,e))}}();A.decorators=[{type:i.Directive,args:[{selector:"[ngPluralCase]"}]}],A.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Attribute,args:["ngPluralCase"]}]},{type:i.TemplateRef},{type:i.ViewContainerRef},{type:P,decorators:[{type:i.Host}]}]};var L=function(){function t(t,e,n){this._differs=t,this._ngEl=e,this._renderer=n}return Object.defineProperty(t.prototype,"ngStyle",{set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this;t.forEachRemovedItem(function(t){return e._setStyle(t.key,null)}),t.forEachAddedItem(function(t){return e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._setStyle(t.key,t.currentValue)})},t.prototype._setStyle=function(t,e){var n=t.split("."),r=n[0],i=n[1];e=null!=e&&i?""+e+i:e,this._renderer.setElementStyle(this._ngEl.nativeElement,r,e)},t}();L.decorators=[{type:i.Directive,args:[{selector:"[ngStyle]"}]}],L.ctorParameters=function(){return[{type:i.KeyValueDiffers},{type:i.ElementRef},{type:i.Renderer}]},L.propDecorators={ngStyle:[{type:i.Input}]};var M=function(){function t(t){this._viewContainerRef=t}return Object.defineProperty(t.prototype,"ngOutletContext",{set:function(t){this.ngTemplateOutletContext=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))},t}();M.decorators=[{type:i.Directive,args:[{selector:"[ngTemplateOutlet]"}]}],M.ctorParameters=function(){return[{type:i.ViewContainerRef}]},M.propDecorators={ngTemplateOutletContext:[{type:i.Input}],ngTemplateOutlet:[{type:i.Input}],ngOutletContext:[{type:i.Input}]};var D=[_,m,C,T,M,L,S,O,I,P,A];function N(t,e){return Error("InvalidPipeArgument: '"+e+"' for pipe '"+Object(i["\u0275stringify"])(t)+"'")}var F=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}(),k=new(function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,function(t){throw t})},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}()),j=new F,U=function(){function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return t.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},t.prototype.transform=function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,i.WrappedValue.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})},t.prototype._selectStrategy=function(e){if(Object(i["\u0275isPromise"])(e))return k;if(Object(i["\u0275isObservable"])(e))return j;throw N(t,e)},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t}();U.decorators=[{type:i.Pipe,args:[{name:"async",pure:!1}]}],U.ctorParameters=function(){return[{type:i.ChangeDetectorRef}]};var G=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw N(t,e);return e.toLowerCase()},t}();G.decorators=[{type:i.Pipe,args:[{name:"lowercase"}]}],G.ctorParameters=function(){return[]};var V=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw N(t,e);return e.split(/\b/g).map(function(t){return function(t){return t?t[0].toUpperCase()+t.substr(1).toLowerCase():t}(t)}).join("")},t}();V.decorators=[{type:i.Pipe,args:[{name:"titlecase"}]}],V.ctorParameters=function(){return[]};var B=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw N(t,e);return e.toUpperCase()},t}();B.decorators=[{type:i.Pipe,args:[{name:"uppercase"}]}],B.ctorParameters=function(){return[]};var H={Decimal:0,Percent:1,Currency:2};H[H.Decimal]="Decimal",H[H.Percent]="Percent",H[H.Currency]="Currency";var W,X=function(){function t(){}return t.format=function(t,e,n,r){void 0===r&&(r={});var i=r.minimumIntegerDigits,o=r.minimumFractionDigits,a=r.maximumFractionDigits,s=r.currency,u=r.currencyAsSymbol,l=void 0!==u&&u,c={minimumIntegerDigits:i,minimumFractionDigits:o,maximumFractionDigits:a,style:H[n].toLowerCase()};return n==H.Currency&&(c.currency="string"==typeof s?s:void 0,c.currencyDisplay=l?"symbol":"code"),new Intl.NumberFormat(e,c).format(t)},t}(),z=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,Y={yMMMdjms:rt(nt([tt("year",1),et("month",3),tt("day",1),tt("hour",1),tt("minute",1),tt("second",1)])),yMdjm:rt(nt([tt("year",1),tt("month",1),tt("day",1),tt("hour",1),tt("minute",1)])),yMMMMEEEEd:rt(nt([tt("year",1),et("month",4),et("weekday",4),tt("day",1)])),yMMMMd:rt(nt([tt("year",1),et("month",4),tt("day",1)])),yMMMd:rt(nt([tt("year",1),et("month",3),tt("day",1)])),yMd:rt(nt([tt("year",1),tt("month",1),tt("day",1)])),jms:rt(nt([tt("hour",1),tt("second",1),tt("minute",1)])),jm:rt(nt([tt("hour",1),tt("minute",1)]))},K={yyyy:rt(tt("year",4)),yy:rt(tt("year",2)),y:rt(tt("year",1)),MMMM:rt(et("month",4)),MMM:rt(et("month",3)),MM:rt(tt("month",2)),M:rt(tt("month",1)),LLLL:rt(et("month",4)),L:rt(et("month",1)),dd:rt(tt("day",2)),d:rt(tt("day",1)),HH:q(Z(rt($(tt("hour",2),!1)))),H:Z(rt($(tt("hour",1),!1))),hh:q(Z(rt($(tt("hour",2),!0)))),h:Z(rt($(tt("hour",1),!0))),jj:rt(tt("hour",2)),j:rt(tt("hour",1)),mm:q(rt(tt("minute",2))),m:rt(tt("minute",1)),ss:q(rt(tt("second",2))),s:rt(tt("second",1)),sss:rt(tt("second",3)),EEEE:rt(et("weekday",4)),EEE:rt(et("weekday",3)),EE:rt(et("weekday",2)),E:rt(et("weekday",1)),a:(W=rt($(tt("hour",1),!0)),function(t,e){return W(t,e).split(" ")[1]}),Z:Q("short"),z:Q("long"),ww:rt({}),w:rt({}),G:rt(et("era",1)),GG:rt(et("era",2)),GGG:rt(et("era",3)),GGGG:rt(et("era",4))};function q(t){return function(e,n){var r=t(e,n);return 1==r.length?"0"+r:r}}function Z(t){return function(e,n){return t(e,n).split(" ")[0]}}function J(t,e,n){return new Intl.DateTimeFormat(e,n).format(t).replace(/[\u200e\u200f]/g,"")}function Q(t){var e={hour:"2-digit",hour12:!1,timeZoneName:t};return function(t,n){var r=J(t,n,e);return r?r.substring(3):""}}function $(t,e){return t.hour12=e,t}function tt(t,e){var n={};return n[t]=2===e?"2-digit":"numeric",n}function et(t,e){var n={};return n[t]=e<4?e>1?"short":"narrow":"long",n}function nt(t){return t.reduce(function(t,e){return Object.assign({},t,e)},{})}function rt(t){return function(e,n){return J(e,n,t)}}var it=new Map;var ot=function(){function t(){}return t.format=function(t,e,n){return function(t,e,n){var r=Y[t];if(r)return r(e,n);var i=t,o=it.get(i);if(!o){o=[];var a=void 0;z.exec(t);for(var s=t;s;)(a=z.exec(s))?s=(o=o.concat(a.slice(1))).pop():(o.push(s),s=null);it.set(i,o)}return o.reduce(function(t,r){var i=K[r];return t+(i?i(e,n):function(t){return"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}(r))},"")}(n,t,e)},t}(),at=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function st(t,e,n,r,i,o,a){if(void 0===o&&(o=null),void 0===a&&(a=!1),null==n)return null;if("number"!=typeof(n="string"==typeof n&&pt(n)?+n:n))throw N(t,n);var s=void 0,u=void 0,l=void 0;if(r!==H.Currency&&(s=1,u=0,l=3),i){var c=i.match(at);if(null===c)throw new Error(i+" is not a valid digit info for number pipes");null!=c[1]&&(s=ht(c[1])),null!=c[3]&&(u=ht(c[3])),null!=c[5]&&(l=ht(c[5]))}return X.format(n,e,r,{minimumIntegerDigits:s,minimumFractionDigits:u,maximumFractionDigits:l,currency:o,currencyAsSymbol:a})}var ut=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){return st(t,this._locale,e,H.Decimal,n)},t}();ut.decorators=[{type:i.Pipe,args:[{name:"number"}]}],ut.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:[i.LOCALE_ID]}]}]};var lt=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){return st(t,this._locale,e,H.Percent,n)},t}();lt.decorators=[{type:i.Pipe,args:[{name:"percent"}]}],lt.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:[i.LOCALE_ID]}]}]};var ct=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n,r,i){return void 0===n&&(n="USD"),void 0===r&&(r=!1),st(t,this._locale,e,H.Currency,i,n,r)},t}();function ht(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function pt(t){return!isNaN(t-parseFloat(t))}ct.decorators=[{type:i.Pipe,args:[{name:"currency"}]}],ct.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:[i.LOCALE_ID]}]}]};var ft=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,dt=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){var r,i;if(void 0===n&&(n="mediumDate"),null==(i=e)||""===i||e!=e)return null;if("string"==typeof e&&(e=e.trim()),gt(e))r=e;else if(pt(e))r=new Date(parseFloat(e));else if("string"==typeof e&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var o=e.split("-").map(function(t){return parseInt(t,10)}),a=o[0],s=o[1],u=o[2];r=new Date(a,s-1,u)}else r=new Date(e);if(!gt(r)){var l=void 0;if("string"!=typeof e||!(l=e.match(ft)))throw N(t,e);r=function(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=yt(t[9]+t[10]),r=yt(t[9]+t[11]));i.call(e,yt(t[1]),yt(t[2])-1,yt(t[3]));var a=yt(t[4]||"0")-n,s=yt(t[5]||"0")-r,u=yt(t[6]||"0"),l=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,a,s,u,l),e}(l)}return ot.format(r,this._locale,t._ALIASES[n]||n)},t}();function gt(t){return t instanceof Date&&!isNaN(t.valueOf())}function yt(t){return parseInt(t,10)}dt._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},dt.decorators=[{type:i.Pipe,args:[{name:"date",pure:!0}]}],dt.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:[i.LOCALE_ID]}]}]};var vt=/#/g,_t=function(){function t(t){this._localization=t}return t.prototype.transform=function(e,n){if(null==e)return"";if("object"!=typeof n||null===n)throw N(t,n);return n[d(e,Object.keys(n),this._localization)].replace(vt,e.toString())},t}();_t.decorators=[{type:i.Pipe,args:[{name:"i18nPlural",pure:!0}]}],_t.ctorParameters=function(){return[{type:f}]};var mt=function(){function t(){}return t.prototype.transform=function(e,n){if(null==e)return"";if("object"!=typeof n||"string"!=typeof e)throw N(t,n);return n.hasOwnProperty(e)?n[e]:n.hasOwnProperty("other")?n.other:""},t}();mt.decorators=[{type:i.Pipe,args:[{name:"i18nSelect",pure:!0}]}],mt.ctorParameters=function(){return[]};var Et=function(){function t(){}return t.prototype.transform=function(t){return JSON.stringify(t,null,2)},t}();Et.decorators=[{type:i.Pipe,args:[{name:"json",pure:!1}]}],Et.ctorParameters=function(){return[]};var Ct=function(){function t(){}return t.prototype.transform=function(e,n,r){if(null==e)return e;if(!this.supports(e))throw N(t,e);return e.slice(n,r)},t.prototype.supports=function(t){return"string"==typeof t||Array.isArray(t)},t}();Ct.decorators=[{type:i.Pipe,args:[{name:"slice",pure:!1}]}],Ct.ctorParameters=function(){return[]};var bt=[U,B,G,Et,Ct,ut,lt,V,ct,dt,_t,mt],xt=function(){return function(){}}();xt.decorators=[{type:i.NgModule,args:[{declarations:[D,bt],exports:[D,bt],providers:[{provide:f,useClass:g}]}]}],xt.ctorParameters=function(){return[]};var Tt=function(){return function(){}}();Tt.decorators=[{type:i.NgModule,args:[{declarations:[],exports:[]}]}],Tt.ctorParameters=function(){return[]};var wt=new i.InjectionToken("DocumentToken"),Rt="browser",St="server",Ot="browserWorkerApp",It="browserWorkerUi";function Pt(t){return t===Rt}function At(t){return t===St}function Lt(t){return t===Ot}function Mt(t){return t===It}var Dt=new i.Version("4.4.6")},"2S6f":function(t,e,n){"use strict";var r={easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return 1-r.easeIn(1-t)},inAndOut:function(t){return 3*t*t-2*t*t*t},linear:function(t){return t},upAndDown:function(t){return t<.5?r.inAndOut(2*t):1-r.inAndOut(2*(t-.5))}};e.a=r},"2fQu":function(t,e,n){"use strict";var r=n("CXX0"),i=n("6t+W"),o=n("dDPv"),a=n("ZVo0"),s=function(){o.a.call(this),this.revision_=0};r.a.inherits(s,o.a),s.unByKey=function(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)i.a.unlistenByKey(t[e]);else i.a.unlistenByKey(t)},s.prototype.changed=function(){++this.revision_,this.dispatchEvent(a.a.CHANGE)},s.prototype.dispatchEvent,s.prototype.getRevision=function(){return this.revision_},s.prototype.on=function(t,e,n){if(Array.isArray(t)){for(var r=t.length,o=new Array(r),a=0;a<r;++a)o[a]=i.a.listen(this,t[a],e,n);return o}return i.a.listen(this,t,e,n)},s.prototype.once=function(t,e,n){if(Array.isArray(t)){for(var r=t.length,o=new Array(r),a=0;a<r;++a)o[a]=i.a.listenOnce(this,t[a],e,n);return o}return i.a.listenOnce(this,t,e,n)},s.prototype.un=function(t,e,n){if(Array.isArray(t))for(var r=0,o=t.length;r<o;++r)i.a.unlisten(this,t[r],e,n);else i.a.unlisten(this,t,e,n)},e.a=s},"2p9+":function(t,e,n){"use strict";var r=function(t,e,n,r){this.minX=t,this.maxX=e,this.minY=n,this.maxY=r};r.createOrUpdate=function(t,e,n,i,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=n,o.maxY=i,o):new r(t,e,n,i)},r.prototype.contains=function(t){return this.containsXY(t[1],t[2])},r.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},r.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},r.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},r.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},r.prototype.getHeight=function(){return this.maxY-this.minY+1},r.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},r.prototype.getWidth=function(){return this.maxX-this.minX+1},r.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},e.a=r},"3BBv":function(t,e,n){"use strict";e.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},"3ahG":function(t,e,n){"use strict";var r={lineString:function(t,e,n,r){var i,o=t[e],a=t[e+1],s=0;for(i=e+r;i<n;i+=r){var u=t[i],l=t[i+1];s+=Math.sqrt((u-o)*(u-o)+(l-a)*(l-a)),o=u,a=l}return s},linearRing:function(t,e,n,i){var o=r.lineString(t,e,n,i),a=t[n-i]-t[e],s=t[n-i+1]-t[e+1];return o+=Math.sqrt(a*a+s*s)}};e.a=r},"3j3K":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(function(t){n.d(e,"Class",function(){return b}),n.d(e,"createPlatform",function(){return Ke}),n.d(e,"assertPlatform",function(){return Ze}),n.d(e,"destroyPlatform",function(){return Je}),n.d(e,"getPlatform",function(){return Qe}),n.d(e,"PlatformRef",function(){return $e}),n.d(e,"ApplicationRef",function(){return en}),n.d(e,"enableProdMode",function(){return Xe}),n.d(e,"isDevMode",function(){return ze}),n.d(e,"createPlatformFactory",function(){return qe}),n.d(e,"NgProbeToken",function(){return Ye}),n.d(e,"APP_ID",function(){return qt}),n.d(e,"PACKAGE_ROOT_URL",function(){return ne}),n.d(e,"PLATFORM_INITIALIZER",function(){return $t}),n.d(e,"PLATFORM_ID",function(){return te}),n.d(e,"APP_BOOTSTRAP_LISTENER",function(){return ee}),n.d(e,"APP_INITIALIZER",function(){return Yt}),n.d(e,"ApplicationInitStatus",function(){return Kt}),n.d(e,"DebugElement",function(){return In}),n.d(e,"DebugNode",function(){return On}),n.d(e,"asNativeElements",function(){return Pn}),n.d(e,"getDebugNode",function(){return Dn}),n.d(e,"Testability",function(){return ke}),n.d(e,"TestabilityRegistry",function(){return je}),n.d(e,"setTestabilityGetter",function(){return Ue}),n.d(e,"TRANSLATIONS",function(){return ar}),n.d(e,"TRANSLATIONS_FORMAT",function(){return sr}),n.d(e,"LOCALE_ID",function(){return or}),n.d(e,"MissingTranslationStrategy",function(){return ur}),n.d(e,"ApplicationModule",function(){return pr}),n.d(e,"wtfCreateScope",function(){return Oe}),n.d(e,"wtfLeave",function(){return Ie}),n.d(e,"wtfStartTimeRange",function(){return Pe}),n.d(e,"wtfEndTimeRange",function(){return Ae}),n.d(e,"Type",function(){return xt}),n.d(e,"EventEmitter",function(){return Le}),n.d(e,"ErrorHandler",function(){return yt}),n.d(e,"Sanitizer",function(){return dr}),n.d(e,"SecurityContext",function(){return fr}),n.d(e,"ANALYZE_FOR_ENTRY_COMPONENTS",function(){return S}),n.d(e,"Attribute",function(){return O}),n.d(e,"ContentChild",function(){return A}),n.d(e,"ContentChildren",function(){return P}),n.d(e,"Query",function(){return I}),n.d(e,"ViewChild",function(){return M}),n.d(e,"ViewChildren",function(){return L}),n.d(e,"Component",function(){return j}),n.d(e,"Directive",function(){return k}),n.d(e,"HostBinding",function(){return B}),n.d(e,"HostListener",function(){return H}),n.d(e,"Input",function(){return G}),n.d(e,"Output",function(){return V}),n.d(e,"Pipe",function(){return U}),n.d(e,"CUSTOM_ELEMENTS_SCHEMA",function(){return W}),n.d(e,"NO_ERRORS_SCHEMA",function(){return X}),n.d(e,"NgModule",function(){return z}),n.d(e,"ViewEncapsulation",function(){return Y}),n.d(e,"Version",function(){return q}),n.d(e,"VERSION",function(){return Z}),n.d(e,"forwardRef",function(){return rt}),n.d(e,"resolveForwardRef",function(){return it}),n.d(e,"Injector",function(){return ut}),n.d(e,"ReflectiveInjector",function(){return Bt}),n.d(e,"ResolvedReflectiveFactory",function(){return Dt}),n.d(e,"ReflectiveKey",function(){return Ct}),n.d(e,"InjectionToken",function(){return l}),n.d(e,"OpaqueToken",function(){return u}),n.d(e,"Inject",function(){return J}),n.d(e,"Optional",function(){return Q}),n.d(e,"Injectable",function(){return $}),n.d(e,"Self",function(){return tt}),n.d(e,"SkipSelf",function(){return et}),n.d(e,"Host",function(){return nt}),n.d(e,"NgZone",function(){return Me}),n.d(e,"RenderComponentType",function(){return on}),n.d(e,"Renderer",function(){return sn}),n.d(e,"Renderer2",function(){return hn}),n.d(e,"RendererFactory2",function(){return ln}),n.d(e,"RendererStyleFlags2",function(){return cn}),n.d(e,"RootRenderer",function(){return un}),n.d(e,"COMPILER_OPTIONS",function(){return se}),n.d(e,"Compiler",function(){return ae}),n.d(e,"CompilerFactory",function(){return ue}),n.d(e,"ModuleWithComponentFactories",function(){return ie}),n.d(e,"ComponentFactory",function(){return ce}),n.d(e,"ComponentRef",function(){return le}),n.d(e,"ComponentFactoryResolver",function(){return de}),n.d(e,"ElementRef",function(){return pn}),n.d(e,"NgModuleFactory",function(){return Ee}),n.d(e,"NgModuleRef",function(){return me}),n.d(e,"NgModuleFactoryLoader",function(){return fn}),n.d(e,"getModuleFactory",function(){return yn}),n.d(e,"QueryList",function(){return vn}),n.d(e,"SystemJsNgModuleLoader",function(){return En}),n.d(e,"SystemJsNgModuleLoaderConfig",function(){return _n}),n.d(e,"TemplateRef",function(){return bn}),n.d(e,"ViewContainerRef",function(){return xn}),n.d(e,"EmbeddedViewRef",function(){return Rn}),n.d(e,"ViewRef",function(){return wn}),n.d(e,"ChangeDetectionStrategy",function(){return D}),n.d(e,"ChangeDetectorRef",function(){return Tn}),n.d(e,"DefaultIterableDiffer",function(){return Wn}),n.d(e,"IterableDiffers",function(){return Qn}),n.d(e,"KeyValueDiffers",function(){return $n}),n.d(e,"SimpleChange",function(){return Un}),n.d(e,"WrappedValue",function(){return kn}),n.d(e,"platformCore",function(){return ir}),n.d(e,"\u0275ALLOW_MULTIPLE_PLATFORMS",function(){return We}),n.d(e,"\u0275APP_ID_RANDOM_PROVIDER",function(){return Jt}),n.d(e,"\u0275ValueUnwrapper",function(){return jn}),n.d(e,"\u0275devModeEqual",function(){return Fn}),n.d(e,"\u0275isListLikeIterable",function(){return Gn}),n.d(e,"\u0275ChangeDetectorStatus",function(){return N}),n.d(e,"\u0275isDefaultChangeDetectionStrategy",function(){return F}),n.d(e,"\u0275Console",function(){return re}),n.d(e,"\u0275ERROR_COMPONENT_TYPE",function(){return lt}),n.d(e,"\u0275ComponentFactory",function(){return ce}),n.d(e,"\u0275CodegenComponentFactoryResolver",function(){return ve}),n.d(e,"\u0275ViewMetadata",function(){return K}),n.d(e,"\u0275ReflectionCapabilities",function(){return Rt}),n.d(e,"\u0275RenderDebugInfo",function(){return an}),n.d(e,"\u0275global",function(){return p}),n.d(e,"\u0275looseIdentical",function(){return y}),n.d(e,"\u0275stringify",function(){return v}),n.d(e,"\u0275makeDecorator",function(){return x}),n.d(e,"\u0275isObservable",function(){return zt}),n.d(e,"\u0275isPromise",function(){return Xt}),n.d(e,"\u0275clearProviderOverrides",function(){return Ua}),n.d(e,"\u0275overrideProvider",function(){return ja}),n.d(e,"\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR",function(){return co}),n.d(e,"\u0275registerModuleFactory",function(){return gn}),n.d(e,"\u0275EMPTY_ARRAY",function(){return ui}),n.d(e,"\u0275EMPTY_MAP",function(){return li}),n.d(e,"\u0275and",function(){return ci}),n.d(e,"\u0275ccf",function(){return Pi}),n.d(e,"\u0275cmf",function(){return Ga}),n.d(e,"\u0275crt",function(){return Ar}),n.d(e,"\u0275did",function(){return to}),n.d(e,"\u0275eld",function(){return hi}),n.d(e,"\u0275elementEventFullName",function(){return Br}),n.d(e,"\u0275getComponentViewDefinitionFactory",function(){return Ai}),n.d(e,"\u0275inlineInterpolate",function(){return ai}),n.d(e,"\u0275interpolate",function(){return oi}),n.d(e,"\u0275mod",function(){return Ei}),n.d(e,"\u0275mpd",function(){return mi}),n.d(e,"\u0275ncd",function(){return xo}),n.d(e,"\u0275nov",function(){return Bi}),n.d(e,"\u0275pid",function(){return eo}),n.d(e,"\u0275prd",function(){return no}),n.d(e,"\u0275pad",function(){return Ro}),n.d(e,"\u0275pod",function(){return So}),n.d(e,"\u0275ppd",function(){return wo}),n.d(e,"\u0275qud",function(){return _o}),n.d(e,"\u0275ted",function(){return Io}),n.d(e,"\u0275unv",function(){return Or}),n.d(e,"\u0275vid",function(){return Lo}),n.d(e,"AUTO_STYLE",function(){return Za}),n.d(e,"trigger",function(){return Ja}),n.d(e,"animate",function(){return Qa}),n.d(e,"group",function(){return $a}),n.d(e,"sequence",function(){return ts}),n.d(e,"style",function(){return es}),n.d(e,"state",function(){return ns}),n.d(e,"keyframes",function(){return rs}),n.d(e,"transition",function(){return is}),n.d(e,"\u0275x",function(){return Ha}),n.d(e,"\u0275y",function(){return Wa}),n.d(e,"\u0275bc",function(){return Ka}),n.d(e,"\u0275z",function(){return Xa}),n.d(e,"\u0275bb",function(){return Ya}),n.d(e,"\u0275ba",function(){return za}),n.d(e,"\u0275bd",function(){return qa}),n.d(e,"\u0275w",function(){return Ba}),n.d(e,"\u0275k",function(){return lr}),n.d(e,"\u0275l",function(){return cr}),n.d(e,"\u0275m",function(){return hr}),n.d(e,"\u0275e",function(){return nn}),n.d(e,"\u0275f",function(){return Zt}),n.d(e,"\u0275g",function(){return nr}),n.d(e,"\u0275h",function(){return rr}),n.d(e,"\u0275i",function(){return Bn}),n.d(e,"\u0275j",function(){return qn}),n.d(e,"\u0275b",function(){return Ht}),n.d(e,"\u0275c",function(){return At}),n.d(e,"\u0275d",function(){return kt}),n.d(e,"\u0275n",function(){return Re}),n.d(e,"\u0275p",function(){return be}),n.d(e,"\u0275o",function(){return Ce}),n.d(e,"\u0275s",function(){return we}),n.d(e,"\u0275q",function(){return xe}),n.d(e,"\u0275r",function(){return Te}),n.d(e,"\u0275a",function(){return w}),n.d(e,"\u0275t",function(){return ro}),n.d(e,"\u0275u",function(){return Er});var r=n("TToO"),i=n("YaPU"),o=n("/nXB"),a=n("Rf9G"),s=n("g5jc"),u=function(){function t(t){this._desc=t}return t.prototype.toString=function(){return"Token "+this._desc},t}(),l=function(t){function e(e){return t.call(this,e)||this}return r.a(e,t),e.prototype.toString=function(){return"InjectionToken "+this._desc},e}(u),c="undefined"!=typeof window&&window,h="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,p=c||"undefined"!=typeof t&&t||h,f=null;function d(){if(!f){var t=p.Symbol;if(t&&t.iterator)f=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(f=r)}}return f}function g(t){Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function y(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function v(t){if("string"==typeof t)return t;if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}var _=0,m=p.Reflect;function E(t){return"function"==typeof t&&t.hasOwnProperty("annotation")&&(t=t.annotation),t}function C(t,e){if(t===Object||t===String||t===Function||t===Number||t===Array)throw new Error("Can not use native "+v(t)+" as constructor");if("function"==typeof t)return t;if(Array.isArray(t)){var n=t,r=n.length-1,i=t[r];if("function"!=typeof i)throw new Error("Last position of Class method array must be Function in key "+e+" was '"+v(i)+"'");if(r!=i.length)throw new Error("Number of annotations ("+r+") does not match number of arguments ("+i.length+") in the function: "+v(i));for(var o=[],a=0,s=n.length-1;a<s;a++){var u=[];o.push(u);var l=n[a];if(Array.isArray(l))for(var c=0;c<l.length;c++)u.push(E(l[c]));else"function"==typeof l?u.push(E(l)):u.push(l)}return m.defineMetadata("parameters",o,i),i}throw new Error("Only Function or Array is supported in Class definition for key '"+e+"' is '"+v(t)+"'")}function b(t){var e=C(t.hasOwnProperty("constructor")?t.constructor:void 0,"constructor"),n=e.prototype;if(t.hasOwnProperty("extends")){if("function"!=typeof t.extends)throw new Error("Class definition 'extends' property must be a constructor function was: "+v(t.extends));e.prototype=n=Object.create(t.extends.prototype)}for(var r in t)"extends"!==r&&"prototype"!==r&&t.hasOwnProperty(r)&&(n[r]=C(t[r],r));this&&this.annotations instanceof Array&&m.defineMetadata("annotations",this.annotations,e);var i=e.name;return i&&"constructor"!==i||(e.overriddenName="class"+_++),e}function x(t,e,n,r){var i=T(e);function o(t){if(!m||!m.getOwnMetadata)throw"reflect-metadata shim is required when using class decorators";if(this instanceof o)return i.call(this,t),this;var e=new o(t),n="function"==typeof this&&Array.isArray(this.annotations)?this.annotations:[];n.push(e);var a=function(t){var n=m.getOwnMetadata("annotations",t)||[];return n.push(e),m.defineMetadata("annotations",n,t),t};return a.annotations=n,a.Class=b,r&&r(a),a}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.toString=function(){return"@"+t},o.annotationCls=o,o}function T(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var r=t.apply(void 0,e);for(var i in r)this[i]=r[i]}}}function w(t,e,n){var r=T(e);function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this instanceof i)return r.apply(this,t),this;var n=new(i.bind.apply(i,[void 0].concat(t)));return o.annotation=n,o;function o(t,e,r){for(var i=m.getOwnMetadata("parameters",t)||[];i.length<=r;)i.push(null);return i[r]=i[r]||[],i[r].push(n),m.defineMetadata("parameters",i,t),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.toString=function(){return"@"+t},i.annotationCls=i,i}function R(t,e,n){var r=T(e);function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this instanceof i)return r.apply(this,t),this;var n=new(i.bind.apply(i,[void 0].concat(t)));return function(t,e){var r=m.getOwnMetadata("propMetadata",t.constructor)||{};r[e]=r.hasOwnProperty(e)&&r[e]||[],r[e].unshift(n),m.defineMetadata("propMetadata",r,t.constructor)}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.toString=function(){return"@"+t},i.annotationCls=i,i}var S=new l("AnalyzeForEntryComponents"),O=w("Attribute",function(t){return{attributeName:t}}),I=function(){return function(){}}(),P=R("ContentChildren",function(t,e){return void 0===e&&(e={}),Object.assign({selector:t,first:!1,isViewQuery:!1,descendants:!1},e)},I),A=R("ContentChild",function(t,e){return void 0===e&&(e={}),Object.assign({selector:t,first:!0,isViewQuery:!1,descendants:!0},e)},I),L=R("ViewChildren",function(t,e){return void 0===e&&(e={}),Object.assign({selector:t,first:!1,isViewQuery:!0,descendants:!0},e)},I),M=R("ViewChild",function(t,e){return Object.assign({selector:t,first:!0,isViewQuery:!0,descendants:!0},e)},I),D={OnPush:0,Default:1};D[D.OnPush]="OnPush",D[D.Default]="Default";var N={};function F(t){return null==t||t===D.Default}N.CheckOnce=0,N.Checked=1,N.CheckAlways=2,N.Detached=3,N.Errored=4,N.Destroyed=5,N[N.CheckOnce]="CheckOnce",N[N.Checked]="Checked",N[N.CheckAlways]="CheckAlways",N[N.Detached]="Detached",N[N.Errored]="Errored",N[N.Destroyed]="Destroyed";var k=x("Directive",function(t){return void 0===t&&(t={}),t}),j=x("Component",function(t){return void 0===t&&(t={}),Object.assign({changeDetection:D.Default},t)},k),U=x("Pipe",function(t){return Object.assign({pure:!0},t)}),G=R("Input",function(t){return{bindingPropertyName:t}}),V=R("Output",function(t){return{bindingPropertyName:t}}),B=R("HostBinding",function(t){return{hostPropertyName:t}}),H=R("HostListener",function(t,e){return{eventName:t,args:e}}),W={name:"custom-elements"},X={name:"no-errors-schema"},z=x("NgModule",function(t){return t}),Y={Emulated:0,Native:1,None:2};Y[Y.Emulated]="Emulated",Y[Y.Native]="Native",Y[Y.None]="None";var K=function(){return function(t){void 0===t&&(t={}),this.templateUrl=t.templateUrl,this.template=t.template,this.styleUrls=t.styleUrls,this.styles=t.styles,this.encapsulation=t.encapsulation,this.animations=t.animations,this.interpolation=t.interpolation}}(),q=function(){function t(t){this.full=t}return Object.defineProperty(t.prototype,"major",{get:function(){return this.full.split(".")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minor",{get:function(){return this.full.split(".")[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patch",{get:function(){return this.full.split(".").slice(2).join(".")},enumerable:!0,configurable:!0}),t}(),Z=new q("4.4.6"),J=w("Inject",function(t){return{token:t}}),Q=w("Optional"),$=x("Injectable"),tt=w("Self"),et=w("SkipSelf"),nt=w("Host");function rt(t){return t.__forward_ref__=rt,t.toString=function(){return v(this())},t}function it(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===rt?t():t}var ot=new Object,at=ot,st=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=ot),e===ot)throw new Error("No provider for "+v(t)+"!");return e},t}(),ut=function(){function t(){}return t.prototype.get=function(t,e){},t.prototype.get=function(t,e){},t}();ut.THROW_IF_NOT_FOUND=ot,ut.NULL=new st;var lt="ngComponentType",ct="ngDebugContext",ht="ngOriginalError",pt="ngErrorLogger";function ft(t){return t[ct]}function dt(t){return t[ht]}function gt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,e)}var yt=function(){function t(t){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[pt]||gt}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?ft(t)?ft(t):this._findContext(dt(t)):null},t.prototype._findOriginalError=function(t){for(var e=dt(t);e&&dt(e);)e=dt(e);return e},t}();function vt(t){return t.length>1?" ("+function(t){for(var e=[],n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}(t.slice().reverse()).map(function(t){return v(t.token)}).join(" -> ")+")":""}function _t(t,e,n,r){var i=[e],o=n(i),a=r?function(t,e){var n=t+" caused by: "+(e instanceof Error?e.message:e),r=Error(n);return r[ht]=e,r}(o,r):Error(o);return a.addKey=mt,a.keys=i,a.injectors=[t],a.constructResolvingMessage=n,a[ht]=r,a}function mt(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function Et(t,e){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];o&&0!=o.length?n.push(o.map(v).join(" ")):n.push("?")}return Error("Cannot resolve all parameters for '"+v(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+v(t)+"' is decorated with Injectable.")}var Ct=function(){function t(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!")}return Object.defineProperty(t.prototype,"displayName",{get:function(){return v(this.token)},enumerable:!0,configurable:!0}),t.get=function(t){return bt.get(it(t))},Object.defineProperty(t,"numberOfKeys",{get:function(){return bt.numberOfKeys},enumerable:!0,configurable:!0}),t}(),bt=new(function(){function t(){this._allKeys=new Map}return t.prototype.get=function(t){if(t instanceof Ct)return t;if(this._allKeys.has(t))return this._allKeys.get(t);var e=new Ct(t,Ct.numberOfKeys);return this._allKeys.set(t,e),e},Object.defineProperty(t.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),t}()),xt=Function;function Tt(t){return"function"==typeof t}var wt=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Rt=function(){function t(t){this._reflect=t||p.Reflect}return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,[void 0].concat(e)))}},t.prototype._zipTypesAndAnnotations=function(t,e){var n;n="undefined"==typeof t?new Array(e.length):new Array(t.length);for(var r=0;r<n.length;r++)"undefined"==typeof t?n[r]=[]:t[r]!=Object?n[r]=[t[r]]:n[r]=[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n},t.prototype._ownParameters=function(t,e){if(wt.exec(t.toString()))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;var n=t.ctorParameters;if(n&&n!==e.ctorParameters){var r="function"==typeof n?n():n,i=r.map(function(t){return t&&t.type}),o=r.map(function(t){return t&&St(t.decorators)});return this._zipTypesAndAnnotations(i,o)}if(null!=this._reflect&&null!=this._reflect.getOwnMetadata){o=this._reflect.getOwnMetadata("parameters",t);if((i=this._reflect.getOwnMetadata("design:paramtypes",t))||o)return this._zipTypesAndAnnotations(i,o)}return new Array(t.length).fill(void 0)},t.prototype.parameters=function(t){if(!Tt(t))return[];var e=Ot(t),n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]},t.prototype._ownAnnotations=function(t,e){if(t.annotations&&t.annotations!==e.annotations){var n=t.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return t.decorators&&t.decorators!==e.decorators?St(t.decorators):this._reflect&&this._reflect.getOwnMetadata?this._reflect.getOwnMetadata("annotations",t):null},t.prototype.annotations=function(t){if(!Tt(t))return[];var e=Ot(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)},t.prototype._ownPropMetadata=function(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){var n=t.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(t.propDecorators&&t.propDecorators!==e.propDecorators){var r=t.propDecorators,i={};return Object.keys(r).forEach(function(t){i[t]=St(r[t])}),i}return this._reflect&&this._reflect.getOwnMetadata?this._reflect.getOwnMetadata("propMetadata",t):null},t.prototype.propMetadata=function(t){if(!Tt(t))return{};var e=Ot(t),n={};if(e!==Object){var r=this.propMetadata(e);Object.keys(r).forEach(function(t){n[t]=r[t]})}var i=this._ownPropMetadata(t,e);return i&&Object.keys(i).forEach(function(t){var e=[];n.hasOwnProperty(t)&&e.push.apply(e,n[t]),e.push.apply(e,i[t]),n[t]=e}),n},t.prototype.hasLifecycleHook=function(t,e){return t instanceof xt&&e in t.prototype},t.prototype.getter=function(t){return new Function("o","return o."+t+";")},t.prototype.setter=function(t){return new Function("o","v","return o."+t+" = v;")},t.prototype.method=function(t){return new Function("o","args","if (!o."+t+") throw new Error('\""+t+"\" is undefined');\n        return o."+t+".apply(o, args);")},t.prototype.importUri=function(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+v(t)},t.prototype.resourceUri=function(t){return"./"+v(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return r},t.prototype.resolveEnum=function(t,e){return t[e]},t}();function St(t){return t?t.map(function(t){var e=t.type.annotationCls,n=t.args?t.args:[];return new(e.bind.apply(e,[void 0].concat(n)))}):[]}function Ot(t){var e=Object.getPrototypeOf(t.prototype);return(e?e.constructor:null)||Object}var It=function(){function t(t){this.reflectionCapabilities=t}return t.prototype.updateCapabilities=function(t){this.reflectionCapabilities=t},t.prototype.factory=function(t){return this.reflectionCapabilities.factory(t)},t.prototype.parameters=function(t){return this.reflectionCapabilities.parameters(t)},t.prototype.annotations=function(t){return this.reflectionCapabilities.annotations(t)},t.prototype.propMetadata=function(t){return this.reflectionCapabilities.propMetadata(t)},t.prototype.hasLifecycleHook=function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)},t.prototype.getter=function(t){return this.reflectionCapabilities.getter(t)},t.prototype.setter=function(t){return this.reflectionCapabilities.setter(t)},t.prototype.method=function(t){return this.reflectionCapabilities.method(t)},t.prototype.importUri=function(t){return this.reflectionCapabilities.importUri(t)},t.prototype.resourceUri=function(t){return this.reflectionCapabilities.resourceUri(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return this.reflectionCapabilities.resolveIdentifier(t,e,n,r)},t.prototype.resolveEnum=function(t,e){return this.reflectionCapabilities.resolveEnum(t,e)},t}(),Pt=new It(new Rt),At=function(){function t(t,e,n){this.key=t,this.optional=e,this.visibility=n}return t.fromKey=function(e){return new t(e,!1,null)},t}(),Lt=[],Mt=function(){function t(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n}return Object.defineProperty(t.prototype,"resolvedFactory",{get:function(){return this.resolvedFactories[0]},enumerable:!0,configurable:!0}),t}(),Dt=function(){return function(t,e){this.factory=t,this.dependencies=e}}();function Nt(t){var e,n;if(t.useClass){var r=it(t.useClass);e=Pt.factory(r),n=jt(r)}else t.useExisting?(e=function(t){return t},n=[At.fromKey(Ct.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=function(t,e){if(e){var n=e.map(function(t){return[t]});return e.map(function(e){return Ut(t,e,n)})}return jt(t)}(t.useFactory,t.deps)):(e=function(){return t.useValue},n=Lt);return new Dt(e,n)}function Ft(t){return new Mt(Ct.get(t.provide),[Nt(t)],t.multi||!1)}function kt(t){var e=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw Error("Cannot mix multi providers and regular providers, got: "+i+" "+r);if(r.multiProvider)for(var o=0;o<r.resolvedFactories.length;o++)i.resolvedFactories.push(r.resolvedFactories[o]);else e.set(r.key.id,r)}else{var a=void 0;a=r.multiProvider?new Mt(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,a)}}return e}(function t(e,n){e.forEach(function(e){if(e instanceof xt)n.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)n.push(e);else{if(!(e instanceof Array))throw Error("Invalid provider - only instances of Provider and Type are allowed, got: "+e);t(e,n)}});return n}(t,[]).map(Ft),new Map);return Array.from(e.values())}function jt(t){var e=Pt.parameters(t);if(!e)return[];if(e.some(function(t){return null==t}))throw Et(t,e);return e.map(function(n){return Ut(t,n,e)})}function Ut(t,e,n){var r=null,i=!1;if(!Array.isArray(e))return Gt(e instanceof J?e.token:e,i,null);for(var o=null,a=0;a<e.length;++a){var s=e[a];s instanceof xt?r=s:s instanceof J?r=s.token:s instanceof Q?i=!0:s instanceof tt||s instanceof et?o=s:s instanceof l&&(r=s)}if(null!=(r=it(r)))return Gt(r,i,o);throw Et(t,n)}function Gt(t,e,n){return new At(Ct.get(t),e,n)}var Vt=new Object,Bt=function(){function t(){}return t.resolve=function(t){return kt(t)},t.resolveAndCreate=function(e,n){var r=t.resolve(e);return t.fromResolvedProviders(r,n)},t.fromResolvedProviders=function(t,e){return new Ht(t,e)},t.prototype.parent=function(){},t.prototype.resolveAndCreateChild=function(t){},t.prototype.createChildFromResolved=function(t){},t.prototype.resolveAndInstantiate=function(t){},t.prototype.instantiateResolved=function(t){},t.prototype.get=function(t,e){},t}(),Ht=function(){function t(t,e){this._constructionCounter=0,this._providers=t,this._parent=e||null;var n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(var r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=Vt}return t.prototype.get=function(t,e){return void 0===e&&(e=at),this._getByKey(Ct.get(t),null,e)},Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),t.prototype.resolveAndCreateChild=function(t){var e=Bt.resolve(t);return this.createChildFromResolved(e)},t.prototype.createChildFromResolved=function(e){var n=new t(e);return n._parent=this,n},t.prototype.resolveAndInstantiate=function(t){return this.instantiateResolved(Bt.resolve([t])[0])},t.prototype.instantiateResolved=function(t){return this._instantiateProvider(t)},t.prototype.getProviderAtIndex=function(t){if(t<0||t>=this._providers.length)throw function(t){return Error("Index "+t+" is out-of-bounds.")}(t);return this._providers[t]},t.prototype._new=function(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw e=this,n=t.key,_t(e,n,function(t){return"Cannot instantiate cyclic dependency!"+vt(t)});var e,n;return this._instantiateProvider(t)},t.prototype._getMaxNumberOfObjects=function(){return this.objs.length},t.prototype._instantiateProvider=function(t){if(t.multiProvider){for(var e=new Array(t.resolvedFactories.length),n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])},t.prototype._instantiate=function(t,e){var n,r,i,o,a,s=this,u=e.factory;try{n=e.dependencies.map(function(t){return s._getByReflectiveDependency(t)})}catch(e){throw e.addKey&&e.addKey(this,t.key),e}try{r=u.apply(void 0,n)}catch(e){throw i=this,o=e,e.stack,a=t.key,_t(i,a,function(t){var e=v(t[0].token);return o.message+": Error during instantiation of "+e+"!"+vt(t)+"."},o)}return r},t.prototype._getByReflectiveDependency=function(t){return this._getByKey(t.key,t.visibility,t.optional?null:at)},t.prototype._getByKey=function(t,e,n){return t===Wt?this:e instanceof tt?this._getByKeySelf(t,n):this._getByKeyDefault(t,n,e)},t.prototype._getObjByKeyId=function(t){for(var e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===Vt&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return Vt},t.prototype._throwOrNull=function(t,e){if(e!==at)return e;throw function(t,e){return _t(t,e,function(t){return"No provider for "+v(t[0].token)+"!"+vt(t)})}(this,t)},t.prototype._getByKeySelf=function(t,e){var n=this._getObjByKeyId(t.id);return n!==Vt?n:this._throwOrNull(t,e)},t.prototype._getByKeyDefault=function(e,n,r){var i;for(i=r instanceof et?this._parent:this;i instanceof t;){var o=i,a=o._getObjByKeyId(e.id);if(a!==Vt)return a;i=o._parent}return null!==i?i.get(e.token,n):this._throwOrNull(e,n)},Object.defineProperty(t.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+function(t,e){for(var n=new Array(t._providers.length),r=0;r<t._providers.length;++r)n[r]=e(t.getProviderAtIndex(r));return n}(this,function(t){return' "'+t.key.displayName+'" '}).join(", ")+"])"},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.displayName},t}(),Wt=Ct.get(ut);function Xt(t){return!!t&&"function"==typeof t.then}function zt(t){return!!t&&"function"==typeof t.subscribe}var Yt=new l("Application Initializer"),Kt=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this._done=!1,this._donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t._done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Xt(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},Object.defineProperty(t.prototype,"done",{get:function(){return this._done},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"donePromise",{get:function(){return this._donePromise},enumerable:!0,configurable:!0}),t}();Kt.decorators=[{type:$}],Kt.ctorParameters=function(){return[{type:Array,decorators:[{type:J,args:[Yt]},{type:Q}]}]};var qt=new l("AppId");function Zt(){return""+Qt()+Qt()+Qt()}var Jt={provide:qt,useFactory:Zt,deps:[]};function Qt(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var $t=new l("Platform Initializer"),te=new l("Platform ID"),ee=new l("appBootstrapListener"),ne=new l("Application Packages Root URL"),re=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t}();re.decorators=[{type:$}],re.ctorParameters=function(){return[]};var ie=function(){return function(t,e){this.ngModuleFactory=t,this.componentFactories=e}}();function oe(){throw new Error("Runtime compiler is not loaded")}var ae=function(){function t(){}return t.prototype.compileModuleSync=function(t){throw oe()},t.prototype.compileModuleAsync=function(t){throw oe()},t.prototype.compileModuleAndAllComponentsSync=function(t){throw oe()},t.prototype.compileModuleAndAllComponentsAsync=function(t){throw oe()},t.prototype.getNgContentSelectors=function(t){throw oe()},t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t}();ae.decorators=[{type:$}],ae.ctorParameters=function(){return[]};var se=new l("compilerOptions"),ue=function(){function t(){}return t.prototype.createCompiler=function(t){},t}(),le=function(){function t(){}return t.prototype.location=function(){},t.prototype.injector=function(){},t.prototype.instance=function(){},t.prototype.hostView=function(){},t.prototype.changeDetectorRef=function(){},t.prototype.componentType=function(){},t.prototype.destroy=function(){},t.prototype.onDestroy=function(t){},t}(),ce=function(){function t(){}return t.prototype.selector=function(){},t.prototype.componentType=function(){},t.prototype.ngContentSelectors=function(){},t.prototype.inputs=function(){},t.prototype.outputs=function(){},t.prototype.create=function(t,e,n,r){},t}();function he(t){var e=Error("No component factory found for "+v(t)+". Did you add it to @NgModule.entryComponents?");return e[pe]=t,e}var pe="ngComponent",fe=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw he(t)},t}(),de=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){},t}();de.NULL=new fe;var ge,ye,ve=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var i=t[r];this._factories.set(i.componentType,i)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw he(t);return new _e(e,this._ngModule)},t}(),_e=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r}return r.a(e,t),Object.defineProperty(e.prototype,"selector",{get:function(){return this.factory.selector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this.factory.componentType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngContentSelectors",{get:function(){return this.factory.ngContentSelectors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputs",{get:function(){return this.factory.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return this.factory.outputs},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(ce),me=function(){function t(){}return t.prototype.injector=function(){},t.prototype.componentFactoryResolver=function(){},t.prototype.instance=function(){},t.prototype.destroy=function(){},t.prototype.onDestroy=function(t){},t}(),Ee=function(){function t(){}return t.prototype.moduleType=function(){},t.prototype.create=function(t){},t}();function Ce(){var t=p.wtf;return!(!t||!(ge=t.trace))&&(ye=ge.events,!0)}function be(t,e){return void 0===e&&(e=null),ye.createScope(t,e)}function xe(t,e){return ge.leaveScope(t,e),e}function Te(t,e){return ge.beginTimeRange(t,e)}function we(t){ge.endTimeRange(t)}var Re=Ce();function Se(t,e){return null}var Oe=Re?be:function(t,e){return Se},Ie=Re?xe:function(t,e){return e},Pe=Re?Te:function(t,e){return null},Ae=Re?we:function(t){return null},Le=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return r.a(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var i,o=function(t){return null},a=function(){return null};return e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(o=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(a=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()})),t.prototype.subscribe.call(this,i,o,a)},e}(s.a),Me=function(){function t(t){var e=t.enableLongStackTrace,n=void 0!==e&&e;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Le(!1),this.onMicrotaskEmpty=new Le(!1),this.onStable=new Le(!1),this.onError=new Le(!1),"undefined"==typeof Zone)throw new Error("Angular requires Zone.js prolyfill.");Zone.assertZonePatched();var r;this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(r=this)._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,e,n,i,o,a){try{return Ne(r),t.invokeTask(n,i,o,a)}finally{Fe(r)}},onInvoke:function(t,e,n,i,o,a,s){try{return Ne(r),t.invoke(n,i,o,a,s)}finally{Fe(r)}},onHasTask:function(t,e,n,i){t.hasTask(n,i),e===n&&("microTask"==i.change?(r.hasPendingMicrotasks=i.microTask,De(r)):"macroTask"==i.change&&(r.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,n,i){return t.handleError(n,i),r.runOutsideAngular(function(){return r.onError.emit(i)}),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t){return this._inner.run(t)},t.prototype.runGuarded=function(t){return this._inner.runGuarded(t)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function De(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function Ne(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Fe(t){t._nesting--,De(t)}var ke=function(){function t(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){Me.assertNotInAngularZone(),g(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;this.isStable()?g(function(){for(;0!==t._callbacks.length;)t._callbacks.pop()(t._didWork);t._didWork=!1}):this._didWork=!0},t.prototype.whenStable=function(t){this._callbacks.push(t),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findBindings=function(t,e,n){return[]},t.prototype.findProviders=function(t,e,n){return[]},t}();ke.decorators=[{type:$}],ke.ctorParameters=function(){return[{type:Me}]};var je=function(){function t(){this._applications=new Map,Ve.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),Ve.findTestabilityInTree(this,t,e)},t}();function Ue(t){Ve=t}je.decorators=[{type:$}],je.ctorParameters=function(){return[]};var Ge,Ve=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),Be=!0,He=!1,We=new l("AllowMultipleToken");function Xe(){if(He)throw new Error("Cannot enable prod mode after platform setup.");Be=!1}function ze(){return He=!0,Be}var Ye=function(){return function(t,e){this.name=t,this.token=e}}();function Ke(t){if(Ge&&!Ge.destroyed&&!Ge.injector.get(We,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ge=t.get($e);var e=t.get($t,null);return e&&e.forEach(function(t){return t()}),Ge}function qe(t,e,n){void 0===n&&(n=[]);var r=new l("Platform: "+e);return function(e){void 0===e&&(e=[]);var i=Qe();return i&&!i.injector.get(We,!1)||(t?t(n.concat(e).concat({provide:r,useValue:!0})):Ke(Bt.resolveAndCreate(n.concat(e).concat({provide:r,useValue:!0})))),Ze(r)}}function Ze(t){var e=Qe();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}function Je(){Ge&&!Ge.destroyed&&Ge.destroy()}function Qe(){return Ge&&!Ge.destroyed?Ge:null}var $e=function(){function t(){}return t.prototype.bootstrapModuleFactory=function(t){},t.prototype.bootstrapModule=function(t,e){},t.prototype.onDestroy=function(t){},t.prototype.injector=function(){},t.prototype.destroy=function(){},t.prototype.destroyed=function(){},t}();var tn=function(t){function e(e){var n=t.call(this)||this;return n._injector=e,n._modules=[],n._destroyListeners=[],n._destroyed=!1,n}return r.a(e,t),e.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(e.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},e.prototype.bootstrapModuleFactory=function(t){return this._bootstrapModuleFactoryWithZone(t)},e.prototype._bootstrapModuleFactoryWithZone=function(t,e){var n=this;return e||(e=new Me({enableLongStackTrace:ze()})),e.run(function(){var r=Bt.resolveAndCreate([{provide:Me,useValue:e}],n.injector),i=t.create(r),o=i.injector.get(yt,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(function(){return rn(n._modules,i)}),e.runOutsideAngular(function(){return e.onError.subscribe({next:function(t){o.handleError(t)}})}),function(t,e,n){try{var r=n();return Xt(r)?r.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):r}catch(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}}(o,e,function(){var t=i.injector.get(Kt);return t.runInitializers(),t.donePromise.then(function(){return n._moduleDoBootstrap(i),i})})})},e.prototype.bootstrapModule=function(t,e){return void 0===e&&(e=[]),this._bootstrapModuleWithZone(t,e)},e.prototype._bootstrapModuleWithZone=function(t,e,n){var r=this;return void 0===e&&(e=[]),this.injector.get(ue).createCompiler(Array.isArray(e)?e:[e]).compileModuleAsync(t).then(function(t){return r._bootstrapModuleFactoryWithZone(t,n)})},e.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(en);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+v(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},e}($e);tn.decorators=[{type:$}],tn.ctorParameters=function(){return[{type:ut}]};var en=function(){function t(){}return t.prototype.bootstrap=function(t,e){},t.prototype.tick=function(){},t.prototype.componentTypes=function(){},t.prototype.components=function(){},t.prototype.attachView=function(t){},t.prototype.detachView=function(t){},t.prototype.viewCount=function(){},t.prototype.isStable=function(){},t}(),nn=function(t){function e(e,n,r,s,u,l){var c=t.call(this)||this;c._zone=e,c._console=n,c._injector=r,c._exceptionHandler=s,c._componentFactoryResolver=u,c._initStatus=l,c._bootstrapListeners=[],c._rootComponents=[],c._rootComponentTypes=[],c._views=[],c._runningTick=!1,c._enforceNoNewChanges=!1,c._stable=!0,c._enforceNoNewChanges=ze(),c._zone.onMicrotaskEmpty.subscribe({next:function(){c._zone.run(function(){c.tick()})}});var h=new i.a(function(t){c._stable=c._zone.isStable&&!c._zone.hasPendingMacrotasks&&!c._zone.hasPendingMicrotasks,c._zone.runOutsideAngular(function(){t.next(c._stable),t.complete()})}),p=new i.a(function(t){var e;c._zone.runOutsideAngular(function(){e=c._zone.onStable.subscribe(function(){Me.assertNotInAngularZone(),g(function(){c._stable||c._zone.hasPendingMacrotasks||c._zone.hasPendingMicrotasks||(c._stable=!0,t.next(!0))})})});var n=c._zone.onUnstable.subscribe(function(){Me.assertInAngularZone(),c._stable&&(c._stable=!1,c._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});return c._isStable=Object(o.a)(h,a.a.call(p)),c}return r.a(e,t),e.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},e.prototype.detachView=function(t){var e=t;rn(this._views,e),e.detachFromAppRef()},e.prototype.bootstrap=function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof ce?t:this._componentFactoryResolver.resolveComponentFactory(t),this._rootComponentTypes.push(n.componentType);var i=n instanceof _e?null:this._injector.get(me),o=e||n.selector,a=n.create(ut.NULL,[],o,i);a.onDestroy(function(){r._unloadComponent(a)});var s=a.injector.get(ke,null);return s&&a.injector.get(je).registerApplication(a.location.nativeElement,s),this._loadComponent(a),ze()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),a},e.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this._rootComponents.push(t),this._injector.get(ee,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},e.prototype._unloadComponent=function(t){this.detachView(t.hostView),rn(this._rootComponents,t)},e.prototype.tick=function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=e._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(e){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(e)})}finally{this._runningTick=!1,Ie(n)}},e.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(e.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentTypes",{get:function(){return this._rootComponentTypes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"components",{get:function(){return this._rootComponents},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isStable",{get:function(){return this._isStable},enumerable:!0,configurable:!0}),e}(en);function rn(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}nn._tickScope=Oe("ApplicationRef#tick()"),nn.decorators=[{type:$}],nn.ctorParameters=function(){return[{type:Me},{type:re},{type:ut},{type:yt},{type:de},{type:Kt}]};var on=function(){return function(t,e,n,r,i,o){this.id=t,this.templateUrl=e,this.slotCount=n,this.encapsulation=r,this.styles=i,this.animations=o}}(),an=function(){function t(){}return t.prototype.injector=function(){},t.prototype.component=function(){},t.prototype.providerTokens=function(){},t.prototype.references=function(){},t.prototype.context=function(){},t.prototype.source=function(){},t}(),sn=function(){function t(){}return t.prototype.selectRootElement=function(t,e){},t.prototype.createElement=function(t,e,n){},t.prototype.createViewRoot=function(t){},t.prototype.createTemplateAnchor=function(t,e){},t.prototype.createText=function(t,e,n){},t.prototype.projectNodes=function(t,e){},t.prototype.attachViewAfter=function(t,e){},t.prototype.detachView=function(t){},t.prototype.destroyView=function(t,e){},t.prototype.listen=function(t,e,n){},t.prototype.listenGlobal=function(t,e,n){},t.prototype.setElementProperty=function(t,e,n){},t.prototype.setElementAttribute=function(t,e,n){},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){},t.prototype.setElementStyle=function(t,e,n){},t.prototype.invokeElementMethod=function(t,e,n){},t.prototype.setText=function(t,e){},t.prototype.animate=function(t,e,n,r,i,o,a){},t}(),un=(new l("Renderer2Interceptor"),function(){function t(){}return t.prototype.renderComponent=function(t){},t}()),ln=function(){function t(){}return t.prototype.createRenderer=function(t,e){},t.prototype.begin=function(){},t.prototype.end=function(){},t.prototype.whenRenderingDone=function(){},t}(),cn={Important:1,DashCase:2};cn[cn.Important]="Important",cn[cn.DashCase]="DashCase";var hn=function(){function t(){}return t.prototype.data=function(){},t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){},t.prototype.createComment=function(t){},t.prototype.createText=function(t){},t.prototype.appendChild=function(t,e){},t.prototype.insertBefore=function(t,e,n){},t.prototype.removeChild=function(t,e){},t.prototype.selectRootElement=function(t){},t.prototype.parentNode=function(t){},t.prototype.nextSibling=function(t){},t.prototype.setAttribute=function(t,e,n,r){},t.prototype.removeAttribute=function(t,e,n){},t.prototype.addClass=function(t,e){},t.prototype.removeClass=function(t,e){},t.prototype.setStyle=function(t,e,n,r){},t.prototype.removeStyle=function(t,e,n){},t.prototype.setProperty=function(t,e,n){},t.prototype.setValue=function(t,e){},t.prototype.listen=function(t,e,n){},t}(),pn=function(){return function(t){this.nativeElement=t}}(),fn=function(){function t(){}return t.prototype.load=function(t){},t}(),dn=new Map;function gn(t,e){var n=dn.get(t);if(n)throw new Error("Duplicate module registered for "+t+" - "+n.moduleType.name+" vs "+e.moduleType.name);dn.set(t,e)}function yn(t){var e=dn.get(t);if(!e)throw new Error("No module with ID "+t+" loaded");return e}var vn=function(){function t(){this._dirty=!0,this._results=[],this._emitter=new Le}return Object.defineProperty(t.prototype,"changes",{get:function(){return this._emitter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._results.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return this._results[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this._results[this.length-1]},enumerable:!0,configurable:!0}),t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[d()]=function(){return this._results[d()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t(n):n;return e.concat(r)},[])}(t),this._dirty=!1},t.prototype.notifyOnChanges=function(){this._emitter.emit(this)},t.prototype.setDirty=function(){this._dirty=!0},Object.defineProperty(t.prototype,"dirty",{get:function(){return this._dirty},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._emitter.complete(),this._emitter.unsubscribe()},t}();var _n=function(){return function(){}}(),mn={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},En=function(){function t(t,e){this._compiler=t,this._config=e||mn}return t.prototype.load=function(t){return this._compiler instanceof ae?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,r=t.split("#"),i=r[0],o=r[1];return void 0===o&&(o="default"),n("6GLz")(i).then(function(t){return t[o]}).then(function(t){return Cn(t,i,o)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=t.split("#"),r=e[0],i=e[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("6GLz")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(t){return t[i+o]}).then(function(t){return Cn(t,r,i)})},t}();function Cn(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}En.decorators=[{type:$}],En.ctorParameters=function(){return[{type:ae},{type:_n,decorators:[{type:Q}]}]};var bn=function(){function t(){}return t.prototype.elementRef=function(){},t.prototype.createEmbeddedView=function(t){},t}(),xn=function(){function t(){}return t.prototype.element=function(){},t.prototype.injector=function(){},t.prototype.parentInjector=function(){},t.prototype.clear=function(){},t.prototype.get=function(t){},t.prototype.length=function(){},t.prototype.createEmbeddedView=function(t,e,n){},t.prototype.createComponent=function(t,e,n,r,i){},t.prototype.insert=function(t,e){},t.prototype.move=function(t,e){},t.prototype.indexOf=function(t){},t.prototype.remove=function(t){},t.prototype.detach=function(t){},t}(),Tn=function(){function t(){}return t.prototype.markForCheck=function(){},t.prototype.detach=function(){},t.prototype.detectChanges=function(){},t.prototype.checkNoChanges=function(){},t.prototype.reattach=function(){},t}(),wn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype.destroy=function(){},e.prototype.destroyed=function(){},e.prototype.onDestroy=function(t){},e}(Tn),Rn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype.context=function(){},e.prototype.rootNodes=function(){},e}(wn),Sn=function(){return function(t,e){this.name=t,this.callback=e}}(),On=function(){function t(t,e,n){this._debugContext=n,this.nativeNode=t,e&&e instanceof In?e.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){return"Deprecated since v4"},enumerable:!0,configurable:!0}),t}(),In=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}return r.a(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n,r=this,i=this.childNodes.indexOf(t);-1!==i&&((n=this.childNodes).splice.apply(n,[i+1,0].concat(e)),e.forEach(function(t){t.parent&&t.parent.removeChild(t),t.parent=r}))},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return An(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return Ln(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(On);function Pn(t){return t.map(function(t){return t.nativeElement})}function An(t,e,n){t.childNodes.forEach(function(t){t instanceof In&&(e(t)&&n.push(t),An(t,e,n))})}function Ln(t,e,n){t instanceof In&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof In&&Ln(t,e,n)})}var Mn=new Map;function Dn(t){return Mn.get(t)||null}function Nn(t){Mn.set(t.nativeNode,t)}function Fn(t,e){var n=Gn(t),r=Gn(e);return n&&r?function(t,e,n){var r=t[d()](),i=e[d()]();for(;;){var o=r.next(),a=i.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(t,e,Fn):!(n||!(t&&("object"==typeof t||"function"==typeof t))||r||!(e&&("object"==typeof e||"function"==typeof e)))||y(t,e)}var kn=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t}(),jn=function(){function t(){this.hasWrappedValue=!1}return t.prototype.unwrap=function(t){return t instanceof kn?(this.hasWrappedValue=!0,t.wrapped):t},t.prototype.reset=function(){this.hasWrappedValue=!1},t}(),Un=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}();function Gn(t){return!!Vn(t)&&(Array.isArray(t)||!(t instanceof Map)&&d()in t)}function Vn(t){return null!==t&&("function"==typeof t||"object"==typeof t)}var Bn=function(){function t(){}return t.prototype.supports=function(t){return Gn(t)},t.prototype.create=function(t,e){return new Wn(e||t)},t}(),Hn=function(t,e){return e},Wn=function(){function t(t){this._length=0,this._collection=null,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Hn}return Object.defineProperty(t.prototype,"collection",{get:function(){return this._collection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Kn(n,r,i)?e:n,a=Kn(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,l=s-r;if(u!=l){for(var c=0;c<u;c++){var h=c<i.length?i[c]:i[c]=0,p=h+c;l<=p&&p<u&&(i[c]=h+1)}i[o.previousIndex]=l-u}}a!==s&&t(o,a,s)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!Gn(t))throw new Error("Error trying to diff '"+v(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this._length=t.length;for(var s=0;s<this._length;s++)r=t[s],i=this._trackByFn(s,r),null!==o&&y(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),y(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[d()](),i=void 0;!(i=r.next()).done;)e(i.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&y(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),y(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this._length=n;return this._truncate(o),this._collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(y(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(y(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Xn(e,n),i,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),null===this._additionsTail?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Yn),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(null===this._movesTail?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Yn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t},t.prototype.toString=function(){var t=[];this.forEachItem(function(e){return t.push(e)});var e=[];this.forEachPreviousItem(function(t){return e.push(t)});var n=[];this.forEachAddedItem(function(t){return n.push(t)});var r=[];this.forEachMovedItem(function(t){return r.push(t)});var i=[];this.forEachRemovedItem(function(t){return i.push(t)});var o=[];return this.forEachIdentityChange(function(t){return o.push(t)}),"collection: "+t.join(", ")+"\nprevious: "+e.join(", ")+"\nadditions: "+n.join(", ")+"\nmoves: "+r.join(", ")+"\nremovals: "+i.join(", ")+"\nidentityChanges: "+o.join(", ")+"\n"},t}(),Xn=function(){function t(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}return t.prototype.toString=function(){return this.previousIndex===this.currentIndex?v(this.item):v(this.item)+"["+v(this.previousIndex)+"->"+v(this.currentIndex)+"]"},t}(),zn=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&y(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),Yn=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new zn,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=t,r=this.map.get(n);return r?r.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t.prototype.toString=function(){return"_DuplicateMap("+v(this.map)+")"},t}();function Kn(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var qn=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||Vn(t)},t.prototype.create=function(t){return new Zn},t}(),Zn=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||Vn(t)))throw new Error("Error trying to diff '"+v(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Jn(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){y(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),Jn=function(){return function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),Qn=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();return new t(e=e.concat(r))}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new et,new Q]]}},t.prototype.find=function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t}();var $n=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new et,new Q]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}(),tr=[new qn],er=[new Bn],nr=new Qn(er),rr=new $n(tr);var ir=qe(null,"core",[{provide:te,useValue:"unknown"},tn,{provide:$e,useExisting:tn},{provide:It,useFactory:function(){return Pt},deps:[]},je,re]),or=new l("LocaleId"),ar=new l("Translations"),sr=new l("TranslationsFormat"),ur={};function lr(){return nr}function cr(){return rr}function hr(t){return t||"en-US"}ur.Error=0,ur.Warning=1,ur.Ignore=2,ur[ur.Error]="Error",ur[ur.Warning]="Warning",ur[ur.Ignore]="Ignore";var pr=function(){return function(t){}}();pr.decorators=[{type:z,args:[{providers:[nn,{provide:en,useExisting:nn},Kt,ae,Jt,{provide:Qn,useFactory:lr},{provide:$n,useFactory:cr},{provide:or,useFactory:hr,deps:[[new J(or),new Q,new et]]}]}]}],pr.ctorParameters=function(){return[{type:en}]};var fr={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};fr[fr.NONE]="NONE",fr[fr.HTML]="HTML",fr[fr.STYLE]="STYLE",fr[fr.SCRIPT]="SCRIPT",fr[fr.URL]="URL",fr[fr.RESOURCE_URL]="RESOURCE_URL";var dr=function(){function t(){}return t.prototype.sanitize=function(t,e){},t}();function gr(t,e){return t.nodes[e]}function yr(t,e){return t.nodes[e]}function vr(t,e){return t.nodes[e]}function _r(t,e){return t.nodes[e]}function mr(t,e){return t.nodes[e]}var Er=function(){function t(){}return t.prototype.view=function(){},t.prototype.nodeIndex=function(){},t.prototype.injector=function(){},t.prototype.component=function(){},t.prototype.providerTokens=function(){},t.prototype.references=function(){},t.prototype.context=function(){},t.prototype.componentRenderElement=function(){},t.prototype.renderNode=function(){},t.prototype.logError=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t}(),Cr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,clearProviderOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function br(t,e,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return xr(n,e),n}(i,t)}function xr(t,e){t[ct]=e,t[pt]=e.logError.bind(e)}function Tr(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}var wr=function(){},Rr=new Map;function Sr(t){var e=Rr.get(t);return e||(e=v(t)+"_"+Rr.size,Rr.set(t,e)),e}function Or(t,e,n,r){if(r instanceof kn){r=r.wrapped;var i=t.def.nodes[e].bindingIndex+n,o=t.oldValues[i];o instanceof kn&&(o=o.wrapped),t.oldValues[i]=new kn(o)}return r}var Ir="$$undefined",Pr="$$empty";function Ar(t){return{id:Ir,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var Lr=0;function Mr(t,e,n,r){var i=t.oldValues;return!(!(2&t.state)&&y(i[e.bindingIndex+n],r))}function Dr(t,e,n,r){return!!Mr(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Nr(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!Fn(i,r))throw br(Cr.createDebugContext(t,e.nodeIndex),i,r,0!=(1&t.state))}function Fr(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function kr(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function jr(t,e,n,r){return Fr(33554432&t.def.nodes[e].flags?yr(t,e).componentView:t),Cr.handleEvent(t,e,n,r)}function Ur(t){return t.parent?yr(t.parent,t.parentNodeDef.nodeIndex):null}function Gr(t){return t.parent?t.parentNodeDef.parent:null}function Vr(t,e){switch(201347067&e.flags){case 1:return yr(t,e.nodeIndex).renderElement;case 2:return gr(t,e.nodeIndex).renderText}}function Br(t,e){return t?t+":"+e:e}function Hr(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Wr(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Xr(t){return 1<<t%32}function zr(t){var e={},n=0,r={};return t&&t.forEach(function(t){var i=t[0],o=t[1];"number"==typeof i?(e[i]=o,n|=Xr(i)):r[i]=o}),{matchedQueries:e,references:r,matchedQueryIds:n}}function Yr(t){return t.map(function(t){var e,n;return Array.isArray(t)?(n=t[0],e=t[1]):(n=0,e=t),{flags:n,token:e,tokenKey:Sr(e)}})}function Kr(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Y.Native?yr(t,n.renderParent.nodeIndex).renderElement:void 0:e}var qr=new WeakMap;function Zr(t){var e=qr.get(t);return e||((e=t(function(){return wr})).factory=t,qr.set(t,e)),e}function Jr(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(Vr(t,t.def.lastRenderRootNode))),Qr(t,e,0,t.def.nodes.length-1,n,r,i)}function Qr(t,e,n,r,i,o,a){for(var s=n;s<=r;s++){var u=t.def.nodes[s];11&u.flags&&ti(t,u,e,i,o,a),s+=u.childCount}}function $r(t,e,n,r,i,o){for(var a=t;a&&!Hr(a);)a=a.parent;for(var s=a.parent,u=Gr(a),l=u.nodeIndex+1,c=u.nodeIndex+u.childCount,h=l;h<=c;h++){var p=s.def.nodes[h];p.ngContentIndex===e&&ti(s,p,n,r,i,o),h+=p.childCount}if(!s.parent){var f=t.root.projectableNodes[e];if(f)for(h=0;h<f.length;h++)ei(t,f[h],n,r,i,o)}}function ti(t,e,n,r,i,o){if(8&e.flags)$r(t,e.ngContent.index,n,r,i,o);else{var a=Vr(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags){if(16&e.bindingFlags&&ei(t,a,n,r,i,o),32&e.bindingFlags)ei(yr(t,e.nodeIndex).componentView,a,n,r,i,o)}else ei(t,a,n,r,i,o);if(16777216&e.flags)for(var s=yr(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<s.length;u++)Jr(s[u],n,r,i,o);1&e.flags&&!e.element.name&&Qr(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function ei(t,e,n,r,i,o){var a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,i);break;case 3:a.removeChild(r,e);break;case 0:o.push(e)}}var ni=/^:([^:]+):(.+)$/;function ri(t){if(":"===t[0]){var e=t.match(ni);return[e[1],e[2]]}return["",t]}function ii(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function oi(t,e){for(var n="",r=0;r<2*t;r+=2)n=n+e[r]+si(e[r+1]);return n+e[2*t]}function ai(t,e,n,r,i,o,a,s,u,l,c,h,p,f,d,g,y,v,_,m){switch(t){case 1:return e+si(n)+r;case 2:return e+si(n)+r+si(i)+o;case 3:return e+si(n)+r+si(i)+o+si(a)+s;case 4:return e+si(n)+r+si(i)+o+si(a)+s+si(u)+l;case 5:return e+si(n)+r+si(i)+o+si(a)+s+si(u)+l+si(c)+h;case 6:return e+si(n)+r+si(i)+o+si(a)+s+si(u)+l+si(c)+h+si(p)+f;case 7:return e+si(n)+r+si(i)+o+si(a)+s+si(u)+l+si(c)+h+si(p)+f+si(d)+g;case 8:return e+si(n)+r+si(i)+o+si(a)+s+si(u)+l+si(c)+h+si(p)+f+si(d)+g+si(y)+v;case 9:return e+si(n)+r+si(i)+o+si(a)+s+si(u)+l+si(c)+h+si(p)+f+si(d)+g+si(y)+v+si(_)+m;default:throw new Error("Does not support more than 9 expressions")}}function si(t){return null!=t?t.toString():""}var ui=[],li={};function ci(t,e,n,r,i,o){t|=1;var a=zr(e),s=a.matchedQueries,u=a.references;return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:a.matchedQueryIds,references:u,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Zr(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||wr},provider:null,text:null,query:null,ngContent:null}}function hi(t,e,n,r,i,o,a,s,u,l,c,h){void 0===a&&(a=[]),l||(l=wr);var p=zr(n),f=p.matchedQueries,d=p.references,g=p.matchedQueryIds,y=null,v=null;o&&(y=(M=ri(o))[0],v=M[1]),s=s||[];for(var _=new Array(s.length),m=0;m<s.length;m++){var E=s[m],C=E[0],b=E[1],x=E[2],T=ri(b),w=T[0],R=T[1],S=void 0,O=void 0;switch(15&C){case 4:O=x;break;case 1:case 8:S=x}_[m]={flags:C,ns:w,name:R,nonMinifiedName:R,securityContext:S,suffix:O}}u=u||[];var I=new Array(u.length);for(m=0;m<u.length;m++){var P=u[m],A=P[0],L=P[1];I[m]={type:0,target:A,eventName:L,propName:null}}var M,D=(a=a||[]).map(function(t){var e=t[0],n=t[1],r=ri(e);return[r[0],r[1],n]});return h=function(t){if(t&&t.id===Ir){var e=null!=t.encapsulation&&t.encapsulation!==Y.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+Lr++:Pr}return t&&t.id===Pr&&(t=null),t||null}(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:f,matchedQueryIds:g,references:d,ngContentIndex:r,childCount:i,bindings:_,bindingFlags:ii(_),outputs:I,element:{ns:y,name:v,attrs:D,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:l||wr},provider:null,text:null,query:null,ngContent:null}}function pi(t,e,n){var r,i=n.element,o=t.root.selectorOrNode,a=t.renderer;if(t.parent||!o){r=i.name?a.createElement(i.name,i.ns):a.createComment("");var s=Kr(t,e,n);s&&a.appendChild(s,r)}else r=a.selectRootElement(o);if(i.attrs)for(var u=0;u<i.attrs.length;u++){var l=i.attrs[u],c=l[0],h=l[1],p=l[2];a.setAttribute(r,h,p,c)}return r}function fi(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=di(t,n.nodeIndex,Br(o.target,o.eventName)),s=o.target,u=t;"component"===o.target&&(s=null,u=e);var l=u.renderer.listen(s||r,o.eventName,a);t.disposables[n.outputIndex+i]=l}}function di(t,e,n){return function(r){try{return jr(t,e,n,r)}catch(e){t.root.errorHandler.handleError(e)}}}function gi(t,e,n,r){if(!Dr(t,e,n,r))return!1;var i=e.bindings[n],o=yr(t,e.nodeIndex),a=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){var a=e.securityContext,s=a?t.root.sanitizer.sanitize(a,o):o;s=null!=s?s.toString():null;var u=t.renderer;null!=o?u.setAttribute(n,i,s,r):u.removeAttribute(n,i,r)}(t,i,a,i.ns,s,r);break;case 2:!function(t,e,n,r){var i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,a,s,r);break;case 4:!function(t,e,n,r,i){var o=t.root.sanitizer.sanitize(fr.STYLE,i);if(null!=o){o=o.toString();var a=e.suffix;null!=a&&(o+=a)}else o=null;var s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,a,s,r);break;case 8:!function(t,e,n,r,i){var o=e.securityContext,a=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,a)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,a,s,r)}return!0}var yi=new Object,vi=Sr(ut),_i=Sr(me);function mi(t,e,n,r){return{index:-1,deps:Yr(r),flags:t,token:e,value:n}}function Ei(t){for(var e={},n=0;n<t.length;n++){var r=t[n];r.index=n,e[Sr(r.token)]=r}return{factory:null,providersByKey:e,providers:t}}function Ci(t,e,n){if(void 0===n&&(n=ut.THROW_IF_NOT_FOUND),8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var r=e.tokenKey;switch(r){case vi:case _i:return t}var i=t._def.providersByKey[r];if(i){var o=t._providers[i.index];return void 0===o&&(o=t._providers[i.index]=bi(t,i)),o===yi?void 0:o}return t._parent.get(e.token,n)}function bi(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var r=n.length;switch(r){case 0:return new e;case 1:return new e(Ci(t,n[0]));case 2:return new e(Ci(t,n[0]),Ci(t,n[1]));case 3:return new e(Ci(t,n[0]),Ci(t,n[1]),Ci(t,n[2]));default:for(var i=new Array(r),o=0;o<r;o++)i[o]=Ci(t,n[o]);return new(e.bind.apply(e,[void 0].concat(i)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var r=n.length;switch(r){case 0:return e();case 1:return e(Ci(t,n[0]));case 2:return e(Ci(t,n[0]),Ci(t,n[1]));case 3:return e(Ci(t,n[0]),Ci(t,n[1]),Ci(t,n[2]));default:for(var i=Array(r),o=0;o<r;o++)i[o]=Ci(t,n[o]);return e.apply(void 0,i)}}(t,e.value,e.deps);break;case 2048:n=Ci(t,e.deps[0]);break;case 256:n=e.value}return void 0===n?yi:n}function xi(t,e,n,r){var i=e.viewContainer._embeddedViews;null!==n&&void 0!==n||(n=i.length),r.viewContainerParent=t,Si(i,n,r),function(t,e){var n=Ur(e);if(!n||n===t||16&e.state)return;e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]);r.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;var n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,r),Cr.dirtyParentQueries(r),wi(e,n>0?i[n-1]:null,r)}function Ti(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,Oi(n,e),Cr.dirtyParentQueries(r),Ri(r),r}function wi(t,e,n){var r=e?Vr(e,e.def.lastRenderRootNode):t.renderElement;Jr(n,2,n.renderer.parentNode(r),n.renderer.nextSibling(r),void 0)}function Ri(t){Jr(t,3,null,null,void 0)}function Si(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Oi(t,e){e>=t.length-1?t.pop():t.splice(e,1)}var Ii=new Object;function Pi(t,e,n,r,i,o){return new Li(t,e,n,r,i,o)}function Ai(t){return t.viewDefFactory}var Li=function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;return s.selector=e,s.componentType=n,s._inputs=i,s._outputs=o,s.ngContentSelectors=a,s.viewDefFactory=r,s}return r.a(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e){var r=e[n];t.push({propName:n,templateName:r})}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs){var n=this._outputs[e];t.push({propName:e,templateName:n})}return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var i=Zr(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=Cr.createRootView(t,e||[],n,i,r,Ii),s=vr(a,o).instance;return n&&a.renderer.setAttribute(yr(a,0).renderElement,"ng-version",Z.full),new Mi(a,new ki(a),s)},e}(ce),Mi=function(t){function e(e,n,r){var i=t.call(this)||this;return i._view=e,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i}return r.a(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new pn(yr(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new Vi(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"instance",{get:function(){return this._component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostView",{get:function(){return this._viewRef},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changeDetectorRef",{get:function(){return this._viewRef},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(le);function Di(t,e,n){return new Ni(t,e,n)}var Ni=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new pn(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new Vi(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=Gr(t),t=t.parent;return t?new Vi(t,e):new Vi(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=Ti(this._data,t);Cr.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new ki(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof _e||(i=o.get(me));var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n=t,r=n._view;return xi(this._view,this._data,e,r),n.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,a,s=this._embeddedViews.indexOf(t._view);return n=this._data,r=s,i=e,o=n.viewContainer._embeddedViews,a=o[r],Oi(o,r),null==i&&(i=o.length),Si(o,i,a),Cr.dirtyParentQueries(a),Ri(a),wi(n,i>0?o[i-1]:null,a),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=Ti(this._data,t);e&&Cr.destroyView(e)},t.prototype.detach=function(t){var e=Ti(this._data,t);return e?new ki(e):null},t}();function Fi(t){return new ki(t)}var ki=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return Jr(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){Fr(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin(),Cr.checkAndUpdateView(this._view),t.end&&t.end()},t.prototype.checkNoChanges=function(){Cr.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Cr.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,Ri(this._view),Cr.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function ji(t,e){return new Ui(t,e)}var Ui=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return r.a(e,t),e.prototype.createEmbeddedView=function(t){return new ki(Cr.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new pn(yr(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(bn);function Gi(t,e){return new Vi(t,e)}var Vi=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){void 0===e&&(e=ut.THROW_IF_NOT_FOUND);var n=!!this.elDef&&0!=(33554432&this.elDef.flags);return Cr.resolveDep(this.view,this.elDef,n,{flags:0,token:t,tokenKey:Sr(t)},e)},t}();function Bi(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=yr(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return gr(t,n.nodeIndex).renderText;if(20240&n.flags)return vr(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function Hi(t){return new Wi(t.renderer)}var Wi=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=ri(e),r=n[0],i=n[1],o=this.delegate.createElement(i,r);return t&&this.delegate.appendChild(t,o),o},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var r=ri(e),i=r[0],o=r[1];null!=n?this.delegate.setAttribute(t,o,n,i):this.delegate.removeAttribute(t,o,i)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function Xi(t,e,n,r){return new zi(t,e,n,r)}var zi=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var i=e.providers[r];4096&i.flags||(n[r]=bi(t,i))}}(this)}return t.prototype.get=function(t,e){return void 0===e&&(e=ut.THROW_IF_NOT_FOUND),Ci(this,{token:t,tokenKey:Sr(t),flags:0},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(de)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return this},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+v(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,r=0;r<n.providers.length;r++)if(131072&n.providers[r].flags){var i=t._providers[r];i&&i!==yi&&i.ngOnDestroy()}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),Yi=Sr(sn),Ki=Sr(hn),qi=Sr(pn),Zi=Sr(xn),Ji=Sr(bn),Qi=Sr(Tn),$i=Sr(ut);function to(t,e,n,r,i,o,a,s){var u=[];if(a)for(var l in a){var c=a[l],h=c[0],p=c[1];u[h]={flags:8,name:l,nonMinifiedName:p,ns:null,securityContext:null,suffix:null}}var f=[];if(s)for(var d in s)f.push({type:1,propName:d,target:null,eventName:s[d]});return ro(t,e|=16384,n,r,i,i,o,u,f)}function eo(t,e,n){return ro(-1,t|=16,null,0,e,e,n)}function no(t,e,n,r,i){return ro(-1,t,e,0,n,r,i)}function ro(t,e,n,r,i,o,a,s,u){var l=zr(n),c=l.matchedQueries,h=l.references,p=l.matchedQueryIds;u||(u=[]),s||(s=[]);var f=Yr(a);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:p,references:h,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:ii(s),outputs:u,element:null,provider:{token:i,value:o,deps:f},text:null,query:null,ngContent:null}}function io(t,e){return uo(t,e)}function oo(t,e){for(var n=t;n.parent&&!Hr(n);)n=n.parent;return lo(n.parent,Gr(n),!0,e.provider.value,e.provider.deps)}function ao(t,e){var n=(32768&e.flags)>0,r=lo(t,e.parent,n,e.provider.value,e.provider.deps);if(e.outputs.length)for(var i=0;i<e.outputs.length;i++){var o=e.outputs[i],a=r[o.propName].subscribe(so(t,e.parent.nodeIndex,o.eventName));t.disposables[e.outputIndex+i]=a.unsubscribe.bind(a)}return r}function so(t,e,n){return function(r){try{return jr(t,e,n,r)}catch(e){t.root.errorHandler.handleError(e)}}}function uo(t,e){var n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return lo(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){var o=i.length;switch(o){case 0:return r();case 1:return r(ho(t,e,n,i[0]));case 2:return r(ho(t,e,n,i[0]),ho(t,e,n,i[1]));case 3:return r(ho(t,e,n,i[0]),ho(t,e,n,i[1]),ho(t,e,n,i[2]));default:for(var a=Array(o),s=0;s<o;s++)a[s]=ho(t,e,n,i[s]);return r.apply(void 0,a)}}(t,e.parent,n,r.value,r.deps);case 2048:return ho(t,e.parent,n,r.deps[0]);case 256:return r.value}}function lo(t,e,n,r,i){var o=i.length;switch(o){case 0:return new r;case 1:return new r(ho(t,e,n,i[0]));case 2:return new r(ho(t,e,n,i[0]),ho(t,e,n,i[1]));case 3:return new r(ho(t,e,n,i[0]),ho(t,e,n,i[1]),ho(t,e,n,i[2]));default:for(var a=new Array(o),s=0;s<o;s++)a[s]=ho(t,e,n,i[s]);return new(r.bind.apply(r,[void 0].concat(a)))}}var co={};function ho(t,e,n,r,i){if(void 0===i&&(i=ut.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var a=r.tokenKey;for(a===Qi&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);t;){if(e)switch(a){case Yi:return Hi(po(t,e,n));case Ki:return po(t,e,n).renderer;case qi:return new pn(yr(t,e.nodeIndex).renderElement);case Zi:return yr(t,e.nodeIndex).viewContainer;case Ji:if(e.element.template)return yr(t,e.nodeIndex).template;break;case Qi:return Fi(po(t,e,n));case $i:return Gi(t,e);default:var s=(n?e.element.allProviders:e.element.publicProviders)[a];if(s){var u=vr(t,s.nodeIndex);return u||(u={instance:uo(t,s)},t.nodes[s.nodeIndex]=u),u.instance}}n=Hr(t),e=Gr(t),t=t.parent}var l=o.root.injector.get(r.token,co);return l!==co||i===co?l:o.root.ngModule.injector.get(r.token,i)}function po(t,e,n){var r;if(n)r=yr(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!Hr(r);)r=r.parent;return r}function fo(t,e,n,r,i,o){if(32768&n.flags){var a=yr(t,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}var s=n.bindings[r].name;if(e.instance[s]=i,524288&n.flags){o=o||{};var u=t.oldValues[n.bindingIndex+r];u instanceof kn&&(u=u.wrapped),o[n.bindings[r].nonMinifiedName]=new Un(u,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function go(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0;r<n.length;r++){var i=n[r],o=i.parent;for(!o&&i.flags&e&&vo(t,r,i.flags&e),0==(i.childFlags&e)&&(r+=i.childCount);o&&1&o.flags&&r===o.nodeIndex+o.childCount;)o.directChildFlags&e&&yo(t,o,e),o=o.parent}}function yo(t,e,n){for(var r=e.nodeIndex+1;r<=e.nodeIndex+e.childCount;r++){var i=t.def.nodes[r];i.flags&n&&vo(t,r,i.flags&n),r+=i.childCount}}function vo(t,e,n){var r=vr(t,e);if(r){var i=r.instance;i&&(Cr.setCurrentNode(t,e),1048576&n&&i.ngAfterContentInit(),2097152&n&&i.ngAfterContentChecked(),4194304&n&&i.ngAfterViewInit(),8388608&n&&i.ngAfterViewChecked(),131072&n&&i.ngOnDestroy())}}function _o(t,e,n){var r=[];for(var i in n){var o=n[i];r.push({propName:i,bindingType:o})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:Xr(e),bindings:r},ngContent:null}}function mo(t){for(var e=t.def.nodeMatchedQueries;t.parent&&Wr(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++){67108864&(o=t.def.nodes[i]).flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&mr(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}}if(134217728&t.def.nodeFlags)for(i=0;i<t.def.nodes.length;i++){var o;134217728&(o=t.def.nodes[i]).flags&&536870912&o.flags&&mr(t,i).setDirty(),i+=o.childCount}}function Eo(t,e){var n=mr(t,e.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&e.flags){var o=e.parent.parent;i=Co(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),r=vr(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=Co(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var a=e.query.bindings,s=!1,u=0;u<a.length;u++){var l=a[u],c=void 0;switch(l.bindingType){case 0:c=n.first;break;case 1:c=n,s=!0}r[l.propName]=c}s&&n.notifyOnChanges()}}function Co(t,e,n,r,i){for(var o=e;o<=n;o++){var a=t.def.nodes[o],s=a.matchedQueries[r.id];if(null!=s&&i.push(bo(t,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=yr(t,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(Co(t,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var l=u.viewContainer._embeddedViews,c=0;c<l.length;c++){var h=l[c],p=Ur(h);p&&p===u&&Co(h,0,h.def.nodes.length-1,r,i)}var f=u.template._projectedViews;if(f)for(c=0;c<f.length;c++){var d=f[c];Co(d,0,d.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function bo(t,e,n){if(null!=n)switch(n){case 1:return yr(t,e.nodeIndex).renderElement;case 0:return new pn(yr(t,e.nodeIndex).renderElement);case 2:return yr(t,e.nodeIndex).template;case 3:return yr(t,e.nodeIndex).viewContainer;case 4:return vr(t,e.nodeIndex).instance}}function xo(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function To(t,e,n){var r=Kr(t,e,n);r&&$r(t,n.ngContent.index,1,r,null,void 0)}function wo(t,e){return Oo(128,t,new Array(e+1))}function Ro(t,e){return Oo(32,t,new Array(e))}function So(t,e){for(var n=Object.keys(e),r=n.length,i=new Array(r),o=0;o<r;o++){var a=n[o];i[e[a]]=a}return Oo(64,t,i)}function Oo(t,e,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:ii(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Io(t,e,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Po(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=Kr(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function Ao(t,e){return(null!=t?t.toString():"")+e.suffix}function Lo(t,e,n,r){for(var i=0,o=0,a=0,s=0,u=0,l=null,c=null,h=!1,p=!1,f=null,d=0;d<e.length;d++){var g=e[d];if(g.nodeIndex=d,g.parent=l,g.bindingIndex=i,g.outputIndex=o,g.renderParent=c,a|=g.flags,u|=g.matchedQueryIds,g.element){var y=g.element;y.publicProviders=l?l.element.publicProviders:Object.create(null),y.allProviders=y.publicProviders,h=!1,p=!1,g.element.template&&(u|=g.element.template.nodeMatchedQueries)}if(Do(l,g,e.length),i+=g.bindings.length,o+=g.outputs.length,!c&&3&g.flags&&(f=g),20224&g.flags){h||(h=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);var v=0!=(8192&g.flags),_=0!=(32768&g.flags);!v||_?l.element.publicProviders[Sr(g.provider.token)]=g:(p||(p=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[Sr(g.provider.token)]=g),_&&(l.element.componentProvider=g)}if(l?(l.childFlags|=g.flags,l.directChildFlags|=g.flags,l.childMatchedQueries|=g.matchedQueryIds,g.element&&g.element.template&&(l.childMatchedQueries|=g.element.template.nodeMatchedQueries)):s|=g.flags,g.childCount>0)l=g,Mo(g)||(c=g);else for(;l&&d===l.nodeIndex+l.childCount;){var m=l.parent;m&&(m.childFlags|=l.childFlags,m.childMatchedQueries|=l.childMatchedQueries),c=(l=m)&&Mo(l)?l.renderParent:l}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||wr,updateRenderer:r||wr,handleEvent:function(t,n,r,i){return e[n].element.handleEvent(t,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:f}}function Mo(t){return 0!=(1&t.flags)&&null===t.element.name}function Do(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function No(t,e,n,r){var i=jo(t.root,t.renderer,t,e,n);return Uo(i,t.component,r),Go(i),i}function Fo(t,e,n){var r=jo(t,t.renderer,null,null,e);return Uo(r,n,n),Go(r),r}function ko(t,e,n,r){var i,o=e.element.componentRendererType;return i=o?t.root.rendererFactory.createRenderer(r,o):t.root.renderer,jo(t.root,i,t,e.element.componentProvider,n)}function jo(t,e,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:a}}function Uo(t,e,n){t.component=e,t.context=n}function Go(t){var e;if(Hr(t)){var n=t.parentNodeDef;e=yr(t.parent,n.parent.nodeIndex).renderElement}for(var r=t.def,i=t.nodes,o=0;o<r.nodes.length;o++){var a=r.nodes[o];Cr.setCurrentNode(t,o);var s=void 0;switch(201347067&a.flags){case 1:var u=pi(t,e,a),l=void 0;if(33554432&a.flags){var c=Zr(a.element.componentView);l=Cr.createComponentView(t,a,c,u)}fi(t,l,a,u),s={renderElement:u,componentView:l,viewContainer:null,template:a.element.template?ji(t,a):void 0},16777216&a.flags&&(s.viewContainer=Di(t,a,s));break;case 2:s=Po(t,e,a);break;case 512:case 1024:case 2048:case 256:if(!((s=i[o])||4096&a.flags))s={instance:io(t,a)};break;case 16:s={instance:oo(t,a)};break;case 16384:if(!(s=i[o]))s={instance:ao(t,a)};if(32768&a.flags)Uo(yr(t,a.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new vn;break;case 8:To(t,e,a),s=void 0}i[o]=s}qo(t,Ko.CreateViewNodes),$o(t,201326592,268435456,0)}function Vo(t){Wo(t),Cr.updateDirectives(t,1),Zo(t,Ko.CheckNoChanges),Cr.updateRenderer(t,1),qo(t,Ko.CheckNoChanges),t.state&=-97}function Bo(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Wo(t),Cr.updateDirectives(t,0),Zo(t,Ko.CheckAndUpdate),$o(t,67108864,536870912,0),go(t,2097152|(2&t.state?1048576:0)),Cr.updateRenderer(t,0),qo(t,Ko.CheckAndUpdate),$o(t,134217728,536870912,0),go(t,8388608|(2&t.state?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97}function Ho(t,e,n,r,i,o,a,s,u,l,c,h,p){return 0===n?function(t,e,n,r,i,o,a,s,u,l,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,a,s,u,l,c,h){var p=e.bindings.length,f=!1;return p>0&&gi(t,e,0,n)&&(f=!0),p>1&&gi(t,e,1,r)&&(f=!0),p>2&&gi(t,e,2,i)&&(f=!0),p>3&&gi(t,e,3,o)&&(f=!0),p>4&&gi(t,e,4,a)&&(f=!0),p>5&&gi(t,e,5,s)&&(f=!0),p>6&&gi(t,e,6,u)&&(f=!0),p>7&&gi(t,e,7,l)&&(f=!0),p>8&&gi(t,e,8,c)&&(f=!0),p>9&&gi(t,e,9,h)&&(f=!0),f}(t,e,n,r,i,o,a,s,u,l,c,h);case 2:return function(t,e,n,r,i,o,a,s,u,l,c,h){var p=!1,f=e.bindings,d=f.length;if(d>0&&Dr(t,e,0,n)&&(p=!0),d>1&&Dr(t,e,1,r)&&(p=!0),d>2&&Dr(t,e,2,i)&&(p=!0),d>3&&Dr(t,e,3,o)&&(p=!0),d>4&&Dr(t,e,4,a)&&(p=!0),d>5&&Dr(t,e,5,s)&&(p=!0),d>6&&Dr(t,e,6,u)&&(p=!0),d>7&&Dr(t,e,7,l)&&(p=!0),d>8&&Dr(t,e,8,c)&&(p=!0),d>9&&Dr(t,e,9,h)&&(p=!0),p){var g=e.text.prefix;d>0&&(g+=Ao(n,f[0])),d>1&&(g+=Ao(r,f[1])),d>2&&(g+=Ao(i,f[2])),d>3&&(g+=Ao(o,f[3])),d>4&&(g+=Ao(a,f[4])),d>5&&(g+=Ao(s,f[5])),d>6&&(g+=Ao(u,f[6])),d>7&&(g+=Ao(l,f[7])),d>8&&(g+=Ao(c,f[8])),d>9&&(g+=Ao(h,f[9]));var y=gr(t,e.nodeIndex).renderText;t.renderer.setValue(y,g)}return p}(t,e,n,r,i,o,a,s,u,l,c,h);case 16384:return function(t,e,n,r,i,o,a,s,u,l,c,h){var p=vr(t,e.nodeIndex),f=p.instance,d=!1,g=void 0,y=e.bindings.length;return y>0&&Mr(t,e,0,n)&&(d=!0,g=fo(t,p,e,0,n,g)),y>1&&Mr(t,e,1,r)&&(d=!0,g=fo(t,p,e,1,r,g)),y>2&&Mr(t,e,2,i)&&(d=!0,g=fo(t,p,e,2,i,g)),y>3&&Mr(t,e,3,o)&&(d=!0,g=fo(t,p,e,3,o,g)),y>4&&Mr(t,e,4,a)&&(d=!0,g=fo(t,p,e,4,a,g)),y>5&&Mr(t,e,5,s)&&(d=!0,g=fo(t,p,e,5,s,g)),y>6&&Mr(t,e,6,u)&&(d=!0,g=fo(t,p,e,6,u,g)),y>7&&Mr(t,e,7,l)&&(d=!0,g=fo(t,p,e,7,l,g)),y>8&&Mr(t,e,8,c)&&(d=!0,g=fo(t,p,e,8,c,g)),y>9&&Mr(t,e,9,h)&&(d=!0,g=fo(t,p,e,9,h,g)),g&&f.ngOnChanges(g),2&t.state&&65536&e.flags&&f.ngOnInit(),262144&e.flags&&f.ngDoCheck(),d}(t,e,n,r,i,o,a,s,u,l,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,a,s,u,l,c,h){var p=e.bindings,f=!1,d=p.length;if(d>0&&Dr(t,e,0,n)&&(f=!0),d>1&&Dr(t,e,1,r)&&(f=!0),d>2&&Dr(t,e,2,i)&&(f=!0),d>3&&Dr(t,e,3,o)&&(f=!0),d>4&&Dr(t,e,4,a)&&(f=!0),d>5&&Dr(t,e,5,s)&&(f=!0),d>6&&Dr(t,e,6,u)&&(f=!0),d>7&&Dr(t,e,7,l)&&(f=!0),d>8&&Dr(t,e,8,c)&&(f=!0),d>9&&Dr(t,e,9,h)&&(f=!0),f){var g=_r(t,e.nodeIndex),y=void 0;switch(201347067&e.flags){case 32:y=new Array(p.length),d>0&&(y[0]=n),d>1&&(y[1]=r),d>2&&(y[2]=i),d>3&&(y[3]=o),d>4&&(y[4]=a),d>5&&(y[5]=s),d>6&&(y[6]=u),d>7&&(y[7]=l),d>8&&(y[8]=c),d>9&&(y[9]=h);break;case 64:y={},d>0&&(y[p[0].name]=n),d>1&&(y[p[1].name]=r),d>2&&(y[p[2].name]=i),d>3&&(y[p[3].name]=o),d>4&&(y[p[4].name]=a),d>5&&(y[p[5].name]=s),d>6&&(y[p[6].name]=u),d>7&&(y[p[7].name]=l),d>8&&(y[p[8].name]=c),d>9&&(y[p[9].name]=h);break;case 128:var v=n;switch(d){case 1:y=v.transform(n);break;case 2:y=v.transform(r);break;case 3:y=v.transform(r,i);break;case 4:y=v.transform(r,i,o);break;case 5:y=v.transform(r,i,o,a);break;case 6:y=v.transform(r,i,o,a,s);break;case 7:y=v.transform(r,i,o,a,s,u);break;case 8:y=v.transform(r,i,o,a,s,u,l);break;case 9:y=v.transform(r,i,o,a,s,u,l,c);break;case 10:y=v.transform(r,i,o,a,s,u,l,c,h)}}g.value=y}return f}(t,e,n,r,i,o,a,s,u,l,c,h);default:throw"unreachable"}}(t,e,r,i,o,a,s,u,l,c,h,p):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,i=0;i<n.length;i++)gi(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)Dr(t,e,o,n[o])&&(i=!0);if(i){var a="";for(o=0;o<n.length;o++)a+=Ao(n[o],r[o]);a=e.text.prefix+a;var s=gr(t,e.nodeIndex).renderText;t.renderer.setValue(s,a)}return i}(t,e,n);case 16384:return function(t,e,n){for(var r=vr(t,e.nodeIndex),i=r.instance,o=!1,a=void 0,s=0;s<n.length;s++)Mr(t,e,s,n[s])&&(o=!0,a=fo(t,r,e,s,n[s],a));return a&&i.ngOnChanges(a),2&t.state&&65536&e.flags&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)Dr(t,e,o,n[o])&&(i=!0);if(i){var a=_r(t,e.nodeIndex),s=void 0;switch(201347067&e.flags){case 32:s=n;break;case 64:for(s={},o=0;o<n.length;o++)s[r[o].name]=n[o];break;case 128:var u=n[0],l=n.slice(1);s=u.transform.apply(u,l)}a.value=s}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function Wo(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var i=yr(t,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,kr(a,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Xo(t,e,n,r,i,o,a,s,u,l,c,h,p){return 0===n?function(t,e,n,r,i,o,a,s,u,l,c,h){var p=e.bindings.length;p>0&&Nr(t,e,0,n);p>1&&Nr(t,e,1,r);p>2&&Nr(t,e,2,i);p>3&&Nr(t,e,3,o);p>4&&Nr(t,e,4,a);p>5&&Nr(t,e,5,s);p>6&&Nr(t,e,6,u);p>7&&Nr(t,e,7,l);p>8&&Nr(t,e,8,c);p>9&&Nr(t,e,9,h)}(t,e,r,i,o,a,s,u,l,c,h,p):function(t,e,n){for(var r=0;r<n.length;r++)Nr(t,e,r,n[r])}(t,e,r),!1}function zo(t,e){if(mr(t,e.nodeIndex).dirty)throw br(Cr.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function Yo(t){if(!(128&t.state)){if(Zo(t,Ko.Destroy),qo(t,Ko.Destroy),go(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=Ur(t);if(e){var n=e.template._projectedViews;n&&(Oi(n,n.indexOf(t)),Cr.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(yr(t,n).renderElement):2&r.flags?t.renderer.destroyNode(gr(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&mr(t,n).destroy()}}(t),Hr(t)&&t.renderer.destroy(),t.state|=128}}var Ko={};function qo(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?Jo(yr(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Zo(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=yr(t,r).viewContainer._embeddedViews,a=0;a<o.length;a++)Jo(o[a],e);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Jo(t,e){var n=t.state;switch(e){case Ko.CheckNoChanges:0==(128&n)&&(12==(12&n)?Vo(t):64&n&&Qo(t,Ko.CheckNoChangesProjectedViews));break;case Ko.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Vo(t):64&n&&Qo(t,e));break;case Ko.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Bo(t):64&n&&Qo(t,Ko.CheckAndUpdateProjectedViews));break;case Ko.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Bo(t):64&n&&Qo(t,e));break;case Ko.Destroy:Yo(t);break;case Ko.CreateViewNodes:Go(t)}}function Qo(t,e){Zo(t,e),qo(t,e)}function $o(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var a=t.def.nodes[o];if(a.flags&e&&a.flags&n)switch(Cr.setCurrentNode(t,a.nodeIndex),r){case 0:Eo(t,a);break;case 1:zo(t,a)}a.childFlags&e&&a.childFlags&n||(o+=a.childCount)}}Ko.CreateViewNodes=0,Ko.CheckNoChanges=1,Ko.CheckNoChangesProjectedViews=2,Ko.CheckAndUpdate=3,Ko.CheckAndUpdateProjectedViews=4,Ko.Destroy=5,Ko[Ko.CreateViewNodes]="CreateViewNodes",Ko[Ko.CheckNoChanges]="CheckNoChanges",Ko[Ko.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",Ko[Ko.CheckAndUpdate]="CheckAndUpdate",Ko[Ko.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",Ko[Ko.Destroy]="Destroy";var ta=!1;function ea(){if(!ta){ta=!0;var t=ze()?{setCurrentNode:Ca,createRootView:ra,createEmbeddedView:oa,createComponentView:aa,createNgModuleRef:sa,overrideProvider:la,clearProviderOverrides:ca,checkAndUpdateView:da,checkNoChangesView:ga,destroyView:ya,createDebugContext:function(t,e){return new La(t,e)},handleEvent:ba,updateDirectives:xa,updateRenderer:Ta}:{setCurrentNode:function(){},createRootView:na,createEmbeddedView:No,createComponentView:ko,createNgModuleRef:Xi,overrideProvider:wr,clearProviderOverrides:wr,checkAndUpdateView:Bo,checkNoChangesView:Vo,destroyView:Yo,createDebugContext:function(t,e){return new La(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?pa:fa,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?pa:fa,t)}};Cr.setCurrentNode=t.setCurrentNode,Cr.createRootView=t.createRootView,Cr.createEmbeddedView=t.createEmbeddedView,Cr.createComponentView=t.createComponentView,Cr.createNgModuleRef=t.createNgModuleRef,Cr.overrideProvider=t.overrideProvider,Cr.clearProviderOverrides=t.clearProviderOverrides,Cr.checkAndUpdateView=t.checkAndUpdateView,Cr.checkNoChangesView=t.checkNoChangesView,Cr.destroyView=t.destroyView,Cr.resolveDep=ho,Cr.createDebugContext=t.createDebugContext,Cr.handleEvent=t.handleEvent,Cr.updateDirectives=t.updateDirectives,Cr.updateRenderer=t.updateRenderer,Cr.dirtyParentQueries=mo}}function na(t,e,n,r,i,o){return Fo(ia(t,i,i.injector.get(ln),e,n),r,o)}function ra(t,e,n,r,i,o){var a=i.injector.get(ln),s=ia(t,i,new Fa(a),e,n),u=ha(r);return Da(Ea.create,Fo,null,[s,u,o])}function ia(t,e,n,r,i){var o=e.injector.get(dr),a=e.injector.get(yt);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:a}}function oa(t,e,n,r){var i=ha(n);return Da(Ea.create,No,null,[t,e,i,r])}function aa(t,e,n,r){var i=ha(n);return Da(Ea.create,ko,null,[t,e,i,r])}function sa(t,e,n,r){return Xi(t,e,n,function(t){var e=function(t){var e=!1,n=!1;if(0===ua.size)return{hasOverrides:e,hasDeprecatedOverrides:n};return t.providers.forEach(function(t){var r=ua.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),{hasOverrides:e,hasDeprecatedOverrides:n}}(t),n=e.hasOverrides,r=e.hasDeprecatedOverrides;if(!n)return t;return function(t){for(var e=0;e<t.providers.length;e++){var n=t.providers[e];r&&(n.flags|=4096);var i=ua.get(n.token);i&&(n.flags=-3841&n.flags|i.flags,n.deps=Yr(i.deps),n.value=i.value)}}(t=t.factory(function(){return wr})),t}(r))}var ua=new Map;function la(t){ua.set(t.token,t)}function ca(){ua.clear()}function ha(t){if(0===ua.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&ua.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return wr});for(var n=0;n<e.length;n++)r(t,e[n]);return t;function r(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=ua.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=Yr(o.deps),i.value=o.value)}}}}function pa(t,e,n,r,i,o,a,s,u,l,c,h,p){var f=t.def.nodes[e];return Ho(t,f,n,r,i,o,a,s,u,l,c,h,p),224&f.flags?_r(t,e).value:void 0}function fa(t,e,n,r,i,o,a,s,u,l,c,h,p){var f=t.def.nodes[e];return Xo(t,f,n,r,i,o,a,s,u,l,c,h,p),224&f.flags?_r(t,e).value:void 0}function da(t){return Da(Ea.detectChanges,Bo,null,[t])}function ga(t){return Da(Ea.checkNoChanges,Vo,null,[t])}function ya(t){return Da(Ea.destroy,Yo,null,[t])}var va,_a,ma,Ea={};function Ca(t,e){_a=t,ma=e}function ba(t,e,n,r){return Ca(t,e),Da(Ea.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function xa(t,e){if(128&t.state)throw Tr(Ea[va]);return Ca(t,Pa(t,0)),t.def.updateDirectives(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];0===e?wa(t,a,r,i):Ra(t,a,r,i);16384&a.flags&&Ca(t,Pa(t,n));return 224&a.flags?_r(t,a.nodeIndex).value:void 0},t)}function Ta(t,e){if(128&t.state)throw Tr(Ea[va]);return Ca(t,Aa(t,0)),t.def.updateRenderer(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];0===e?wa(t,a,r,i):Ra(t,a,r,i);3&a.flags&&Ca(t,Aa(t,n));return 224&a.flags?_r(t,a.nodeIndex).value:void 0},t)}function wa(t,e,n,r){if(Ho.apply(void 0,[t,e,n].concat(r))){var i=1===n?r[0]:r;if(16384&e.flags){for(var o={},a=0;a<e.bindings.length;a++){var s=e.bindings[a],u=i[a];8&s.flags&&(o[Sa(s.nonMinifiedName)]=Ia(u))}var l=e.parent,c=yr(t,l.nodeIndex).renderElement;if(l.element.name)for(var h in o){null!=(u=o[h])?t.renderer.setAttribute(c,h,u):t.renderer.removeAttribute(c,h)}else t.renderer.setValue(c,"bindings="+JSON.stringify(o,null,2))}}}function Ra(t,e,n,r){Xo.apply(void 0,[t,e,n].concat(r))}function Sa(t){return"ng-reflect-"+(t=t.replace(/[$@]/g,"_").replace(Oa,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()}))}Ea.create=0,Ea.detectChanges=1,Ea.checkNoChanges=2,Ea.destroy=3,Ea.handleEvent=4,Ea[Ea.create]="create",Ea[Ea.detectChanges]="detectChanges",Ea[Ea.checkNoChanges]="checkNoChanges",Ea[Ea.destroy]="destroy",Ea[Ea.handleEvent]="handleEvent";var Oa=/([A-Z])/g;function Ia(t){try{return null!=t?t.toString().slice(0,30):t}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function Pa(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Aa(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var La=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Gr(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return yr(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return Gi(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){Ma(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&Ma(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!Hr(t);)t=t.parent;if(t.parent)return yr(t.parent,Gr(t).nodeIndex);return null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?Vr(this.view,this.nodeDef):Vr(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];2&this.nodeDef.flags?(e=this.view.def,n=this.nodeDef.nodeIndex):(e=this.elView.def,n=this.elDef.nodeIndex);var o=function(t,e){for(var n=-1,r=0;r<=e;r++){var i=t.nodes[r];3&i.flags&&n++}return n}(e,n),a=-1;e.factory(function(){return++a===o?(e=t.error).bind.apply(e,[t].concat(r)):wr;var e}),a<o&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,r))},t}();function Ma(t,e,n){for(var r in e.references)n[r]=bo(t,e,e.references[r])}function Da(t,e,n,r){var i=va,o=_a,a=ma;try{va=t;var s=e.apply(n,r);return _a=o,ma=a,va=i,s}catch(t){if(ft(t)||!_a)throw t;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),xr(t,e),t}(t,Na())}}function Na(){return _a?new La(_a,ma):null}var Fa=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new ka(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),ka=function(){function t(t){this.delegate=t}return Object.defineProperty(t.prototype,"data",{get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),t.prototype.destroyNode=function(t){!function(t){Mn.delete(t.nativeNode)}(Dn(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=Na();if(r){var i=new In(n,null,r);i.name=t,Nn(i)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=Na();return n&&Nn(new On(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=Na();return n&&Nn(new On(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=Dn(t),r=Dn(e);n&&r&&n instanceof In&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=Dn(t),i=Dn(e),o=Dn(n);r&&i&&r instanceof In&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=Dn(t),r=Dn(e);n&&r&&n instanceof In&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t){var e=this.delegate.selectRootElement(t),n=Na();return n&&Nn(new In(e,null,n)),e},t.prototype.setAttribute=function(t,e,n,r){var i=Dn(t);if(i&&i instanceof In){var o=r?r+":"+e:e;i.attributes[o]=n}this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=Dn(t);if(r&&r instanceof In){var i=n?n+":"+e:e;r.attributes[i]=null}this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=Dn(t);n&&n instanceof In&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=Dn(t);n&&n instanceof In&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var i=Dn(t);i&&i instanceof In&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=Dn(t);r&&r instanceof In&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=Dn(t);r&&r instanceof In&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=Dn(t);r&&r.listeners.push(new Sn(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}();function ja(t){return ea(),Cr.overrideProvider(t)}function Ua(){return ea(),Cr.clearProviderOverrides()}function Ga(t,e,n){return new Va(t,e,n)}var Va=function(t){function e(e,n,r){var i=t.call(this)||this;return i.moduleType=e,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return r.a(e,t),e.prototype.create=function(t){ea();var e=Zr(this._ngModuleDefFactory);return Cr.createNgModuleRef(this.moduleType,t||ut.NULL,this._bootstrapComponents,e)},e}(Ee);function Ba(t,e){return{type:7,name:t,definitions:e,options:{}}}function Ha(t,e){return void 0===e&&(e=null),{type:4,styles:e,timings:t}}function Wa(t,e){return void 0===e&&(e=null),{type:3,steps:t,options:e}}function Xa(t,e){return void 0===e&&(e=null),{type:2,steps:t,options:e}}function za(t){return{type:6,styles:t,offset:null}}function Ya(t,e,n){return{type:0,name:t,styles:e,options:n}}function Ka(t){return{type:5,steps:t}}function qa(t,e,n){return void 0===n&&(n=null),{type:1,expr:t,animation:e,options:n}}var Za="*";function Ja(t,e){return Ba(t,e)}function Qa(t,e){return Ha(t,e)}function $a(t){return Wa(t)}function ts(t){return Xa(t)}function es(t){return za(t)}function ns(t,e){return Ya(t,e)}function rs(t){return Ka(t)}function is(t,e){return qa(t,e)}}).call(e,n("DuR2"))},"4acs":function(t,e,n){"use strict";var r=n("CXX0"),i=n("JouG"),o={},a="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"";o.FIREFOX=-1!==a.indexOf("firefox"),o.SAFARI=-1!==a.indexOf("safari")&&-1==a.indexOf("chrom"),o.WEBKIT=-1!==a.indexOf("webkit")&&-1==a.indexOf("edge"),o.MAC=-1!==a.indexOf("macintosh"),o.DEVICE_PIXEL_RATIO=window.devicePixelRatio||1,o.CANVAS_LINE_DASH=!1,o.CANVAS=r.a.ENABLE_CANVAS&&function(){if(!("HTMLCanvasElement"in window))return!1;try{var t=document.createElement("CANVAS").getContext("2d");return!!t&&(void 0!==t.setLineDash&&(o.CANVAS_LINE_DASH=!0),!0)}catch(t){return!1}}(),o.DEVICE_ORIENTATION="DeviceOrientationEvent"in window,o.GEOLOCATION="geolocation"in navigator,o.TOUCH=r.a.ASSUME_TOUCH||"ontouchstart"in window,o.POINTER="PointerEvent"in window,o.MSPOINTER=!!navigator.msPointerEnabled,o.WEBGL,function(){if(r.a.ENABLE_WEBGL){var t,e=!1,n=[];if("WebGLRenderingContext"in window)try{var a=document.createElement("CANVAS"),s=i.a.getContext(a,{failIfMajorPerformanceCaveat:!0});s&&(e=!0,t=s.getParameter(s.MAX_TEXTURE_SIZE),n=s.getSupportedExtensions())}catch(t){}o.WEBGL=e,r.a.WEBGL_EXTENSIONS=n,r.a.WEBGL_MAX_TEXTURE_SIZE=t}}(),e.a=o},"5oXY":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("TToO"),i=n("2Je8"),o=n("3j3K"),a=n("g5jc"),s=n("x6VL"),u=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},l=function(t){function e(e){t.call(this),this._value=e}return u(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new s.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(a.a),c=n("BX3T"),h=n("N4j0"),p=n("cQXm"),f=n("nsdQ"),d=n("AMGY"),g=n("YaPU"),y=n("etqZ"),v=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},_=function(t){function e(e,n){if(t.call(this),this.scheduler=n,null==e)throw new Error("iterator cannot be null.");this.iterator=C(e)}return v(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.index,n=t.hasError,r=t.iterator,i=t.subscriber;if(n)i.error(t.error);else{var o=r.next();o.done?i.complete():(i.next(o.value),t.index=e+1,i.closed?"function"==typeof r.return&&r.return():this.schedule(t))}},e.prototype._subscribe=function(t){var n=this.iterator,r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{index:0,iterator:n,subscriber:t});for(;;){var i=n.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed){"function"==typeof n.return&&n.return();break}}},e}(g.a),m=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length),this.str=t,this.idx=e,this.len=n}return t.prototype[y.a]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),E=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=function(t){var e=+t.length;if(isNaN(e))return 0;if(0===e||(n=e,"number"!=typeof n||!d.a.isFinite(n)))return e;var n;if((e=function(t){var e=+t;return 0===e?e:isNaN(e)?e:e<0?-1:1}(e)*Math.floor(Math.abs(e)))<=0)return 0;if(e>b)return b;return e}(t)),this.arr=t,this.idx=e,this.len=n}return t.prototype[y.a]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}();function C(t){var e=t[y.a];if(!e&&"string"==typeof t)return new m(t);if(!e&&void 0!==t.length)return new E(t);if(!e)throw new TypeError("object is not iterable");return t[y.a]()}var b=Math.pow(2,53)-1;var x=n("Veqx"),T=n("TILf"),w=n("+3/4"),R=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},S=function(t){function e(e,n){t.call(this),this.arrayLike=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return R(e,t),e.create=function(t,n){var r=t.length;return 0===r?new w.a:1===r?new T.a(t[0],n):new e(t,n)},e.dispatch=function(t){var e=t.arrayLike,n=t.index,r=t.length,i=t.subscriber;i.closed||(n>=r?i.complete():(i.next(e[n]),t.index=n+1,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.arrayLike,r=this.scheduler,i=n.length;if(r)return r.schedule(e.dispatch,0,{arrayLike:n,index:0,length:i,subscriber:t});for(var o=0;o<i&&!t.closed;o++)t.next(n[o]);t.complete()},e}(g.a),O=n("OVmG"),I=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return g.a.of(this.value);case"E":return g.a.throw(this.error);case"C":return g.a.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return"undefined"!=typeof e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),P=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)};var A=function(t){function e(e,n,r){void 0===r&&(r=0),t.call(this,e),this.scheduler=n,this.delay=r}return P(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new L(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(I.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(I.createError(t))},e.prototype._complete=function(){this.scheduleMessage(I.createComplete())},e}(O.a),L=function(){return function(t,e){this.notification=t,this.destination=e}}(),M=n("+CnV"),D=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},N=function(t){function e(e,n){t.call(this,null),this.ish=e,this.scheduler=n}return D(e,t),e.create=function(t,n){if(null!=t){if("function"==typeof t[M.a])return t instanceof g.a&&!n?t:new e(t,n);if(Object(c.a)(t))return new x.a(t,n);if(Object(p.a)(t))return new f.a(t,n);if("function"==typeof t[y.a]||"string"==typeof t)return new _(t,n);if(Object(h.a)(t))return new S(t,n)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,n=this.scheduler;return null==n?e[M.a]().subscribe(t):e[M.a]().subscribe(new A(t,n,0))},e}(g.a).create,F=n("YWe0"),k=n("z+iw"),j=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)};var U=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new G(t,this.predicate,this.thisArg,this.source))},t}(),G=function(t){function e(e,n,r,i){t.call(this,e),this.predicate=n,this.thisArg=r,this.source=i,this.index=0,this.thisArg=r||this}return j(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(O.a);function V(t,e){return function(t,e){return function(n){return n.lift(new U(t,e,n))}}(t,e)(this)}var B=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},H=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return B(e,t),e}(Error),W=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)};var X=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new z(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),z=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return W(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}n&&this._emit(t,e)},e.prototype._emit=function(t,e){this.resultSelector?this._tryResultSelector(t,e):this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this._emitFinal(n)},e.prototype._emitFinal=function(t){var e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||t.error(new H):(t.next(this.defaultValue),t.complete())},e}(O.a);function Y(t,e,n){return function(t,e,n){return function(r){return r.lift(new X(t,e,n,r))}}(t,e,n)(this)}var K=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)};var q=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new Z(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),Z=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.hasValue=!1,this.index=0,"undefined"!=typeof i&&(this.lastValue=i,this.hasValue=!0)}return K(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}if(n){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this.lastValue=n,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new H)},e}(O.a);function J(t,e,n){return function(t,e,n){return function(r){return r.lift(new q(t,e,n,r))}}(t,e,n)(this)}var Q=n("gL+p"),$=n("Qnch");function tt(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),Object($.a)(t,e,n)(this)}var et=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)};function nt(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new rt(t,e,n))}}var rt=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new it(t,this.accumulator,this.seed,this.hasSeed))},t}(),it=function(t){function e(e,n,r,i){t.call(this,e),this.accumulator=n,this._seed=r,this.hasSeed=i,this.index=0}return et(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(O.a),ot=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},at=function(t){function e(){var e=t.call(this,"argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}return ot(e,t),e}(Error),st=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)};function ut(t){return function(e){return 0===t?new w.a:e.lift(new lt(t))}}var lt=function(){function t(t){if(this.total=t,this.total<0)throw new at}return t.prototype.call=function(t,e){return e.subscribe(new ct(t,this.total))},t}(),ct=function(t){function e(e,n){t.call(this,e),this.total=n,this.ring=new Array,this.count=0}return st(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(O.a),ht=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)};var pt=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new ft(t,this.defaultValue))},t}(),ft=function(t){function e(e,n){t.call(this,e),this.defaultValue=n,this.isEmpty=!0}return ht(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(O.a),dt=n("f9aG");function gt(t,e){return arguments.length>=2?function(n){return Object(dt.a)(nt(t,e),ut(1),(void 0===(r=e)&&(r=null),function(t){return t.lift(new pt(r))}))(n);var r}:function(e){return Object(dt.a)(nt(function(e,n,r){return t(e,n,r+1)}),ut(1))(e)}}var yt=n("tZ2B"),vt=n("PIsA"),_t=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)};var mt=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new Et(t,this.selector,this.caught))},t}(),Et=function(t){function e(e,n,r){t.call(this,e),this.selector=n,this.caught=r}return _t(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle(),this.add(Object(vt.a)(this,n))}},e}(yt.a);function Ct(t){return function(t){return function(e){var n=new mt(t),r=e.lift(n);return n.caught=r}}(t)(this)}var bt=n("8D5t");function xt(){return Object(bt.a)(1)(this)}var Tt=n("i9s7");function wt(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(bt.a)(t)(this)}var Rt=n("Qbdm"),St=n("Uw6n");n.d(e,"RouterLink",function(){return On}),n.d(e,"RouterLinkWithHref",function(){return In}),n.d(e,"RouterLinkActive",function(){return An}),n.d(e,"RouterOutlet",function(){return Dn}),n.d(e,"GuardsCheckEnd",function(){return Ft}),n.d(e,"GuardsCheckStart",function(){return Nt}),n.d(e,"NavigationCancel",function(){return Pt}),n.d(e,"NavigationEnd",function(){return It}),n.d(e,"NavigationError",function(){return At}),n.d(e,"NavigationStart",function(){return Ot}),n.d(e,"ResolveEnd",function(){return jt}),n.d(e,"ResolveStart",function(){return kt}),n.d(e,"RouteConfigLoadEnd",function(){return Dt}),n.d(e,"RouteConfigLoadStart",function(){return Mt}),n.d(e,"RoutesRecognized",function(){return Lt}),n.d(e,"RouteReuseStrategy",function(){return fn}),n.d(e,"Router",function(){return Cn}),n.d(e,"ROUTES",function(){return gn}),n.d(e,"ROUTER_CONFIGURATION",function(){return Vn}),n.d(e,"ROUTER_INITIALIZER",function(){return tr}),n.d(e,"RouterModule",function(){return Xn}),n.d(e,"provideRoutes",function(){return Kn}),n.d(e,"ChildrenOutletContexts",function(){return Mn}),n.d(e,"OutletContext",function(){return Ln}),n.d(e,"NoPreloading",function(){return jn}),n.d(e,"PreloadAllModules",function(){return kn}),n.d(e,"PreloadingStrategy",function(){return Fn}),n.d(e,"RouterPreloader",function(){return Un}),n.d(e,"ActivatedRoute",function(){return Fe}),n.d(e,"ActivatedRouteSnapshot",function(){return je}),n.d(e,"RouterState",function(){return De}),n.d(e,"RouterStateSnapshot",function(){return Ue}),n.d(e,"PRIMARY_OUTLET",function(){return Ut}),n.d(e,"convertToParamMap",function(){return Vt}),n.d(e,"UrlHandlingStrategy",function(){return vn}),n.d(e,"DefaultUrlSerializer",function(){return ue}),n.d(e,"UrlSegment",function(){return ie}),n.d(e,"UrlSegmentGroup",function(){return re}),n.d(e,"UrlSerializer",function(){return se}),n.d(e,"UrlTree",function(){return ne}),n.d(e,"VERSION",function(){return nr}),n.d(e,"\u0275ROUTER_PROVIDERS",function(){return Hn}),n.d(e,"\u0275flatten",function(){return qt}),n.d(e,"\u0275a",function(){return Bn}),n.d(e,"\u0275g",function(){return Jn}),n.d(e,"\u0275h",function(){return Qn}),n.d(e,"\u0275i",function(){return $n}),n.d(e,"\u0275d",function(){return Yn}),n.d(e,"\u0275c",function(){return zn}),n.d(e,"\u0275j",function(){return er}),n.d(e,"\u0275f",function(){return Zn}),n.d(e,"\u0275b",function(){return Wn}),n.d(e,"\u0275e",function(){return qn}),n.d(e,"\u0275k",function(){return Pe}),n.d(e,"\u0275l",function(){return Me});var Ot=function(){function t(t,e){this.id=t,this.url=e}return t.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},t}(),It=function(){function t(t,e,n){this.id=t,this.url=e,this.urlAfterRedirects=n}return t.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},t}(),Pt=function(){function t(t,e,n){this.id=t,this.url=e,this.reason=n}return t.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},t}(),At=function(){function t(t,e,n){this.id=t,this.url=e,this.error=n}return t.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},t}(),Lt=function(){function t(t,e,n,r){this.id=t,this.url=e,this.urlAfterRedirects=n,this.state=r}return t.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(),Mt=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),Dt=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),Nt=function(){function t(t,e,n,r){this.id=t,this.url=e,this.urlAfterRedirects=n,this.state=r}return t.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(),Ft=function(){function t(t,e,n,r,i){this.id=t,this.url=e,this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}return t.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},t}(),kt=function(){function t(t,e,n,r){this.id=t,this.url=e,this.urlAfterRedirects=n,this.state=r}return t.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(),jt=function(){function t(t,e,n,r){this.id=t,this.url=e,this.urlAfterRedirects=n,this.state=r}return t.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(),Ut="primary",Gt=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}();function Vt(t){return new Gt(t)}var Bt="ngNavigationCancelingError";function Ht(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var Wt=function(){return function(t,e){this.routes=t,this.module=e}}();function Xt(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n];zt(r,Yt(e,r))}}function zt(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&t.outlet&&t.outlet!==Ut)throw new Error("Invalid configuration of route '"+e+"': a componentless route cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch){throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.")}if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&Xt(t.children,e)}function Yt(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function Kt(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(t[n=r[o]]!==e[n])return!1;return!0}function qt(t){return Array.prototype.concat.apply([],t)}function Zt(t){return t.length>0?t[t.length-1]:null}function Jt(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Qt(t){var e=wt.call(t);return V.call(e,function(t){return!0===t})}function $t(t){return Object(o["\u0275isObservable"])(t)?t:Object(o["\u0275isPromise"])(t)?Object(Tt.a)(Promise.resolve(t)):Object(F.a)(t)}function te(t,e,n){return n?function(t,e){return Kt(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!oe(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}(t.queryParams,e.queryParams)&&ee(t.root,e.root)}function ee(t,e){return function t(e,n,r){if(e.segments.length>r.length){var i=e.segments.slice(0,r.length);return!!oe(i,r)&&!n.hasChildren()}if(e.segments.length===r.length){if(!oe(e.segments,r))return!1;for(var o in n.children){if(!e.children[o])return!1;if(!ee(e.children[o],n.children[o]))return!1}return!0}var i=r.slice(0,e.segments.length),a=r.slice(e.segments.length);return!!oe(e.segments,i)&&(!!e.children[Ut]&&t(e.children[Ut],n,a))}(t,e,e.segments)}var ne=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Vt(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return le.serialize(this)},t}(),re=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,Jt(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return ce(this)},t}(),ie=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=Vt(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return fe(this)},t}();function oe(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function ae(t,e){var n=[];return Jt(t.children,function(t,r){r===Ut&&(n=n.concat(e(t,r)))}),Jt(t.children,function(t,r){r!==Ut&&(n=n.concat(e(t,r)))}),n}var se=function(){function t(){}return t.prototype.parse=function(t){},t.prototype.serialize=function(t){},t}(),ue=function(){function t(){}return t.prototype.parse=function(t){var e=new _e(t);return new ne(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e,n;return""+("/"+function t(e,n){if(!e.hasChildren())return ce(e);if(n){var r=e.children[Ut]?t(e.children[Ut],!1):"",i=[];return Jt(e.children,function(e,n){n!==Ut&&i.push(n+":"+t(e,!1))}),i.length>0?r+"("+i.join("//")+")":r}var o=ae(e,function(n,r){return r===Ut?[t(e.children[Ut],!1)]:[r+":"+t(n,!1)]});return ce(e)+"/("+o.join("//")+")"}(t.root,!0))+(e=t.queryParams,(n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return he(t)+"="+he(e)}).join("&"):he(t)+"="+he(n)})).length?"?"+n.join("&"):"")+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),le=new ue;function ce(t){return t.segments.map(function(t){return fe(t)}).join("/")}function he(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";")}function pe(t){return decodeURIComponent(t)}function fe(t){return""+he(t.path)+(e=t.parameters,Object.keys(e).map(function(t){return";"+he(t)+"="+he(e[t])}).join(""));var e}var de=/^[^\/()?;=&#]+/;function ge(t){var e=t.match(de);return e?e[0]:""}var ye=/^[^=?&#]+/;var ve=/^[^?&#]+/;var _e=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new re([],{}):new re([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURI(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Ut]=new re(t,e)),n},t.prototype.parseSegment=function(){var t=ge(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new ie(pe(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=ge(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=ge(this.remaining);r&&(n=r,this.capture(n))}t[pe(e)]=pe(n)}},t.prototype.parseQueryParam=function(t){var e,n,r=(e=this.remaining,(n=e.match(ye))?n[0]:"");if(r){this.capture(r);var i="";if(this.consumeOptional("=")){var o=function(t){var e=t.match(ve);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}var a=pe(r),s=pe(i);if(t.hasOwnProperty(a)){var u=t[a];Array.isArray(u)||(u=[u],t[a]=u),u.push(s)}else t[a]=s}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=ge(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Ut);var o=this.parseChildren();e[i]=1===Object.keys(o).length?o[Ut]:new re([],o),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),me=function(){return function(t){this.segmentGroup=t||null}}(),Ee=function(){return function(t){this.urlTree=t}}();function Ce(t){return new g.a(function(e){return e.error(new me(t))})}function be(t){return new g.a(function(e){return e.error(new Ee(t))})}function xe(t){return new g.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}function Te(t){return new g.a(function(e){return e.error((n="Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false",(r=Error("NavigationCancelingError: "+n))[Bt]=!0,r));var n,r})}var we=function(){function t(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(o.NgModuleRef)}return t.prototype.apply=function(){var t=this,e=this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Ut),n=Q.a.call(e,function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)});return Ct.call(n,function(e){if(e instanceof Ee)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof me)throw t.noMatchError(e);throw e})},t.prototype.match=function(t){var e=this,n=this.expandSegmentGroup(this.ngModule,this.config,t.root,Ut),r=Q.a.call(n,function(n){return e.createUrlTree(n,t.queryParams,t.fragment)});return Ct.call(r,function(t){if(t instanceof me)throw e.noMatchError(t);throw t})},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var r,i=t.segments.length>0?new re([],((r={})[Ut]=t,r)):t;return new ne(i,e,n)},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?Q.a.call(this.expandChildren(t,e,n),function(t){return new re([],t)}):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return function(t,e){if(0===Object.keys(t).length)return Object(F.a)({});var n=[],r=[],i={};Jt(t,function(t,o){var a=Q.a.call(e(o,t),function(t){return i[o]=t});o===Ut?n.push(a):r.push(a)});var o=xt.call(F.a.apply(void 0,n.concat(r))),a=J.call(o);return Q.a.call(a,function(){return i})}(n.children,function(n,i){return r.expandSegmentGroup(t,e,i,n)})},t.prototype.expandSegment=function(t,e,n,r,i,o){var a=this,s=F.a.apply(void 0,n),u=Q.a.call(s,function(s){var u=a.expandSegmentAgainstRoute(t,e,n,s,r,i,o);return Ct.call(u,function(t){if(t instanceof me)return Object(F.a)(null);throw t})}),l=xt.call(u),c=Y.call(l,function(t){return!!t});return Ct.call(c,function(t,n){if(t instanceof H){if(a.noLeftoversInUrl(e,r,i))return Object(F.a)(new re([],{}));throw new me(e)}throw t})},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,i,o,a){return Ie(r)!==o?Ce(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Ce(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?be(o):tt.call(this.lineralizeSegments(n,o),function(n){var o=new re(n,{});return i.expandSegment(t,o,e,n,r,!1)})},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){var a=this,s=Re(e,r,i),u=s.matched,l=s.consumedSegments,c=s.lastChild,h=s.positionalParamSegments;if(!u)return Ce(e);var p=this.applyRedirectCommands(l,r.redirectTo,h);return r.redirectTo.startsWith("/")?be(p):tt.call(this.lineralizeSegments(r,p),function(r){return a.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)})},t.prototype.matchSegmentAgainstRoute=function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?Q.a.call(this.configLoader.load(t.injector,n),function(t){return n._loadedConfig=t,new re(r,{})}):Object(F.a)(new re(r,{}));var o=Re(e,n,r),a=o.matched,s=o.consumedSegments,u=o.lastChild;if(!a)return Ce(e);var l=r.slice(u),c=this.getChildConfig(t,n);return tt.call(c,function(t){var n=t.module,r=t.routes,o=function(t,e,n,r){if(n.length>0&&function(t,e,n){return n.some(function(n){return Oe(t,e,n)&&Ie(n)!==Ut})}(t,n,r)){var i=new re(e,function(t,e){var n={};n[Ut]=e;for(var r=0,i=t;r<i.length;r++){var o=i[r];""===o.path&&Ie(o)!==Ut&&(n[Ie(o)]=new re([],{}))}return n}(r,new re(n,t.children)));return{segmentGroup:Se(i),slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(function(n){return Oe(t,e,n)})}(t,n,r)){var i=new re(t.segments,function(t,e,n,r){for(var i={},o=0,a=n;o<a.length;o++){var s=a[o];Oe(t,e,s)&&!r[Ie(s)]&&(i[Ie(s)]=new re([],{}))}return Object.assign({},r,i)}(t,n,r,t.children));return{segmentGroup:Se(i),slicedSegments:n}}return{segmentGroup:t,slicedSegments:n}}(e,s,l,r),a=o.segmentGroup,u=o.slicedSegments;if(0===u.length&&a.hasChildren()){var c=i.expandChildren(n,r,a);return Q.a.call(c,function(t){return new re(s,t)})}if(0===r.length&&0===u.length)return Object(F.a)(new re(s,{}));var h=i.expandSegment(n,a,r,u,Ut,!0);return Q.a.call(h,function(t){return new re(s.concat(t.segments),t.children)})})},t.prototype.getChildConfig=function(t,e){var n=this;return e.children?Object(F.a)(new Wt(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(F.a)(e._loadedConfig):tt.call(function(t,e){var n=e.canLoad;return n&&0!==n.length?Qt(Q.a.call(N(n),function(n){var r=t.get(n);return $t(r.canLoad?r.canLoad(e):r(e))})):Object(F.a)(!0)}(t.injector,e),function(r){return r?Q.a.call(n.configLoader.load(t.injector,e),function(t){return e._loadedConfig=t,t}):Te(e)}):Object(F.a)(new Wt([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(F.a)(n);if(r.numberOfChildren>1||!r.children[Ut])return xe(t.redirectTo);r=r.children[Ut]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new ne(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return Jt(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return Jt(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new re(o,a)},t.prototype.createSegments=function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){for(var n=0,r=0,i=e;r<i.length;r++){var o=i[r];if(o.path===t.path)return e.splice(n),o;n++}return t},t}();function Re(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||Ht)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Se(t){if(1===t.numberOfChildren&&t.children[Ut]){var e=t.children[Ut];return new re(t.segments.concat(e.segments),e.children)}return t}function Oe(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0!==n.redirectTo)}function Ie(t){return t.outlet||Ut}var Pe=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=Ae(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=Ae(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=Le(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return Le(t,this._root).map(function(t){return t.value})},t}();function Ae(t,e){if(t===e.value)return e;for(var n=0,r=e.children;n<r.length;n++){var i=Ae(t,r[n]);if(i)return i}return null}function Le(t,e){if(t===e.value)return[e];for(var n=0,r=e.children;n<r.length;n++){var i=Le(t,r[n]);if(i.length)return i.unshift(e),i}return[]}var Me=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}(),De=function(t){function e(e,n){var r=t.call(this,e)||this;return r.snapshot=n,Ge(r,e),r}return r.a(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(Pe);function Ne(t,e){var n=function(t,e){var n=new je([],{},{},"",{},Ut,e,null,t.root,-1,{});return new Ue("",new Me(n,[]))}(t,e),r=new l([new ie("",{})]),i=new l({}),o=new l({}),a=new l({}),s=new l(""),u=new Fe(r,i,a,s,o,Ut,e,n.root);return u.snapshot=n.root,new De(new Me(u,[]),n)}var Fe=function(){function t(t,e,n,r,i,o,a,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._futureSnapshot=s}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=Q.a.call(this.params,function(t){return Vt(t)})),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Q.a.call(this.queryParams,function(t){return Vt(t)})),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}();function ke(t){for(var e=t.pathFromRoot,n=e.length-1;n>=1;){var r=e[n],i=e[n-1];if(r.routeConfig&&""===r.routeConfig.path)n--;else{if(i.component)break;n--}}return e.slice(n).reduce(function(t,e){return{params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}var je=function(){function t(t,e,n,r,i,o,a,s,u,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._routeConfig=s,this._urlSegment=u,this._lastPathIndex=l,this._resolve=c}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=Vt(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Vt(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this._routeConfig?this._routeConfig.path:"")+"')"},t}(),Ue=function(t){function e(e,n){var r=t.call(this,n)||this;return r.url=e,Ge(r,n),r}return r.a(e,t),e.prototype.toString=function(){return Ve(this._root)},e}(Pe);function Ge(t,e){e.value._routerState=t,e.children.forEach(function(e){return Ge(t,e)})}function Ve(t){var e=t.children.length>0?" { "+t.children.map(Ve).join(", ")+" } ":"";return""+t.value+e}function Be(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Kt(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Kt(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Kt(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Kt(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function He(t,e){var n,r,i=Kt(t.params,e.params)&&(n=t.url,r=e.url,oe(n,r)&&n.every(function(t,e){return Kt(t.parameters,r[e].parameters)})),o=!t.parent!=!e.parent;return i&&!o&&(!t.parent||He(t.parent,e.parent))}function We(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){(a=n.value)._futureSnapshot=e.value;var r=function(t,e,n){return e.children.map(function(e){for(var r=0,i=n.children;r<i.length;r++){var o=i[r];if(t.shouldReuseRoute(o.value.snapshot,e.value))return We(t,e,o)}return We(t,e)})}(t,e,n);return new Me(a,r)}if(t.retrieve(e.value)){var i=t.retrieve(e.value).route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(e,i),i}var o,a=(o=e.value,new Fe(new l(o.url),new l(o.params),new l(o.queryParams),new l(o.fragment),new l(o.data),o.outlet,o.component,o));r=e.children.map(function(e){return We(t,e)});return new Me(a,r)}function Xe(t,e,n,r,i){if(0===n.length)return Ye(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ke(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Jt(r.outlets,function(t,e){o[e]="string"==typeof t?t.split("/"):t}),t.concat([{outlets:o}])}if(r.segmentPath)return t.concat([r.segmentPath])}return"string"!=typeof r?t.concat([r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):t.concat([r])},[]);return new Ke(n,e,r)}(n);if(o.toRoot())return Ye(e.root,new re([],{}),e,r,i);var a=function(t,e,n){if(t.isAbsolute)return new qe(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new qe(n.snapshot._urlSegment,!0,0);var r=ze(t.commands[0])?0:1,i=n.snapshot._lastPathIndex+r;return function(t,e,n){var r=t,i=e,o=n;for(;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new qe(r,!1,i-o)}(n.snapshot._urlSegment,i,t.numberOfDoubleDots)}(o,e,t),s=a.processChildren?Qe(a.segmentGroup,a.index,o.commands):Je(a.segmentGroup,a.index,o.commands);return Ye(a.segmentGroup,s,e,r,i)}function ze(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ye(t,e,n,r,i){var o={};return r&&Jt(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),n.root===t?new ne(e,o,i):new ne(function t(e,n,r){var i={};Jt(e.children,function(e,o){i[o]=e===n?r:t(e,n,r)});return new re(e.segments,i)}(n.root,t,e),o,i)}var Ke=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&ze(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(r&&r!==Zt(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}();var qe=function(){return function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}();function Ze(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Ut]:""+t}function Je(t,e,n){if(t||(t=new re([],{})),0===t.segments.length&&t.hasChildren())return Qe(t,e,n);var r=function(t,e,n){var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=Ze(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!nn(s,u,a))return o;r+=2}else{if(!nn(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new re(t.segments.slice(0,r.pathIndex),{});return o.children[Ut]=new re(t.segments.slice(r.pathIndex),t.children),Qe(o,0,i)}return r.match&&0===i.length?new re(t.segments,{}):r.match&&!t.hasChildren()?$e(t,e,n):r.match?Qe(t,0,i):$e(t,e,n)}function Qe(t,e,n){if(0===n.length)return new re(t.segments,{});var r=function(t){return"object"!=typeof t[0]?((e={})[Ut]=t,e):void 0===t[0].outlets?((n={})[Ut]=t,n):t[0].outlets;var e,n}(n),i={};return Jt(r,function(n,r){null!==n&&(i[r]=Je(t.children[r],e,n))}),Jt(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new re(t.segments,i)}function $e(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=tn(n[i].outlets);return new re(r,o)}if(0===i&&ze(n[0])){var a=t.segments[e];r.push(new ie(a.path,n[0])),i++}else{var s=Ze(n[i]),u=i<n.length-1?n[i+1]:null;s&&u&&ze(u)?(r.push(new ie(s,en(u))),i+=2):(r.push(new ie(s,{})),i++)}}return new re(r,{})}function tn(t){var e={};return Jt(t,function(t,n){null!==t&&(e[n]=$e(new re([],{}),0,t))}),e}function en(t){var e={};return Jt(t,function(t,n){return e[n]=""+t}),e}function nn(t,e,n){return t==n.path&&Kt(e,n.parameters)}var rn=function(){return function(){}}();var on=function(){function t(t,e,n,r){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r}return t.prototype.recognize=function(){try{var t=un(this.urlTree.root,[],[],this.config).segmentGroup,e=this.processSegmentGroup(this.config,t,Ut),n=new je([],Object.freeze({}),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,{},Ut,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Me(n,e),i=new Ue(this.url,r);return this.inheritParamsAndData(i._root),Object(F.a)(i)}catch(t){return new g.a(function(e){return e.error(t)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,r=ke(n);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n,r=this,i=ae(e,function(e,n){return r.processSegmentGroup(t,e,n)});return n={},i.forEach(function(t){var e=n[t.value.outlet];if(e){var r=e.url.map(function(t){return t.toString()}).join("/"),i=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+i+"'.")}n[t.value.outlet]=t.value}),function(t){t.sort(function(t,e){return t.value.outlet===Ut?-1:e.value.outlet===Ut?1:t.value.outlet.localeCompare(e.value.outlet)})}(i),i},t.prototype.processSegment=function(t,e,n,r){for(var i=0,o=t;i<o.length;i++){var a=o[i];try{return this.processSegmentAgainstRoute(a,e,n,r)}catch(t){if(!(t instanceof rn))throw t}}if(this.noLeftoversInUrl(e,n,r))return[];throw new rn},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,r){if(t.redirectTo)throw new rn;if((t.outlet||Ut)!==r)throw new rn;if("**"===t.path){var i=n.length>0?Zt(n).parameters:{},o=new je(n,i,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,hn(t),r,t.component,t,an(e),sn(e)+n.length,pn(t));return[new Me(o,[])]}var a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new rn;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||Ht)(n,t,e);if(!r)throw new rn;var i={};Jt(r.posParams,function(t,e){i[e]=t.path});var o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n),s=a.consumedSegments,u=a.parameters,l=a.lastChild,c=n.slice(l),h=function(t){if(t.children)return t.children;if(t.loadChildren)return t._loadedConfig.routes;return[]}(t),p=un(e,s,c,h),f=p.segmentGroup,d=p.slicedSegments,g=new je(s,u,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,hn(t),r,t.component,t,an(e),sn(e)+s.length,pn(t));if(0===d.length&&f.hasChildren()){var y=this.processChildren(h,f);return[new Me(g,y)]}if(0===h.length&&0===d.length)return[new Me(g,[])];var v=this.processSegment(h,f,d,Ut);return[new Me(g,v)]},t}();function an(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function sn(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function un(t,e,n,r){if(n.length>0&&function(t,e,n){return n.some(function(n){return ln(t,e,n)&&cn(n)!==Ut})}(t,n,r)){var i=new re(e,function(t,e,n,r){var i={};i[Ut]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(var o=0,a=n;o<a.length;o++){var s=a[o];if(""===s.path&&cn(s)!==Ut){var u=new re([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[cn(s)]=u}}return i}(t,e,r,new re(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(function(n){return ln(t,e,n)})}(t,n,r)){var o=new re(t.segments,function(t,e,n,r){for(var i={},o=0,a=n;o<a.length;o++){var s=a[o];if(ln(t,e,s)&&!r[cn(s)]){var u=new re([],{});u._sourceSegment=t,u._segmentIndexShift=t.segments.length,i[cn(s)]=u}}return Object.assign({},r,i)}(t,n,r,t.children));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}var a=new re(t.segments,t.children);return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}function ln(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0===n.redirectTo)}function cn(t){return t.outlet||Ut}function hn(t){return t.data||{}}function pn(t){return t.resolve||{}}var fn=function(){function t(){}return t.prototype.shouldDetach=function(t){},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){},t.prototype.retrieve=function(t){},t.prototype.shouldReuseRoute=function(t,e){},t}(),dn=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),gn=new o.InjectionToken("ROUTES"),yn=function(){function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}return t.prototype.load=function(t,e){var n=this;this.onLoadStartListener&&this.onLoadStartListener(e);var r=this.loadModuleFactory(e.loadChildren);return Q.a.call(r,function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new Wt(qt(i.injector.get(gn)),i)})},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?Object(Tt.a)(this.loader.load(t)):tt.call($t(t()),function(t){return t instanceof o.NgModuleFactory?Object(F.a)(t):Object(Tt.a)(e.compiler.compileModuleAsync(t))})},t}(),vn=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){},t.prototype.extract=function(t){},t.prototype.merge=function(t,e){},t}(),_n=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}();function mn(t){throw t}function En(t){return Object(F.a)(null)}var Cn=function(){function t(t,e,n,r,i,s,u,c){var h=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=c,this.navigations=new l(null),this.routerEvents=new a.a,this.navigationId=0,this.errorHandler=mn,this.navigated=!1,this.hooks={beforePreactivation:En,afterPreactivation:En},this.urlHandlingStrategy=new _n,this.routeReuseStrategy=new dn;this.ngModule=i.get(o.NgModuleRef),this.resetConfig(c),this.currentUrlTree=new ne(new re([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.configLoader=new yn(s,u,function(t){return h.triggerEvent(new Mt(t))},function(t){return h.triggerEvent(new Dt(t))}),this.currentRouterState=Ne(this.currentUrlTree,this.rootComponentType),this.processNavigations()}return t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.currentRouterState.root.component=this.rootComponentType},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(Zone.current.wrap(function(e){var n=t.urlSerializer.parse(e.url),r="popstate"===e.type?"popstate":"hashchange";setTimeout(function(){t.scheduleNavigation(n,r,{replaceUrl:!0})},0)})))},Object.defineProperty(t.prototype,"routerState",{get:function(){return this.currentRouterState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){return this.routerEvents},enumerable:!0,configurable:!0}),t.prototype.triggerEvent=function(t){this.routerEvents.next(t)},t.prototype.resetConfig=function(t){Xt(t),this.config=t,this.navigated=!1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,r=e.queryParams,i=e.fragment,a=e.preserveQueryParams,s=e.queryParamsHandling,u=e.preserveFragment;Object(o.isDevMode)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var l=n||this.routerState.root,c=u?this.currentUrlTree.fragment:i,h=null;if(s)switch(s){case"merge":h=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}else h=a?this.currentUrlTree.queryParams:r||null;return Xe(l,this.currentUrlTree,t,h,c)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1});var n=t instanceof ne?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}(t),"object"==typeof e.queryParams&&null!==e.queryParams&&(e.queryParams=this.removeEmptyProps(e.queryParams)),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){return this.urlSerializer.parse(t)},t.prototype.isActive=function(t,e){if(t instanceof ne)return te(this.currentUrlTree,t,e);var n=this.urlSerializer.parse(t);return te(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!==r&&void 0!==r&&(e[n]=r),e},{})},t.prototype.processNavigations=function(){var t=this;k.a.call(this.navigations,function(e){return e?(t.executeScheduledNavigation(e),e.promise.catch(function(){})):Object(F.a)(null)}).subscribe(function(){})},t.prototype.scheduleNavigation=function(t,e,n){var r=this.navigations.value;if(r&&"imperative"!==e&&"imperative"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"hashchange"==e&&"popstate"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);var i=null,o=null,a=new Promise(function(t,e){i=t,o=e}),s=++this.navigationId;return this.navigations.next({id:s,source:e,rawUrl:t,extras:n,resolve:i,reject:o,promise:a}),a.catch(function(t){return Promise.reject(t)})},t.prototype.executeScheduledNavigation=function(t){var e=this,n=t.id,r=t.rawUrl,i=t.extras,o=t.resolve,a=t.reject,s=this.urlHandlingStrategy.extract(r),u=!this.navigated||s.toString()!==this.currentUrlTree.toString();u&&this.urlHandlingStrategy.shouldProcessUrl(r)?(this.routerEvents.next(new Ot(n,this.serializeUrl(s))),Promise.resolve().then(function(t){return e.runNavigate(s,r,!!i.skipLocationChange,!!i.replaceUrl,n,null)}).then(o,a)):u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.routerEvents.next(new Ot(n,this.serializeUrl(s))),Promise.resolve().then(function(t){return e.runNavigate(s,r,!1,!1,n,Ne(s,e.rootComponentType).snapshot)}).then(o,a)):(this.rawUrlTree=r,o(null))},t.prototype.runNavigate=function(t,e,n,r,i,o){var a=this;return i!==this.navigationId?(this.location.go(this.urlSerializer.serialize(this.currentUrlTree)),this.routerEvents.next(new Pt(i,this.serializeUrl(t),"Navigation ID "+i+" is not equal to the current navigation id "+this.navigationId)),Promise.resolve(!1)):new Promise(function(s,u){var l;if(o)l=Object(F.a)({appliedUrl:t,snapshot:o});else{var c=function(t,e,n,r,i){return new we(t,e,n,r,i).apply()}(a.ngModule.injector,a.configLoader,a.urlSerializer,t,a.config);l=tt.call(c,function(e){return Q.a.call(function(t,e,n,r){return new on(t,e,n,r).recognize()}(a.rootComponentType,a.config,e,a.serializeUrl(e)),function(n){return a.routerEvents.next(new Lt(i,a.serializeUrl(t),a.serializeUrl(e),n)),{appliedUrl:e,snapshot:n}})})}var h,p,f=tt.call(l,function(t){return Q.a.call(a.hooks.beforePreactivation(t.snapshot),function(){return t})}),d=Q.a.call(f,function(t){var e=t.appliedUrl,n=t.snapshot,r=a.ngModule.injector;return(h=new Tn(n,a.currentRouterState.snapshot,r)).traverse(a.rootContexts),{appliedUrl:e,snapshot:n}}),g=tt.call(d,function(e){var n=e.appliedUrl,r=e.snapshot;return a.navigationId!==i?Object(F.a)(!1):(a.triggerEvent(new Nt(i,a.serializeUrl(t),n,r)),Q.a.call(h.checkGuards(),function(e){return a.triggerEvent(new Ft(i,a.serializeUrl(t),n,r,e)),{appliedUrl:n,snapshot:r,shouldActivate:e}}))}),y=tt.call(g,function(e){return a.navigationId!==i?Object(F.a)(!1):e.shouldActivate&&h.isActivating()?(a.triggerEvent(new kt(i,a.serializeUrl(t),e.appliedUrl,e.snapshot)),Q.a.call(h.resolveData(),function(){return a.triggerEvent(new jt(i,a.serializeUrl(t),e.appliedUrl,e.snapshot)),e})):Object(F.a)(e)}),v=tt.call(y,function(t){return Q.a.call(a.hooks.afterPreactivation(t.snapshot),function(){return t})}),_=Q.a.call(v,function(t){var e,n,r,i,o=t.appliedUrl,s=t.snapshot,u=t.shouldActivate;return u?{appliedUrl:o,state:(e=a.routeReuseStrategy,n=s,r=a.currentRouterState,i=We(e,n._root,r?r._root:void 0),new De(i,n)),shouldActivate:u}:{appliedUrl:o,state:null,shouldActivate:u}}),m=a.currentRouterState,E=a.currentUrlTree;_.forEach(function(t){var o=t.appliedUrl,s=t.state;if(t.shouldActivate&&i===a.navigationId){if(a.currentUrlTree=o,a.rawUrlTree=a.urlHandlingStrategy.merge(a.currentUrlTree,e),a.currentRouterState=s,!n){var u=a.urlSerializer.serialize(a.rawUrlTree);a.location.isCurrentPathEqualTo(u)||r?a.location.replaceState(u):a.location.go(u)}new wn(a.routeReuseStrategy,s,m).activate(a.rootContexts),p=!0}else p=!1}).then(function(){p?(a.navigated=!0,a.routerEvents.next(new It(i,a.serializeUrl(t),a.serializeUrl(a.currentUrlTree))),s(!0)):(a.resetUrlToCurrentUrlTree(),a.routerEvents.next(new Pt(i,a.serializeUrl(t),"")),s(!1))},function(n){if(n[Bt])a.resetUrlToCurrentUrlTree(),a.navigated=!0,a.routerEvents.next(new Pt(i,a.serializeUrl(t),n.message)),s(!1);else{a.routerEvents.next(new At(i,a.serializeUrl(t),n));try{s(a.errorHandler(n))}catch(t){u(t)}}a.currentRouterState=m,a.currentUrlTree=E,a.rawUrlTree=a.urlHandlingStrategy.merge(a.currentUrlTree,e),a.location.replaceState(a.serializeUrl(a.rawUrlTree))})})},t.prototype.resetUrlToCurrentUrlTree=function(){var t=this.urlSerializer.serialize(this.rawUrlTree);this.location.replaceState(t)},t}(),bn=function(){function t(t){this.path=t}return Object.defineProperty(t.prototype,"route",{get:function(){return this.path[this.path.length-1]},enumerable:!0,configurable:!0}),t}(),xn=function(){return function(t,e){this.component=t,this.route=e}}(),Tn=function(){function t(t,e,n){this.future=t,this.curr=e,this.moduleInjector=n,this.canActivateChecks=[],this.canDeactivateChecks=[]}return t.prototype.traverse=function(t){var e=this.future._root,n=this.curr?this.curr._root:null;this.traverseChildRoutes(e,n,t,[e.value])},t.prototype.checkGuards=function(){var t=this;if(!this.isDeactivating()&&!this.isActivating())return Object(F.a)(!0);var e=this.runCanDeactivateChecks();return tt.call(e,function(e){return e?t.runCanActivateChecks():Object(F.a)(!1)})},t.prototype.resolveData=function(){var t=this;if(!this.isActivating())return Object(F.a)(null);var e=N(this.canActivateChecks),n=k.a.call(e,function(e){return t.runResolve(e.route)});return(function(t,e){return arguments.length>=2?gt(t,e)(this):gt(t)(this)}).call(n,function(t,e){return t})},t.prototype.isDeactivating=function(){return 0!==this.canDeactivateChecks.length},t.prototype.isActivating=function(){return 0!==this.canActivateChecks.length},t.prototype.traverseChildRoutes=function(t,e,n,r){var i=this,o=Sn(e);t.children.forEach(function(t){i.traverseRoutes(t,o[t.value.outlet],n,r.concat([t.value])),delete o[t.value.outlet]}),Jt(o,function(t,e){return i.deactivateRouteAndItsChildren(t,n.getContext(e))})},t.prototype.traverseRoutes=function(t,e,n,r){var i=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&i._routeConfig===o._routeConfig){var s=this.shouldRunGuardsAndResolvers(o,i,i._routeConfig.runGuardsAndResolvers);if(s?this.canActivateChecks.push(new bn(r)):(i.data=o.data,i._resolvedData=o._resolvedData),i.component?this.traverseChildRoutes(t,e,a?a.children:null,r):this.traverseChildRoutes(t,e,n,r),s){var u=a.outlet;this.canDeactivateChecks.push(new xn(u.component,o))}}else o&&this.deactivateRouteAndItsChildren(e,a),this.canActivateChecks.push(new bn(r)),i.component?this.traverseChildRoutes(t,null,a?a.children:null,r):this.traverseChildRoutes(t,null,n,r)},t.prototype.shouldRunGuardsAndResolvers=function(t,e,n){switch(n){case"always":return!0;case"paramsOrQueryParamsChange":return!He(t,e)||!Kt(t.queryParams,e.queryParams);case"paramsChange":default:return!He(t,e)}},t.prototype.deactivateRouteAndItsChildren=function(t,e){var n=this,r=Sn(t),i=t.value;Jt(r,function(t,r){i.component?e?n.deactivateRouteAndItsChildren(t,e.children.getContext(r)):n.deactivateRouteAndItsChildren(t,null):n.deactivateRouteAndItsChildren(t,e)}),i.component&&e&&e.outlet&&e.outlet.isActivated?this.canDeactivateChecks.push(new xn(e.outlet.component,i)):this.canDeactivateChecks.push(new xn(null,i))},t.prototype.runCanDeactivateChecks=function(){var t=this,e=N(this.canDeactivateChecks),n=tt.call(e,function(e){return t.runCanDeactivate(e.component,e.route)});return V.call(n,function(t){return!0===t})},t.prototype.runCanActivateChecks=function(){var t=this,e=N(this.canActivateChecks),n=k.a.call(e,function(e){return Qt(N([t.runCanActivateChild(e.path),t.runCanActivate(e.route)]))});return V.call(n,function(t){return!0===t})},t.prototype.runCanActivate=function(t){var e=this,n=t._routeConfig?t._routeConfig.canActivate:null;return n&&0!==n.length?Qt(Q.a.call(N(n),function(n){var r,i=e.getToken(n,t);return r=i.canActivate?$t(i.canActivate(t,e.future)):$t(i(t,e.future)),Y.call(r)})):Object(F.a)(!0)},t.prototype.runCanActivateChild=function(t){var e=this,n=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(function(t){return e.extractCanActivateChild(t)}).filter(function(t){return null!==t});return Qt(Q.a.call(N(r),function(t){return Qt(Q.a.call(N(t.guards),function(r){var i,o=e.getToken(r,t.node);return i=o.canActivateChild?$t(o.canActivateChild(n,e.future)):$t(o(n,e.future)),Y.call(i)}))}))},t.prototype.extractCanActivateChild=function(t){var e=t._routeConfig?t._routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null},t.prototype.runCanDeactivate=function(t,e){var n=this,r=e&&e._routeConfig?e._routeConfig.canDeactivate:null;if(!r||0===r.length)return Object(F.a)(!0);var i=tt.call(N(r),function(r){var i,o=n.getToken(r,e);return i=o.canDeactivate?$t(o.canDeactivate(t,e,n.curr,n.future)):$t(o(t,e,n.curr,n.future)),Y.call(i)});return V.call(i,function(t){return!0===t})},t.prototype.runResolve=function(t){var e=t._resolve;return Q.a.call(this.resolveNode(e,t),function(e){return t._resolvedData=e,t.data=Object.assign({},t.data,ke(t).resolve),null})},t.prototype.resolveNode=function(t,e){var n=this,r=Object.keys(t);if(0===r.length)return Object(F.a)({});if(1===r.length){var i=r[0];return Q.a.call(this.getResolver(t[i],e),function(t){return(e={})[i]=t,e;var e})}var o={},a=tt.call(N(r),function(r){return Q.a.call(n.getResolver(t[r],e),function(t){return o[r]=t,t})});return Q.a.call(J.call(a),function(){return o})},t.prototype.getResolver=function(t,e){var n=this.getToken(t,e);return n.resolve?$t(n.resolve(e,this.future)):$t(n(e,this.future))},t.prototype.getToken=function(t,e){var n=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e._routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(n?n.module.injector:this.moduleInjector).get(t)},t}(),wn=function(){function t(t,e,n){this.routeReuseStrategy=t,this.futureState=e,this.currState=n}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Be(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,i=Sn(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),Jt(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=Sn(t),o=t.value.component?r.children:e;Jt(i,function(t,e){return n.deactivateRouteAndItsChildren(t,o)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var r=this,i=Sn(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n)})},t.prototype.activateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(Be(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Rn(a.route)}else{var s=function(t){for(var e=t.parent;e;e=e.parent){var n=e._routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),u=s?s.module.componentFactoryResolver:null;o.route=r,o.resolver=u,o.outlet&&o.outlet.activateWith(r,u),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,n)},t}();function Rn(t){Be(t.value),t.children.forEach(Rn)}function Sn(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var On=function(){function t(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Object(o.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){var t={skipLocationChange:Pn(this.skipLocationChange),replaceUrl:Pn(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Pn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Pn(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}();On.decorators=[{type:o.Directive,args:[{selector:":not(a)[routerLink]"}]}],On.ctorParameters=function(){return[{type:Cn},{type:Fe},{type:void 0,decorators:[{type:o.Attribute,args:["tabindex"]}]},{type:o.Renderer2},{type:o.ElementRef}]},On.propDecorators={queryParams:[{type:o.Input}],fragment:[{type:o.Input}],queryParamsHandling:[{type:o.Input}],preserveFragment:[{type:o.Input}],skipLocationChange:[{type:o.Input}],replaceUrl:[{type:o.Input}],routerLink:[{type:o.Input}],preserveQueryParams:[{type:o.Input}],onClick:[{type:o.HostListener,args:["click"]}]};var In=function(){function t(t,e,n){var r=this;this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(function(t){t instanceof It&&r.updateTargetUrlAndHref()})}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Object(o.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:Pn(this.skipLocationChange),replaceUrl:Pn(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,i),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Pn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Pn(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}();function Pn(t){return""===t||!!t}In.decorators=[{type:o.Directive,args:[{selector:"a[routerLink]"}]}],In.ctorParameters=function(){return[{type:Cn},{type:Fe},{type:i.LocationStrategy}]},In.propDecorators={target:[{type:o.HostBinding,args:["attr.target"]},{type:o.Input}],queryParams:[{type:o.Input}],fragment:[{type:o.Input}],queryParamsHandling:[{type:o.Input}],preserveFragment:[{type:o.Input}],skipLocationChange:[{type:o.Input}],replaceUrl:[{type:o.Input}],href:[{type:o.HostBinding}],routerLink:[{type:o.Input}],preserveQueryParams:[{type:o.Input}],onClick:[{type:o.HostListener,args:["click",["$event.button","$event.ctrlKey","$event.metaKey","$event.shiftKey"]]}]};var An=function(){function t(t,e,n,r){var i=this;this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.classes=[],this.active=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(function(t){t instanceof It&&i.update()})}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this.active},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t=this;this.links.changes.subscribe(function(e){return t.update()}),this.linksWithHrefs.changes.subscribe(function(e){return t.update()}),this.update()},Object.defineProperty(t.prototype,"routerLinkActive",{set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(function(t){return!!t})},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.update()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.update=function(){var t=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var e=t.hasActiveLinks();t.active!==e&&(t.active=e,t.classes.forEach(function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)}))})},t.prototype.isLinkActive=function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}},t.prototype.hasActiveLinks=function(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))},t}();An.decorators=[{type:o.Directive,args:[{selector:"[routerLinkActive]",exportAs:"routerLinkActive"}]}],An.ctorParameters=function(){return[{type:Cn},{type:o.ElementRef},{type:o.Renderer2},{type:o.ChangeDetectorRef}]},An.propDecorators={links:[{type:o.ContentChildren,args:[On,{descendants:!0}]}],linksWithHrefs:[{type:o.ContentChildren,args:[In,{descendants:!0}]}],routerLinkActiveOptions:[{type:o.Input}],routerLinkActive:[{type:o.Input}]};var Ln=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Mn,this.attachRef=null}}(),Mn=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new Ln,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),Dn=function(){function t(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.EventEmitter,this.deactivateEvents=new o.EventEmitter,this.name=r||Ut,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"locationInjector",{get:function(){return this.location.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationFactoryResolver",{get:function(){return this.resolver},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=t._futureSnapshot._routeConfig.component,r=(e=e||this.resolver).resolveComponentFactory(n),i=this.parentContexts.getOrCreateContext(this.name).children,o=new Nn(t,i,this.location.injector);this.activated=this.location.createComponent(r,this.location.length,o),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}();Dn.decorators=[{type:o.Directive,args:[{selector:"router-outlet",exportAs:"outlet"}]}],Dn.ctorParameters=function(){return[{type:Mn},{type:o.ViewContainerRef},{type:o.ComponentFactoryResolver},{type:void 0,decorators:[{type:o.Attribute,args:["name"]}]},{type:o.ChangeDetectorRef}]},Dn.propDecorators={activateEvents:[{type:o.Output,args:["activate"]}],deactivateEvents:[{type:o.Output,args:["deactivate"]}]};var Nn=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===Fe?this.route:t===Mn?this.childContexts:this.parent.get(t,e)},t}(),Fn=function(){function t(){}return t.prototype.preload=function(t,e){},t}(),kn=function(){function t(){}return t.prototype.preload=function(t,e){return Ct.call(e(),function(){return Object(F.a)(null)})},t}(),jn=function(){function t(){}return t.prototype.preload=function(t,e){return Object(F.a)(null)},t}(),Un=function(){function t(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i;this.loader=new yn(e,n,function(e){return t.triggerEvent(new Mt(e))},function(e){return t.triggerEvent(new Dt(e))})}return t.prototype.setUpPreloading=function(){var t=this,e=St.a.call(this.router.events,function(t){return t instanceof It});this.subscription=k.a.call(e,function(){return t.preload()}).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(o.NgModuleRef);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;n.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?n.push(this.preloadConfig(t,o)):o.children&&n.push(this.processRoutes(t,o.children))}return wt.call(N(n))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){var r=n.loader.load(t.injector,e);return tt.call(r,function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})})},t}();Un.decorators=[{type:o.Injectable}],Un.ctorParameters=function(){return[{type:Cn},{type:o.NgModuleFactoryLoader},{type:o.Compiler},{type:o.Injector},{type:Fn}]};var Gn=[Dn,On,In,An],Vn=new o.InjectionToken("ROUTER_CONFIGURATION"),Bn=new o.InjectionToken("ROUTER_FORROOT_GUARD"),Hn=[i.Location,{provide:se,useClass:ue},{provide:Cn,useFactory:qn,deps:[o.ApplicationRef,se,Mn,i.Location,o.Injector,o.NgModuleFactoryLoader,o.Compiler,gn,Vn,[vn,new o.Optional],[fn,new o.Optional]]},Mn,{provide:Fe,useFactory:Zn,deps:[Cn]},{provide:o.NgModuleFactoryLoader,useClass:o.SystemJsNgModuleLoader},Un,jn,kn,{provide:Vn,useValue:{enableTracing:!1}}];function Wn(){return new o.NgProbeToken("Router",Cn)}var Xn=function(){function t(t,e){}return t.forRoot=function(e,n){return{ngModule:t,providers:[Hn,Kn(e),{provide:Bn,useFactory:Yn,deps:[[Cn,new o.Optional,new o.SkipSelf]]},{provide:Vn,useValue:n||{}},{provide:i.LocationStrategy,useFactory:zn,deps:[i.PlatformLocation,[new o.Inject(i.APP_BASE_HREF),new o.Optional],Vn]},{provide:Fn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:jn},{provide:o.NgProbeToken,multi:!0,useFactory:Wn},er()]}},t.forChild=function(e){return{ngModule:t,providers:[Kn(e)]}},t}();function zn(t,e,n){return void 0===n&&(n={}),n.useHash?new i.HashLocationStrategy(t,e):new i.PathLocationStrategy(t,e)}function Yn(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Kn(t){return[{provide:o.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:t},{provide:gn,multi:!0,useValue:t}]}function qn(t,e,n,r,i,o,a,s,u,l,c){void 0===u&&(u={});var h=new Cn(null,e,n,r,i,o,a,qt(s));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),u.errorHandler&&(h.errorHandler=u.errorHandler),u.enableTracing){var p=Object(Rt["\u0275getDOM"])();h.events.subscribe(function(t){p.logGroup("Router Event: "+t.constructor.name),p.log(t.toString()),p.log(t),p.logGroupEnd()})}return h}function Zn(t){return t.routerState.root}Xn.decorators=[{type:o.NgModule,args:[{declarations:Gn,exports:Gn}]}],Xn.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.Optional},{type:o.Inject,args:[Bn]}]},{type:Cn,decorators:[{type:o.Optional}]}]};var Jn=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new a.a}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(i.LOCATION_INITIALIZED,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(Cn),i=t.injector.get(Vn);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '"+i.initialNavigation+"'");r.hooks.afterPreactivation=function(){return t.initNavigation?Object(F.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(Vn),n=this.injector.get(Un),r=this.injector.get(Cn),i=this.injector.get(o.ApplicationRef);t===i.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),r.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();function Qn(t){return t.appInitializer.bind(t)}function $n(t){return t.bootstrapListener.bind(t)}Jn.decorators=[{type:o.Injectable}],Jn.ctorParameters=function(){return[{type:o.Injector}]};var tr=new o.InjectionToken("Router Initializer");function er(){return[Jn,{provide:o.APP_INITIALIZER,multi:!0,useFactory:Qn,deps:[Jn]},{provide:tr,useFactory:$n,deps:[Jn]},{provide:o.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:tr}]}var nr=new o.Version("4.4.6")},"6NQJ":function(t,e,n){"use strict";var r=n("CXX0"),i=n("emf4"),o=n.n(i),a=n("/LWt"),s=n("tFCN"),u=function(t){this.rbush_=o()(t),this.items_={}};u.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[r.a.getUid(e)]=n},u.prototype.load=function(t,e){for(var n=new Array(e.length),i=0,o=e.length;i<o;i++){var a=t[i],s=e[i],u={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};n[i]=u,this.items_[r.a.getUid(s)]=u}this.rbush_.load(n)},u.prototype.remove=function(t){var e=r.a.getUid(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},u.prototype.update=function(t,e){var n=this.items_[r.a.getUid(e)],i=[n.minX,n.minY,n.maxX,n.maxY];a.a.equals(i,t)||(this.remove(e),this.insert(t,e))},u.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},u.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(t){return t.value})},u.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},u.prototype.forEachInExtent=function(t,e,n){return this.forEach_(this.getInExtent(t),e,n)},u.prototype.forEach_=function(t,e,n){for(var r,i=0,o=t.length;i<o;i++)if(r=e.call(n,t[i]))return r;return r},u.prototype.isEmpty=function(){return s.a.isEmpty(this.items_)},u.prototype.clear=function(){this.rbush_.clear(),this.items_={}},u.prototype.getExtent=function(t){var e=this.rbush_.data;return a.a.createOrUpdate(e.minX,e.minY,e.maxX,e.maxY,t)},u.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[0|e]=t.items_[0|e]},e.a=u},"6t+W":function(t,e,n){"use strict";var r=n("tFCN"),i={bindListener_:function(t){var e=function(e){var n=t.listener,r=t.bindTo||t.target;return t.callOnce&&i.unlistenByKey(t),n.call(r,e)};return t.boundListener=e,e},findListener_:function(t,e,n,r){for(var i,o=0,a=t.length;o<a;++o)if((i=t[o]).listener===e&&i.bindTo===n)return r&&(i.deleteIndex=o),i},getListeners:function(t,e){var n=t.ol_lm;return n?n[e]:void 0},getListenerMap_:function(t){var e=t.ol_lm;return e||(e=t.ol_lm={}),e},removeListeners_:function(t,e){var n=i.getListeners(t,e);if(n){for(var o=0,a=n.length;o<a;++o)t.removeEventListener(e,n[o].boundListener),r.a.clear(n[o]);n.length=0;var s=t.ol_lm;s&&(delete s[e],0===Object.keys(s).length&&delete t.ol_lm)}},listen:function(t,e,n,r,o){var a=i.getListenerMap_(t),s=a[e];s||(s=a[e]=[]);var u=i.findListener_(s,n,r,!1);return u?o||(u.callOnce=!1):(u={bindTo:r,callOnce:!!o,listener:n,target:t,type:e},t.addEventListener(e,i.bindListener_(u)),s.push(u)),u},listenOnce:function(t,e,n,r){return i.listen(t,e,n,r,!0)},unlisten:function(t,e,n,r){var o=i.getListeners(t,e);if(o){var a=i.findListener_(o,n,r,!0);a&&i.unlistenByKey(a)}},unlistenByKey:function(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=i.getListeners(t.target,t.type);if(e){var n="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==n&&e.splice(n,1),0===e.length&&i.removeListeners_(t.target,t.type)}r.a.clear(t)}},unlistenAll:function(t){var e=i.getListenerMap_(t);for(var n in e)i.removeListeners_(t,n)}};e.a=i},"7h3G":function(t,e,n){"use strict";var r=n("CXX0"),i=n("OEyb"),o=n("dDPv"),a=n("ZVo0"),s=function(t){o.a.call(this),this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null};r.a.inherits(s,o.a),s.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},s.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(a.a.CLEAR)},s.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},s.prototype.forEach=function(t,e){for(var n=this.oldest_;n;)t.call(e,n.value_,n.key_,this),n=n.newer},s.prototype.get=function(t){var e=this.entries_[t];return i.a.assert(void 0!==e,15),e===this.newest_?e.value_:(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e,e.value_)},s.prototype.remove=function(t){var e=this.entries_[t];return i.a.assert(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},s.prototype.getCount=function(){return this.count_},s.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},s.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},s.prototype.peekLast=function(){return this.oldest_.value_},s.prototype.peekLastKey=function(){return this.oldest_.key_},s.prototype.peekFirstKey=function(){return this.newest_.key_},s.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},s.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},s.prototype.set=function(t,e){i.a.assert(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},s.prototype.prune=function(){for(;this.canExpireCache();)this.pop()},e.a=s},"7yEG":function(t,e,n){"use strict";var r=n("CXX0"),i=n("xifc"),o=n("/LWt"),a=n("3BBv"),s=n("tFCN"),u=n("yGLh"),l=n("Ae3H"),c=n("OEyb"),h=n("2p9+"),p=n("zF6X"),f=n("o1z/"),d=n("fGqn"),g=function(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,c.a.assert(p.a.isSorted(this.resolutions_,function(t,e){return e-t},!0),17),!t.origins)for(var n=0,i=this.resolutions_.length-1;n<i;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,c.a.assert(this.origins_.length==this.resolutions_.length,20));var a=t.extent;void 0===a||this.origin_||this.origins_||(this.origin_=o.a.getTopLeft(a)),c.a.assert(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,c.a.assert(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:r.a.DEFAULT_TILE_SIZE,c.a.assert(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==a?a:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){return new h.a(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):a&&this.calculateTileRanges_(a)};g.tmpTileCoord_=[0,0,0],g.prototype.forEachTileCoord=function(t,e,n){for(var r=this.getTileRangeForExtentAndZ(t,e),i=r.minX,o=r.maxX;i<=o;++i)for(var a=r.minY,s=r.maxY;a<=s;++a)n([e,i,a])},g.prototype.forEachTileCoordParentTileRange=function(t,e,n,r,i){var o,a,s,u=null,l=t[0]-1;for(2===this.zoomFactor_?(a=t[1],s=t[2]):u=this.getTileCoordExtent(t,i);l>=this.minZoom;){if(2===this.zoomFactor_?(a=Math.floor(a/2),s=Math.floor(s/2),o=h.a.createOrUpdate(a,a,s,s,r)):o=this.getTileRangeForExtentAndZ(u,l,r),e.call(n,l,o))return!0;--l}return!1},g.prototype.getExtent=function(){return this.extent_},g.prototype.getMaxZoom=function(){return this.maxZoom},g.prototype.getMinZoom=function(){return this.minZoom},g.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},g.prototype.getResolution=function(t){return this.resolutions_[t]},g.prototype.getResolutions=function(){return this.resolutions_},g.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],i=2*t[2];return h.a.createOrUpdate(r,r+1,i,i+1,e)}var o=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},g.prototype.getTileRangeExtent=function(t,e,n){var r=this.getOrigin(t),a=this.getResolution(t),s=i.a.toSize(this.getTileSize(t),this.tmpSize_),u=r[0]+e.minX*s[0]*a,l=r[0]+(e.maxX+1)*s[0]*a,c=r[1]+e.minY*s[1]*a,h=r[1]+(e.maxY+1)*s[1]*a;return o.a.createOrUpdate(u,c,l,h,n)},g.prototype.getTileRangeForExtentAndZ=function(t,e,n){var r=g.tmpTileCoord_;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,r);var i=r[1],o=r[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,r),h.a.createOrUpdate(i,r[1],o,r[2],n)},g.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),r=i.a.toSize(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*n,e[1]+(t[2]+.5)*r[1]*n]},g.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),r=this.getResolution(t[0]),a=i.a.toSize(this.getTileSize(t[0]),this.tmpSize_),s=n[0]+t[1]*a[0]*r,u=n[1]+t[2]*a[1]*r,l=s+a[0]*r,c=u+a[1]*r;return o.a.createOrUpdate(s,u,l,c,e)},g.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},g.prototype.getTileCoordForXYAndResolution_=function(t,e,n,r,o){var a=this.getZForResolution(n),s=n/this.getResolution(a),u=this.getOrigin(a),l=i.a.toSize(this.getTileSize(a),this.tmpSize_),c=r?.5:0,h=r?0:.5,p=Math.floor((t-u[0])/n+c),f=Math.floor((e-u[1])/n+h),g=s*p/l[0],y=s*f/l[1];return r?(g=Math.ceil(g)-1,y=Math.ceil(y)-1):(g=Math.floor(g),y=Math.floor(y)),d.a.createOrUpdate(a,g,y,o)},g.prototype.getTileCoordForXYAndZ_=function(t,e,n,r,o){var a=this.getOrigin(n),s=this.getResolution(n),u=i.a.toSize(this.getTileSize(n),this.tmpSize_),l=r?.5:0,c=r?0:.5,h=Math.floor((t-a[0])/s+l),p=Math.floor((e-a[1])/s+c),f=h/u[0],g=p/u[1];return r?(f=Math.ceil(f)-1,g=Math.ceil(g)-1):(f=Math.floor(f),g=Math.floor(g)),d.a.createOrUpdate(n,f,g,o)},g.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},g.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},g.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},g.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},g.prototype.getZForResolution=function(t,e){var n=p.a.linearFindNearest(this.resolutions_,t,e||0);return f.a.clamp(n,this.minZoom,this.maxZoom)},g.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),r=this.minZoom;r<e;++r)n[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=n};var y=g,v={getForProjection:function(t){var e=t.getDefaultTileGrid();return e||(e=v.createForProjection(t),t.setDefaultTileGrid(e)),e},wrapX:function(t,e,n){var r=e[0],i=t.getTileCoordCenter(e),a=v.extentFromProjection(n);if(o.a.containsCoordinate(a,i))return e;var s=o.a.getWidth(a),u=Math.ceil((a[0]-i[0])/s);return i[0]+=s*u,t.getTileCoordForCoordAndZ(i,r)},createForExtent:function(t,e,n,r){var i=void 0!==r?r:a.a.TOP_LEFT,s=v.resolutionsFromExtent(t,e,n);return new y({extent:t,origin:o.a.getCorner(t,i),resolutions:s,tileSize:n})},createXYZ:function(t){var e={};return s.a.assign(e,void 0!==t?t:{}),void 0===e.extent&&(e.extent=u.default.get("EPSG:3857").getExtent()),e.resolutions=v.resolutionsFromExtent(e.extent,e.maxZoom,e.tileSize),delete e.maxZoom,new y(e)},resolutionsFromExtent:function(t,e,n){for(var a=void 0!==e?e:r.a.DEFAULT_MAX_ZOOM,s=o.a.getHeight(t),u=o.a.getWidth(t),l=i.a.toSize(void 0!==n?n:r.a.DEFAULT_TILE_SIZE),c=Math.max(u/l[0],s/l[1]),h=a+1,p=new Array(h),f=0;f<h;++f)p[f]=c/Math.pow(2,f);return p},createForProjection:function(t,e,n,r){var i=v.extentFromProjection(t);return v.createForExtent(i,e,n,r)},extentFromProjection:function(t){var e=(t=u.default.get(t)).getExtent();if(!e){var n=180*u.default.METERS_PER_UNIT[l.a.DEGREES]/t.getMetersPerUnit();e=o.a.createOrUpdate(-n,-n,n,n)}return e}};e.a=v},"86p+":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CXX0"),i=n("/3K7"),o=n("iHAK"),a=n("SHxT"),s=n("zF6X"),u=n("OEyb"),l=n("6t+W"),c=n("J25b"),h=n("ZVo0"),p=n("/LWt"),f={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},d={};d.DOCUMENT=document.implementation.createDocument("","",null),d.createElementNS=function(t,e){return d.DOCUMENT.createElementNS(t,e)},d.getAllTextContent=function(t,e){return d.getAllTextContent_(t,e,[]).join("")},d.getAllTextContent_=function(t,e,n){var r;if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?n.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(t.nodeValue);else for(r=t.firstChild;r;r=r.nextSibling)d.getAllTextContent_(r,e,n);return n},d.isDocument=function(t){return t instanceof Document},d.isNode=function(t){return t instanceof Node},d.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)||""},d.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},d.parse=function(t){return(new DOMParser).parseFromString(t,"application/xml")},d.makeArrayExtender=function(t,e){return function(n,r){var i=t.call(e,n,r);if(void 0!==i){var o=r[r.length-1];s.a.extend(o,i)}}},d.makeArrayPusher=function(t,e){return function(n,r){var i=t.call(void 0!==e?e:this,n,r);void 0!==i&&r[r.length-1].push(i)}},d.makeReplacer=function(t,e){return function(n,r){var i=t.call(void 0!==e?e:this,n,r);void 0!==i&&(r[r.length-1]=i)}},d.makeObjectPropertyPusher=function(t,e,n){return function(r,i){var o=t.call(void 0!==n?n:this,r,i);if(void 0!==o){var a=i[i.length-1],s=void 0!==e?e:r.localName;(s in a?a[s]:a[s]=[]).push(o)}}},d.makeObjectPropertySetter=function(t,e,n){return function(r,i){var o=t.call(void 0!==n?n:this,r,i);void 0!==o&&(i[i.length-1][void 0!==e?e:r.localName]=o)}},d.makeChildAppender=function(t,e){return function(n,r,i){t.call(void 0!==e?e:this,n,r,i),i[i.length-1].node.appendChild(n)}},d.makeArraySerializer=function(t,e){var n,r;return function(e,i,o){if(void 0===n){n={};var a={};a[e.localName]=t,n[e.namespaceURI]=a,r=d.makeSimpleNodeFactory(e.localName)}d.serialize(n,r,i,o)}},d.makeSimpleNodeFactory=function(t,e){var n=t;return function(t,r,i){var o=r[r.length-1].node,a=n;void 0===a&&(a=i);var s=e;return void 0===e&&(s=o.namespaceURI),d.createElementNS(s,a)}},d.OBJECT_PROPERTY_NODE_FACTORY=d.makeSimpleNodeFactory(),d.makeSequence=function(t,e){for(var n=e.length,r=new Array(n),i=0;i<n;++i)r[i]=t[e[i]];return r},d.makeStructureNS=function(t,e,n){var r,i,o=void 0!==n?n:{};for(r=0,i=t.length;r<i;++r)o[t[r]]=e;return o},d.parseNode=function(t,e,n,r){var i;for(i=e.firstElementChild;i;i=i.nextElementSibling){var o=t[i.namespaceURI];if(void 0!==o){var a=o[i.localName];void 0!==a&&a.call(r,i,n)}}},d.pushParseAndPop=function(t,e,n,r,i){return r.push(t),d.parseNode(e,n,r,i),r.pop()},d.serialize=function(t,e,n,r,i,o){for(var a,s,u=(void 0!==i?i:n).length,l=0;l<u;++l)void 0!==(a=n[l])&&void 0!==(s=e.call(o,a,r,void 0!==i?i[l]:void 0))&&t[s.namespaceURI][s.localName].call(o,s,a,r)},d.pushSerializeAndPop=function(t,e,n,r,i,o,a){return i.push(t),d.serialize(e,n,r,i,o,a),i.pop()};var g=d,y={loadFeaturesXhr:function(t,e,n,r){return function(i,o,a){var s=new XMLHttpRequest;s.open("GET","function"==typeof t?t(i,o,a):t,!0),e.getType()==f.ARRAY_BUFFER&&(s.responseType="arraybuffer"),s.onload=(function(t){if(!s.status||s.status>=200&&s.status<300){var i,o=e.getType();o==f.JSON||o==f.TEXT?i=s.responseText:o==f.XML?(i=s.responseXML)||(i=g.parse(s.responseText)):o==f.ARRAY_BUFFER&&(i=s.response),i?n.call(this,e.readFeatures(i,{featureProjection:a}),e.readProjection(i),e.getLastExtent()):r.call(this)}else r.call(this)}).bind(this),s.onerror=(function(){r.call(this)}).bind(this),s.send()}},xhr:function(t,e){return y.loadFeaturesXhr(t,e,function(t,e){this.addFeatures(t)},r.a.nullFunction)}},v=y,_=n("V2dr"),m={all:function(t,e){return[[-1/0,-1/0,1/0,1/0]]},bbox:function(t,e){return[t]},tile:function(t){return function(e,n){var r=t.getZForResolution(n),i=t.getTileRangeForExtentAndZ(e,r),o=[],a=[r,0,0];for(a[1]=i.minX;a[1]<=i.maxX;++a[1])for(a[2]=i.minY;a[2]<=i.maxY;++a[2])o.push(t.getTileCoordExtent(a));return o}}},E=m,C=n("tFCN"),b=n("vLip"),x=n("T4j3"),T={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"},w=n("6NQJ"),R=function(t){var e=t||{};b.a.call(this,{attributions:e.attributions,logo:e.logo,projection:void 0,state:x.a.READY,wrapX:void 0===e.wrapX||e.wrapX}),this.loader_=r.a.nullFunction,this.format_=e.format,this.overlaps_=void 0==e.overlaps||e.overlaps,this.url_=e.url,void 0!==e.loader?this.loader_=e.loader:void 0!==this.url_&&(u.a.assert(this.format_,7),this.loader_=v.xhr(this.url_,this.format_)),this.strategy_=void 0!==e.strategy?e.strategy:E.all;var n,o,a=void 0===e.useSpatialIndex||e.useSpatialIndex;this.featuresRtree_=a?new w.a:null,this.loadedExtentsRtree_=new w.a,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,e.features instanceof i.a?o=(n=e.features).getArray():Array.isArray(e.features)&&(o=e.features),a||void 0!==n||(n=new i.a(o)),void 0!==o&&this.addFeaturesInternal(o),void 0!==n&&this.bindFeaturesCollection_(n)};r.a.inherits(R,b.a),R.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},R.prototype.addFeatureInternal=function(t){var e=r.a.getUid(t).toString();if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new R.Event(T.ADDFEATURE,t))}},R.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[l.a.listen(e,h.a.CHANGE,this.handleFeatureChange_,this),l.a.listen(e,a.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},R.prototype.addToIndex_=function(t,e){var n=!0,r=e.getId();return void 0!==r?r.toString()in this.idIndex_?n=!1:this.idIndex_[r.toString()]=e:(u.a.assert(!(t in this.undefIdIndex_),30),this.undefIdIndex_[t]=e),n},R.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},R.prototype.addFeaturesInternal=function(t){var e,n,i,o,a=[],s=[],u=[];for(n=0,i=t.length;n<i;n++)o=t[n],e=r.a.getUid(o).toString(),this.addToIndex_(e,o)&&s.push(o);for(n=0,i=s.length;n<i;n++){o=s[n],e=r.a.getUid(o).toString(),this.setupChangeEvents_(e,o);var l=o.getGeometry();if(l){var c=l.getExtent();a.push(c),u.push(o)}else this.nullGeometryFeatures_[e]=o}for(this.featuresRtree_&&this.featuresRtree_.load(a,u),n=0,i=s.length;n<i;n++)this.dispatchEvent(new R.Event(T.ADDFEATURE,s[n]))},R.prototype.bindFeaturesCollection_=function(t){var e=!1;l.a.listen(this,T.ADDFEATURE,function(n){e||(e=!0,t.push(n.feature),e=!1)}),l.a.listen(this,T.REMOVEFEATURE,function(n){e||(e=!0,t.remove(n.feature),e=!1)}),l.a.listen(t,o.a.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)},this),l.a.listen(t,o.a.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)},this),this.featuresCollection_=t},R.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(l.a.unlistenByKey)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal,this),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var r=new R.Event(T.CLEAR);this.dispatchEvent(r),this.changed()},R.prototype.forEachFeature=function(t,e){return this.featuresRtree_?this.featuresRtree_.forEach(t,e):this.featuresCollection_?this.featuresCollection_.forEach(t,e):void 0},R.prototype.forEachFeatureAtCoordinateDirect=function(t,e,n){var r=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(r,function(r){return r.getGeometry().intersectsCoordinate(t)?e.call(n,r):void 0})},R.prototype.forEachFeatureInExtent=function(t,e,n){return this.featuresRtree_?this.featuresRtree_.forEachInExtent(t,e,n):this.featuresCollection_?this.featuresCollection_.forEach(e,n):void 0},R.prototype.forEachFeatureIntersectingExtent=function(t,e,n){return this.forEachFeatureInExtent(t,function(r){if(r.getGeometry().intersectsExtent(t)){var i=e.call(n,r);if(i)return i}})},R.prototype.getFeaturesCollection=function(){return this.featuresCollection_},R.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),C.a.isEmpty(this.nullGeometryFeatures_)||s.a.extend(t,C.a.getValues(this.nullGeometryFeatures_))),t},R.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},R.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_.getInExtent(t)},R.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],r=t[1],i=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],u=e||_.a.TRUE;return this.featuresRtree_.forEachInExtent(s,function(t){if(u(t)){var e=t.getGeometry(),l=a;if((a=e.closestPointXY(n,r,o,a))<l){i=t;var c=Math.sqrt(a);s[0]=n-c,s[1]=r-c,s[2]=n+c,s[3]=r+c}}}),i},R.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},R.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},R.prototype.getFormat=function(){return this.format_},R.prototype.getOverlaps=function(){return this.overlaps_},R.prototype.getResolutions=function(){},R.prototype.getUrl=function(){return this.url_},R.prototype.handleFeatureChange_=function(t){var e=t.target,n=r.a.getUid(e).toString(),i=e.getGeometry();if(i){var o=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var a=e.getId();if(void 0!==a){var s=a.toString();n in this.undefIdIndex_?(delete this.undefIdIndex_[n],this.idIndex_[s]=e):this.idIndex_[s]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[s]=e)}else n in this.undefIdIndex_||(this.removeFromIdIndex_(e),this.undefIdIndex_[n]=e);this.changed(),this.dispatchEvent(new R.Event(T.CHANGEFEATURE,e))},R.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&C.a.isEmpty(this.nullGeometryFeatures_)},R.prototype.loadFeatures=function(t,e,n){var r,i,o=this.loadedExtentsRtree_,a=this.strategy_(t,e);for(r=0,i=a.length;r<i;++r){var s=a[r];o.forEachInExtent(s,function(t){return p.a.containsExtent(t.extent,s)})||(this.loader_.call(this,s,e,n),o.insert(s,{extent:s.slice()}))}},R.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,function(n){if(p.a.equals(n.extent,t))return e=n,!0}),e&&n.remove(e)},R.prototype.removeFeature=function(t){var e=r.a.getUid(t).toString();e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},R.prototype.removeFeatureInternal=function(t){var e=r.a.getUid(t).toString();this.featureChangeKeys_[e].forEach(l.a.unlistenByKey),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n?delete this.idIndex_[n.toString()]:delete this.undefIdIndex_[e],this.dispatchEvent(new R.Event(T.REMOVEFEATURE,t))},R.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},R.prototype.setLoader=function(t){this.loader_=t},R.Event=function(t,e){c.a.call(this,t),this.feature=e},r.a.inherits(R.Event,c.a);e.default=R},"8D5t":function(t,e,n){"use strict";var r=n("Qnch");function i(t){return t}e.a=function(t){void 0===t&&(t=Number.POSITIVE_INFINITY);return Object(r.a)(i,null,t)}},"8gh8":function(t,e,n){"use strict";e.a={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"}},"9bGr":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CXX0"),i=n("/3K7"),o=n("iHAK"),a=n("J25b"),s=function(t,e,n){a.a.call(this,t),this.map=e,this.frameState=void 0!==n?n:null};r.a.inherits(s,a.a);var u=s,l=function(t,e,n,r,i){u.call(this,t,e,i),this.originalEvent=n,this.pixel=e.getEventPixel(n),this.coordinate=e.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==r&&r};r.a.inherits(l,u),l.prototype.preventDefault=function(){u.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},l.prototype.stopPropagation=function(){u.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()};var c=l,h=n("4acs"),p=n("ZVo0"),f={SINGLECLICK:"singleclick",CLICK:p.a.CLICK,DBLCLICK:p.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},d=function(t,e,n,r,i){c.call(this,t,e,n.originalEvent,r,i),this.pointerEvent=n};r.a.inherits(d,c);var g=d,y=n("6t+W"),v=n("dDPv"),_={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},m=function(t,e){this.dispatcher=t,this.mapping_=e};m.prototype.getEvents=function(){return Object.keys(this.mapping_)},m.prototype.getHandlerForEvent=function(t){return this.mapping_[t]};var E=m,C=function(t){var e={mousedown:this.mousedown,mousemove:this.mousemove,mouseup:this.mouseup,mouseover:this.mouseover,mouseout:this.mouseout};E.call(this,t,e),this.pointerMap=t.pointerMap,this.lastTouches=[]};r.a.inherits(C,E),C.POINTER_ID=1,C.POINTER_TYPE="mouse",C.DEDUP_DIST=25,C.prototype.isEventSimulatedFromTouch_=function(t){for(var e,n=this.lastTouches,r=t.clientX,i=t.clientY,o=0,a=n.length;o<a&&(e=n[o]);o++){var s=Math.abs(r-e[0]),u=Math.abs(i-e[1]);if(s<=C.DEDUP_DIST&&u<=C.DEDUP_DIST)return!0}return!1},C.prepareEvent=function(t,e){var n=e.cloneEvent(t,t),r=n.preventDefault;return n.preventDefault=function(){t.preventDefault(),r()},n.pointerId=C.POINTER_ID,n.isPrimary=!0,n.pointerType=C.POINTER_TYPE,n},C.prototype.mousedown=function(t){if(!this.isEventSimulatedFromTouch_(t)){C.POINTER_ID.toString()in this.pointerMap&&this.cancel(t);var e=C.prepareEvent(t,this.dispatcher);this.pointerMap[C.POINTER_ID.toString()]=t,this.dispatcher.down(e,t)}},C.prototype.mousemove=function(t){if(!this.isEventSimulatedFromTouch_(t)){var e=C.prepareEvent(t,this.dispatcher);this.dispatcher.move(e,t)}},C.prototype.mouseup=function(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[C.POINTER_ID.toString()];if(e&&e.button===t.button){var n=C.prepareEvent(t,this.dispatcher);this.dispatcher.up(n,t),this.cleanupMouse()}}},C.prototype.mouseover=function(t){if(!this.isEventSimulatedFromTouch_(t)){var e=C.prepareEvent(t,this.dispatcher);this.dispatcher.enterOver(e,t)}},C.prototype.mouseout=function(t){if(!this.isEventSimulatedFromTouch_(t)){var e=C.prepareEvent(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}},C.prototype.cancel=function(t){var e=C.prepareEvent(t,this.dispatcher);this.dispatcher.cancel(e,t),this.cleanupMouse()},C.prototype.cleanupMouse=function(){delete this.pointerMap[C.POINTER_ID.toString()]};var b=C,x=function(t){var e={MSPointerDown:this.msPointerDown,MSPointerMove:this.msPointerMove,MSPointerUp:this.msPointerUp,MSPointerOut:this.msPointerOut,MSPointerOver:this.msPointerOver,MSPointerCancel:this.msPointerCancel,MSGotPointerCapture:this.msGotPointerCapture,MSLostPointerCapture:this.msLostPointerCapture};E.call(this,t,e),this.pointerMap=t.pointerMap,this.POINTER_TYPES=["","unavailable","touch","pen","mouse"]};r.a.inherits(x,E),x.prototype.prepareEvent_=function(t){var e=t;return"number"==typeof t.pointerType&&((e=this.dispatcher.cloneEvent(t,t)).pointerType=this.POINTER_TYPES[t.pointerType]),e},x.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},x.prototype.msPointerDown=function(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)},x.prototype.msPointerMove=function(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)},x.prototype.msPointerUp=function(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)},x.prototype.msPointerOut=function(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)},x.prototype.msPointerOver=function(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)},x.prototype.msPointerCancel=function(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)},x.prototype.msLostPointerCapture=function(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)},x.prototype.msGotPointerCapture=function(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)};var T=x,w=function(t){var e={pointerdown:this.pointerDown,pointermove:this.pointerMove,pointerup:this.pointerUp,pointerout:this.pointerOut,pointerover:this.pointerOver,pointercancel:this.pointerCancel,gotpointercapture:this.gotPointerCapture,lostpointercapture:this.lostPointerCapture};E.call(this,t,e)};r.a.inherits(w,E),w.prototype.pointerDown=function(t){this.dispatcher.fireNativeEvent(t)},w.prototype.pointerMove=function(t){this.dispatcher.fireNativeEvent(t)},w.prototype.pointerUp=function(t){this.dispatcher.fireNativeEvent(t)},w.prototype.pointerOut=function(t){this.dispatcher.fireNativeEvent(t)},w.prototype.pointerOver=function(t){this.dispatcher.fireNativeEvent(t)},w.prototype.pointerCancel=function(t){this.dispatcher.fireNativeEvent(t)},w.prototype.lostPointerCapture=function(t){this.dispatcher.fireNativeEvent(t)},w.prototype.gotPointerCapture=function(t){this.dispatcher.fireNativeEvent(t)};var R=w,S=function(t,e,n){a.a.call(this,t),this.originalEvent=e;var r=n||{};this.buttons=this.getButtons_(r),this.pressure=this.getPressure_(r,this.buttons),this.bubbles="bubbles"in r&&r.bubbles,this.cancelable="cancelable"in r&&r.cancelable,this.view="view"in r?r.view:null,this.detail="detail"in r?r.detail:null,this.screenX="screenX"in r?r.screenX:0,this.screenY="screenY"in r?r.screenY:0,this.clientX="clientX"in r?r.clientX:0,this.clientY="clientY"in r?r.clientY:0,this.ctrlKey="ctrlKey"in r&&r.ctrlKey,this.altKey="altKey"in r&&r.altKey,this.shiftKey="shiftKey"in r&&r.shiftKey,this.metaKey="metaKey"in r&&r.metaKey,this.button="button"in r?r.button:0,this.relatedTarget="relatedTarget"in r?r.relatedTarget:null,this.pointerId="pointerId"in r?r.pointerId:0,this.width="width"in r?r.width:0,this.height="height"in r?r.height:0,this.tiltX="tiltX"in r?r.tiltX:0,this.tiltY="tiltY"in r?r.tiltY:0,this.pointerType="pointerType"in r?r.pointerType:"",this.hwTimestamp="hwTimestamp"in r?r.hwTimestamp:0,this.isPrimary="isPrimary"in r&&r.isPrimary,e.preventDefault&&(this.preventDefault=function(){e.preventDefault()})};r.a.inherits(S,a.a),S.prototype.getButtons_=function(t){var e;if(t.buttons||S.HAS_BUTTONS)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e},S.prototype.getPressure_=function(t,e){return t.pressure?t.pressure:e?.5:0},S.HAS_BUTTONS=!1,function(){try{var t=new MouseEvent("click",{buttons:1});S.HAS_BUTTONS=1===t.buttons}catch(t){}}();var O=S,I=n("zF6X"),P=function(t,e){var n={touchstart:this.touchstart,touchmove:this.touchmove,touchend:this.touchend,touchcancel:this.touchcancel};E.call(this,t,n),this.pointerMap=t.pointerMap,this.mouseSource=e,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_=void 0};r.a.inherits(P,E),P.DEDUP_TIMEOUT=2500,P.CLICK_COUNT_TIMEOUT=200,P.POINTER_TYPE="touch",P.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},P.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&b.POINTER_ID.toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},P.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},P.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),P.CLICK_COUNT_TIMEOUT)},P.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},P.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},P.prototype.touchToPointer_=function(t,e){var n=this.dispatcher.cloneEvent(t,e);return n.pointerId=e.identifier+2,n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount_,n.button=0,n.buttons=1,n.width=e.webkitRadiusX||e.radiusX||0,n.height=e.webkitRadiusY||e.radiusY||0,n.pressure=e.webkitForce||e.force||.5,n.isPrimary=this.isPrimaryTouch_(e),n.pointerType=P.POINTER_TYPE,n.clientX=e.clientX,n.clientY=e.clientY,n.screenX=e.screenX,n.screenY=e.screenY,n},P.prototype.processTouches_=function(t,e){var n,r,i=Array.prototype.slice.call(t.changedTouches),o=i.length;function a(){t.preventDefault()}for(n=0;n<o;++n)(r=this.touchToPointer_(t,i[n])).preventDefault=a,e.call(this,t,r)},P.prototype.findTouch_=function(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].identifier===e)return!0;return!1},P.prototype.vacuumTouches_=function(t){var e=t.touches,n=Object.keys(this.pointerMap),r=n.length;if(r>=e.length){var i,o,a,s=[];for(i=0;i<r;++i)o=n[i],a=this.pointerMap[o],o==b.POINTER_ID||this.findTouch_(e,o-2)||s.push(a.out);for(i=0;i<s.length;++i)this.cancelOut_(t,s[i])}},P.prototype.touchstart=function(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)},P.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},P.prototype.touchmove=function(t){t.preventDefault(),this.processTouches_(t,this.moveOverOut_)},P.prototype.moveOverOut_=function(t,e){var n=e,r=this.pointerMap[n.pointerId];if(r){var i=r.out,o=r.outTarget;this.dispatcher.move(n,t),i&&o!==n.target&&(i.relatedTarget=n.target,n.relatedTarget=o,i.target=o,n.target?(this.dispatcher.leaveOut(i,t),this.dispatcher.enterOver(n,t)):(n.target=o,n.relatedTarget=null,this.cancelOut_(t,n))),r.out=n,r.outTarget=n.target}},P.prototype.touchend=function(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)},P.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},P.prototype.touchcancel=function(t){this.processTouches_(t,this.cancelOut_)},P.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},P.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},P.prototype.dedupSynthMouse_=function(t){var e=this.mouseSource.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch_(n)){var r=[n.clientX,n.clientY];e.push(r),setTimeout(function(){I.a.remove(e,r)},P.DEDUP_TIMEOUT)}};var A=P,L=function(t){v.a.call(this),this.element_=t,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()};r.a.inherits(L,v.a),L.prototype.registerSources=function(){if(h.a.POINTER)this.registerSource("native",new R(this));else if(h.a.MSPOINTER)this.registerSource("ms",new T(this));else{var t=new b(this);this.registerSource("mouse",t),h.a.TOUCH&&this.registerSource("touch",new A(this,t))}this.register_()},L.prototype.registerSource=function(t,e){var n=e,r=n.getEvents();r&&(r.forEach(function(t){var e=n.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(n))},this),this.eventSourceList_.push(n))},L.prototype.register_=function(){for(var t,e=this.eventSourceList_.length,n=0;n<e;n++)t=this.eventSourceList_[n],this.addEvents_(t.getEvents())},L.prototype.unregister_=function(){for(var t,e=this.eventSourceList_.length,n=0;n<e;n++)t=this.eventSourceList_[n],this.removeEvents_(t.getEvents())},L.prototype.eventHandler_=function(t){var e=t.type,n=this.eventMap_[e];n&&n(t)},L.prototype.addEvents_=function(t){t.forEach(function(t){y.a.listen(this.element_,t,this.eventHandler_,this)},this)},L.prototype.removeEvents_=function(t){t.forEach(function(t){y.a.unlisten(this.element_,t,this.eventHandler_,this)},this)},L.prototype.cloneEvent=function(t,e){for(var n,r={},i=0,o=L.CLONE_PROPS.length;i<o;i++)r[n=L.CLONE_PROPS[i][0]]=t[n]||e[n]||L.CLONE_PROPS[i][1];return r},L.prototype.down=function(t,e){this.fireEvent(_.POINTERDOWN,t,e)},L.prototype.move=function(t,e){this.fireEvent(_.POINTERMOVE,t,e)},L.prototype.up=function(t,e){this.fireEvent(_.POINTERUP,t,e)},L.prototype.enter=function(t,e){t.bubbles=!1,this.fireEvent(_.POINTERENTER,t,e)},L.prototype.leave=function(t,e){t.bubbles=!1,this.fireEvent(_.POINTERLEAVE,t,e)},L.prototype.over=function(t,e){t.bubbles=!0,this.fireEvent(_.POINTEROVER,t,e)},L.prototype.out=function(t,e){t.bubbles=!0,this.fireEvent(_.POINTEROUT,t,e)},L.prototype.cancel=function(t,e){this.fireEvent(_.POINTERCANCEL,t,e)},L.prototype.leaveOut=function(t,e){this.out(t,e),this.contains_(t.target,t.relatedTarget)||this.leave(t,e)},L.prototype.enterOver=function(t,e){this.over(t,e),this.contains_(t.target,t.relatedTarget)||this.enter(t,e)},L.prototype.contains_=function(t,e){return!(!t||!e)&&t.contains(e)},L.prototype.makeEvent=function(t,e,n){return new O(t,n,e)},L.prototype.fireEvent=function(t,e,n){var r=this.makeEvent(t,e,n);this.dispatchEvent(r)},L.prototype.fireNativeEvent=function(t){var e=this.makeEvent(t.type,t,t);this.dispatchEvent(e)},L.prototype.wrapMouseEvent=function(t,e){return this.makeEvent(t,b.prepareEvent(e,this),e)},L.prototype.disposeInternal=function(){this.unregister_(),v.a.prototype.disposeInternal.call(this)},L.CLONE_PROPS=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];var M=L,D=function(t,e){v.a.call(this),this.map_=t,this.clickTimeoutId_=0,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=e?e*h.a.DEVICE_PIXEL_RATIO:h.a.DEVICE_PIXEL_RATIO,this.down_=null;var n=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new M(n),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=y.a.listen(this.pointerEventHandler_,_.POINTERDOWN,this.handlePointerDown_,this),this.relayedListenerKey_=y.a.listen(this.pointerEventHandler_,_.POINTERMOVE,this.relayEvent_,this)};r.a.inherits(D,v.a),D.prototype.emulateClick_=function(t){var e=new g(f.CLICK,this.map_,t);this.dispatchEvent(e),0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=0,e=new g(f.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout((function(){this.clickTimeoutId_=0;var e=new g(f.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}).bind(this),250)},D.prototype.updateActivePointers_=function(t){var e=t;e.type==f.POINTERUP||e.type==f.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==f.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},D.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new g(f.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(y.a.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},D.prototype.isMouseActionButton_=function(t){return 0===t.button},D.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new g(f.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new M(document),this.dragListenerKeys_.push(y.a.listen(this.documentPointerEventHandler_,f.POINTERMOVE,this.handlePointerMove_,this),y.a.listen(this.documentPointerEventHandler_,f.POINTERUP,this.handlePointerUp_,this),y.a.listen(this.pointerEventHandler_,f.POINTERCANCEL,this.handlePointerUp_,this)))},D.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new g(f.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}t.preventDefault()},D.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new g(t.type,this.map_,t,e))},D.prototype.isMoving_=function(t){return Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},D.prototype.disposeInternal=function(){this.relayedListenerKey_&&(y.a.unlistenByKey(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(y.a.unlistenByKey(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(y.a.unlistenByKey),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),v.a.prototype.disposeInternal.call(this)};var N=D,F=n("LiKT"),k={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},j=n("sR3l"),U=n("SHxT"),G=n("ZDkq"),V=n("OEyb"),B=n("tFCN"),H=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};H.DROP=1/0,H.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,B.a.clear(this.queuedElements_)},H.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var r=this.keyFunction_(n);return delete this.queuedElements_[r],n},H.prototype.enqueue=function(t){V.a.assert(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=H.DROP&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},H.prototype.getCount=function(){return this.elements_.length},H.prototype.getLeftChildIndex_=function(t){return 2*t+1},H.prototype.getRightChildIndex_=function(t){return 2*t+2},H.prototype.getParentIndex_=function(t){return t-1>>1},H.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},H.prototype.isEmpty=function(){return 0===this.elements_.length},H.prototype.isKeyQueued=function(t){return t in this.queuedElements_},H.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},H.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,r=e.length,i=e[t],o=n[t],a=t;t<r>>1;){var s=this.getLeftChildIndex_(t),u=this.getRightChildIndex_(t),l=u<r&&n[u]<n[s]?u:s;e[t]=e[l],n[t]=n[l],t=l}e[t]=i,n[t]=o,this.siftDown_(a,t)},H.prototype.siftDown_=function(t,e){for(var n=this.elements_,r=this.priorities_,i=n[e],o=r[e];e>t;){var a=this.getParentIndex_(e);if(!(r[a]>o))break;n[e]=n[a],r[e]=r[a],e=a}n[e]=i,r[e]=o},H.prototype.reprioritize=function(){var t,e,n,r=this.priorityFunction_,i=this.elements_,o=this.priorities_,a=0,s=i.length;for(e=0;e<s;++e)(n=r(t=i[e]))==H.DROP?delete this.queuedElements_[this.keyFunction_(t)]:(o[a]=n,i[a++]=t);i.length=a,o.length=a,this.heapify_()};var W=H,X=function(t,e){W.call(this,function(e){return t.apply(null,e)},function(t){return t[0].getKey()}),this.tileChangeCallback_=e,this.tilesLoading_=0,this.tilesLoadingKeys_={}};r.a.inherits(X,W),X.prototype.enqueue=function(t){var e=W.prototype.enqueue.call(this,t);if(e){var n=t[0];y.a.listen(n,p.a.CHANGE,this.handleTileChange,this)}return e},X.prototype.getTilesLoading=function(){return this.tilesLoading_},X.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(n===G.a.LOADED||n===G.a.ERROR||n===G.a.EMPTY||n===G.a.ABORT){y.a.unlisten(e,p.a.CHANGE,this.handleTileChange,this);var r=e.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}},X.prototype.loadMoreTiles=function(t,e){for(var n,r,i,o=0,a=!1;this.tilesLoading_<t&&o<e&&this.getCount()>0;)i=(r=this.dequeue()[0]).getKey(),(n=r.getState())===G.a.ABORT?a=!0:n!==G.a.IDLE||i in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[i]=!0,++this.tilesLoading_,++o,r.load());0===o&&a&&this.tileChangeCallback_()};var z=X,Y=n("gCHX"),K=n("kfRt"),q=n("w2Al"),Z=n("/LWt"),J=n("V2dr"),Q=n("mLRC"),$=n("T4j3"),tt=function(t){var e=t||{},n=B.a.assign({},e);delete n.layers;var r=e.layers;Q.a.call(this,n),this.layersListenerKeys_=[],this.listenerKeys_={},y.a.listen(this,j.a.getChangeEventType(tt.Property_.LAYERS),this.handleLayersChanged_,this),r?Array.isArray(r)?r=new i.a(r.slice(),{unique:!0}):(V.a.assert(r instanceof i.a,43),r=r):r=new i.a(void 0,{unique:!0}),this.setLayers(r)};r.a.inherits(tt,Q.a),tt.prototype.handleLayerChange_=function(){this.changed()},tt.prototype.handleLayersChanged_=function(t){this.layersListenerKeys_.forEach(y.a.unlistenByKey),this.layersListenerKeys_.length=0;var e=this.getLayers();for(var n in this.layersListenerKeys_.push(y.a.listen(e,o.a.ADD,this.handleLayersAdd_,this),y.a.listen(e,o.a.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[n].forEach(y.a.unlistenByKey);B.a.clear(this.listenerKeys_);var i,a,s,u=e.getArray();for(i=0,a=u.length;i<a;i++)s=u[i],this.listenerKeys_[r.a.getUid(s).toString()]=[y.a.listen(s,U.a.PROPERTYCHANGE,this.handleLayerChange_,this),y.a.listen(s,p.a.CHANGE,this.handleLayerChange_,this)];this.changed()},tt.prototype.handleLayersAdd_=function(t){var e=t.element,n=r.a.getUid(e).toString();this.listenerKeys_[n]=[y.a.listen(e,U.a.PROPERTYCHANGE,this.handleLayerChange_,this),y.a.listen(e,p.a.CHANGE,this.handleLayerChange_,this)],this.changed()},tt.prototype.handleLayersRemove_=function(t){var e=t.element,n=r.a.getUid(e).toString();this.listenerKeys_[n].forEach(y.a.unlistenByKey),delete this.listenerKeys_[n],this.changed()},tt.prototype.getLayers=function(){return this.get(tt.Property_.LAYERS)},tt.prototype.setLayers=function(t){this.set(tt.Property_.LAYERS,t)},tt.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},tt.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});var r,i,o,a=this.getLayerState();for(r=n,i=e.length;r<i;r++)(o=e[r]).opacity*=a.opacity,o.visible=o.visible&&a.visible,o.maxResolution=Math.min(o.maxResolution,a.maxResolution),o.minResolution=Math.max(o.minResolution,a.minResolution),void 0!==a.extent&&(void 0!==o.extent?o.extent=Z.a.getIntersection(o.extent,a.extent):o.extent=a.extent);return e},tt.prototype.getSourceState=function(){return $.a.READY},tt.Property_={LAYERS:"layers"};var et=tt,nt={MAP_RENDERER:"MAP_RENDERER",LAYER_RENDERER:"LAYER_RENDERER"},rt={mapRendererPlugins_:[],getMapRendererPlugins:function(){return rt.mapRendererPlugins_},layerRendererPlugins_:[],getLayerRendererPlugins:function(){return rt.layerRendererPlugins_},register:function(t,e){switch(t){case nt.MAP_RENDERER:rt.mapRendererPlugins_.push(e);break;case nt.LAYER_RENDERER:rt.layerRendererPlugins_.push(e);break;default:throw new Error("Unsupported plugin type: "+t)}},registerMultiple:function(t,e){for(var n=0,r=e.length;n<r;++n)rt.register(t,e[n])}},it=rt,ot={CANVAS:"canvas",WEBGL:"webgl"},at=n("xifc"),st=n("azsZ"),ut=function(t){j.a.call(this);var e=ut.createOptionsInternal(t);this.loadTilesWhileAnimating_=void 0!==t.loadTilesWhileAnimating&&t.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==t.loadTilesWhileInteracting&&t.loadTilesWhileInteracting,this.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:h.a.DEVICE_PIXEL_RATIO,this.logos_=e.logos,this.animationDelayKey_,this.animationDelay_=(function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}).bind(this),this.coordinateToPixelTransform_=st.a.create(),this.pixelToCoordinateTransform_=st.a.create(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("DIV"),this.viewport_.className="ol-viewport"+(h.a.TOUCH?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("DIV"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("DIV"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var n=[p.a.CLICK,p.a.DBLCLICK,p.a.MOUSEDOWN,p.a.TOUCHSTART,p.a.MSPOINTERDOWN,f.POINTERDOWN,p.a.MOUSEWHEEL,p.a.WHEEL],r=0,s=n.length;r<s;++r)y.a.listen(this.overlayContainerStopEvent_,n[r],a.a.stopPropagation);for(var u in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new N(this,t.moveTolerance),f)y.a.listen(this.mapBrowserEventHandler_,f[u],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=e.keyboardEventTarget,this.keyHandlerKeys_=null,y.a.listen(this.viewport_,p.a.WHEEL,this.handleBrowserEvent,this),y.a.listen(this.viewport_,p.a.MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=e.controls||new i.a,this.interactions=e.interactions||new i.a,this.overlays_=e.overlays,this.overlayIdIndex_={},this.renderer_=e.mapRendererPlugin.create(this.viewport_,this),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new z(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},y.a.listen(this,j.a.getChangeEventType(k.LAYERGROUP),this.handleLayerGroupChanged_,this),y.a.listen(this,j.a.getChangeEventType(k.VIEW),this.handleViewChanged_,this),y.a.listen(this,j.a.getChangeEventType(k.SIZE),this.handleSizeChanged_,this),y.a.listen(this,j.a.getChangeEventType(k.TARGET),this.handleTargetChanged_,this),this.setProperties(e.values),this.controls.forEach(function(t){t.setMap(this)},this),y.a.listen(this.controls,o.a.ADD,function(t){t.element.setMap(this)},this),y.a.listen(this.controls,o.a.REMOVE,function(t){t.element.setMap(null)},this),this.interactions.forEach(function(t){t.setMap(this)},this),y.a.listen(this.interactions,o.a.ADD,function(t){t.element.setMap(this)},this),y.a.listen(this.interactions,o.a.REMOVE,function(t){t.element.setMap(null)},this),this.overlays_.forEach(this.addOverlayInternal_,this),y.a.listen(this.overlays_,o.a.ADD,function(t){this.addOverlayInternal_(t.element)},this),y.a.listen(this.overlays_,o.a.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)},this)};r.a.inherits(ut,j.a),ut.prototype.addControl=function(t){this.getControls().push(t)},ut.prototype.addInteraction=function(t){this.getInteractions().push(t)},ut.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},ut.prototype.addOverlay=function(t){this.getOverlays().push(t)},ut.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},ut.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),y.a.unlisten(this.viewport_,p.a.WHEEL,this.handleBrowserEvent,this),y.a.unlisten(this.viewport_,p.a.MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(window.removeEventListener(p.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),j.a.prototype.disposeInternal.call(this)},ut.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var r=this.getCoordinateFromPixel(t),i=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==n.layerFilter?n.layerFilter:J.a.TRUE;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,i,e,null,o,null)}},ut.prototype.getFeaturesAtPixel=function(t,e){var n=null;return this.forEachFeatureAtPixel(t,function(t){n||(n=[]),n.push(t)},e),n},ut.prototype.forEachLayerAtPixel=function(t,e,n,r,i){if(this.frameState_){var o=void 0!==n?n:null,a=void 0!==r?r:J.a.TRUE,s=void 0!==i?i:null;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,e,o,a,s)}},ut.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixel(t),r=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:J.a.TRUE,i=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,i,r,null)},ut.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},ut.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n=t.changedTouches?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},ut.prototype.getTarget=function(){return this.get(k.TARGET)},ut.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},ut.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?st.a.apply(e.pixelToCoordinateTransform,t.slice()):null},ut.prototype.getControls=function(){return this.controls},ut.prototype.getOverlays=function(){return this.overlays_},ut.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},ut.prototype.getInteractions=function(){return this.interactions},ut.prototype.getLayerGroup=function(){return this.get(k.LAYERGROUP)},ut.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},ut.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?st.a.apply(e.coordinateToPixelTransform,t.slice(0,2)):null},ut.prototype.getRenderer=function(){return this.renderer_},ut.prototype.getSize=function(){return this.get(k.SIZE)},ut.prototype.getView=function(){return this.get(k.VIEW)},ut.prototype.getViewport=function(){return this.viewport_},ut.prototype.getOverlayContainer=function(){return this.overlayContainer_},ut.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},ut.prototype.getTilePriority=function(t,e,n,r){var i=this.frameState_;if(!(i&&e in i.wantedTiles))return W.DROP;if(!i.wantedTiles[e][t.getKey()])return W.DROP;var o=n[0]-i.focus[0],a=n[1]-i.focus[1];return 65536*Math.log(r)+Math.sqrt(o*o+a*a)/r},ut.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,r=new c(n,this,t);this.handleMapBrowserEvent(r)},ut.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){this.focus_=t.coordinate,t.frameState=this.frameState_;var e,n=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(e=n.length-1;e>=0;e--){var r=n[e];if(r.getActive())if(!r.handleEvent(t))break}}},ut.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=16,r=n;if(t){var i=t.viewHints;i[K.a.ANIMATING]&&(n=this.loadTilesWhileAnimating_?8:0,r=2),i[K.a.INTERACTING]&&(n=this.loadTilesWhileInteracting_?8:0,r=2)}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,r))}var o,a,s=this.postRenderFunctions_;for(o=0,a=s.length;o<a;++o)s[o](this,t);s.length=0},ut.prototype.handleSizeChanged_=function(){this.render()},ut.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,n=this.keyHandlerKeys_.length;e<n;++e)y.a.unlistenByKey(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_);var r=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[y.a.listen(r,p.a.KEYDOWN,this.handleBrowserEvent,this),y.a.listen(r,p.a.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(p.a.RESIZE,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),q.a.removeNode(this.viewport_),void 0!==this.handleResize_&&(window.removeEventListener(p.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},ut.prototype.handleTileChange_=function(){this.render()},ut.prototype.handleViewPropertyChanged_=function(){this.render()},ut.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(y.a.unlistenByKey(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(y.a.unlistenByKey(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",r.a.getUid(t)),this.viewPropertyListenerKey_=y.a.listen(t,U.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=y.a.listen(t,p.a.CHANGE,this.handleViewPropertyChanged_,this)),this.render()},ut.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(y.a.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[y.a.listen(t,U.a.PROPERTYCHANGE,this.render,this),y.a.listen(t,p.a.CHANGE,this.render,this)]),this.render()},ut.prototype.isRendered=function(){return!!this.frameState_},ut.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},ut.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},ut.prototype.removeControl=function(t){return this.getControls().remove(t)},ut.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},ut.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},ut.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},ut.prototype.renderFrame_=function(t){var e,n,i,o=this.getSize(),a=this.getView(),s=Z.a.createEmpty(),l=this.frameState_,c=null;if(void 0!==o&&at.a.hasArea(o)&&a&&a.isDef()){var h=a.getHints(this.frameState_?this.frameState_.viewHints:void 0),p=this.getLayerGroup().getLayerStatesArray(),f={};for(e=0,n=p.length;e<n;++e)f[r.a.getUid(p[e].layer)]=p[e];var d=(i=a.getState()).center,g=i.resolution/this.pixelRatio_;d[0]=Math.round(d[0]/g)*g,d[1]=Math.round(d[1]/g)*g,c={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:s,focus:this.focus_?this.focus_:d,index:this.frameIndex_++,layerStates:f,layerStatesArray:p,logos:B.a.assign({},this.logos_),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:o,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:i,viewHints:h,wantedTiles:{}}}if(c&&(c.extent=Z.a.getForViewAndSize(i.center,i.resolution,i.rotation,c.size,s)),this.frameState_=c,this.renderer_.renderFrame(c),c){if(c.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,c.postRenderFunctions),l)(!this.previousExtent_||!Z.a.isEmpty(this.previousExtent_)&&!Z.a.equals(c.extent,this.previousExtent_))&&(this.dispatchEvent(new u(F.a.MOVESTART,this,l)),this.previousExtent_=Z.a.createOrUpdateEmpty(this.previousExtent_));this.previousExtent_&&!c.viewHints[K.a.ANIMATING]&&!c.viewHints[K.a.INTERACTING]&&!Z.a.equals(c.extent,this.previousExtent_)&&(this.dispatchEvent(new u(F.a.MOVEEND,this,c)),Z.a.clone(c.extent,this.previousExtent_))}this.dispatchEvent(new u(F.a.POSTRENDER,this,c)),setTimeout(this.handlePostRender.bind(this),0)},ut.prototype.setLayerGroup=function(t){this.set(k.LAYERGROUP,t)},ut.prototype.setSize=function(t){this.set(k.SIZE,t)},ut.prototype.setTarget=function(t){this.set(k.TARGET,t)},ut.prototype.setView=function(t){this.set(k.VIEW,t)},ut.prototype.skipFeature=function(t){var e=r.a.getUid(t).toString();this.skippedFeatureUids_[e]=!0,this.render()},ut.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},ut.prototype.unskipFeature=function(t){var e=r.a.getUid(t).toString();delete this.skippedFeatureUids_[e],this.render()},ut.DEFAULT_RENDERER_TYPES=[ot.CANVAS,ot.WEBGL],ut.LOGO_URL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC",ut.createOptionsInternal=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n={},o={};if(void 0===t.logo||"boolean"==typeof t.logo&&t.logo)o[ut.LOGO_URL]="https://openlayers.org/";else{var a=t.logo;"string"==typeof a?o[a]="":a instanceof HTMLElement?o[r.a.getUid(a).toString()]=a:a&&(V.a.assert("string"==typeof a.href,44),V.a.assert("string"==typeof a.src,45),o[a.src]=a.href)}var s,u,l=t.layers instanceof et?t.layers:new et({layers:t.layers});n[k.LAYERGROUP]=l,n[k.TARGET]=t.target,n[k.VIEW]=void 0!==t.view?t.view:new Y.default,void 0!==t.renderer?(Array.isArray(t.renderer)?s=t.renderer:"string"==typeof t.renderer?s=[t.renderer]:V.a.assert(!1,46),s.indexOf("dom")>=0&&(s=s.concat(ut.DEFAULT_RENDERER_TYPES))):s=ut.DEFAULT_RENDERER_TYPES;var c,h,p,f=it.getMapRendererPlugins();t:for(var d=0,g=s.length;d<g;++d)for(var y=s[d],v=0,_=f.length;v<_;++v){var m=f[v];if(m.handles(y)){u=m;break t}}if(!u)throw new Error("Unable to create a map renderer for types: "+s.join(", "));return void 0!==t.controls&&(Array.isArray(t.controls)?c=new i.a(t.controls.slice()):(V.a.assert(t.controls instanceof i.a,47),c=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?h=new i.a(t.interactions.slice()):(V.a.assert(t.interactions instanceof i.a,48),h=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?p=new i.a(t.overlays.slice()):(V.a.assert(t.overlays instanceof i.a,49),p=t.overlays):p=new i.a,{controls:c,interactions:h,keyboardEventTarget:e,logos:o,overlays:p,mapRendererPlugin:u,values:n}};var lt=ut,ct=function(t){j.a.call(this),this.element=t.element?t.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=t.render?t.render:r.a.nullFunction,t.target&&this.setTarget(t.target)};r.a.inherits(ct,j.a),ct.prototype.disposeInternal=function(){q.a.removeNode(this.element),j.a.prototype.disposeInternal.call(this)},ct.prototype.getMap=function(){return this.map_},ct.prototype.setMap=function(t){this.map_&&q.a.removeNode(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)y.a.unlistenByKey(this.listenerKeys[e]);(this.listenerKeys.length=0,this.map_=t,this.map_)&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==r.a.nullFunction&&this.listenerKeys.push(y.a.listen(t,F.a.POSTRENDER,this.render,this)),t.render())},ct.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t};var ht=ct,pt=n("CTDj"),ft=n("bHOE"),dt=function(t){var e=t||{};this.ulElement_=document.createElement("UL"),this.logoLi_=document.createElement("LI"),this.ulElement_.appendChild(this.logoLi_),this.logoLi_.style.display="none",this.collapsed_=void 0===e.collapsed||e.collapsed,this.collapsible_=void 0===e.collapsible||e.collapsible,this.collapsible_||(this.collapsed_=!1);var n=void 0!==e.className?e.className:"ol-attribution",r=void 0!==e.tipLabel?e.tipLabel:"Attributions",i=void 0!==e.collapseLabel?e.collapseLabel:"\xbb";"string"==typeof i?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=i):this.collapseLabel_=i;var o=void 0!==e.label?e.label:"i";"string"==typeof o?(this.label_=document.createElement("span"),this.label_.textContent=o):this.label_=o;var a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,s=document.createElement("button");s.setAttribute("type","button"),s.title=r,s.appendChild(a),y.a.listen(s,p.a.CLICK,this.handleClick_,this);var u=n+" "+pt.a.CLASS_UNSELECTABLE+" "+pt.a.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" ol-collapsed":"")+(this.collapsible_?"":" ol-uncollapsible"),l=document.createElement("div");l.className=u,l.appendChild(this.ulElement_),l.appendChild(s);var c=e.render?e.render:dt.render;ht.call(this,{element:l,render:c,target:e.target}),this.renderedAttributions_=[],this.renderedVisible_=!0,this.logoElements_={}};r.a.inherits(dt,ht),dt.prototype.getSourceAttributions_=function(t){for(var e={},n=[],r=t.layerStatesArray,i=t.viewState.resolution,o=0,a=r.length;o<a;++o){var s=r[o];if(ft.a.visibleAtResolution(s,i)){var u=s.layer.getSource();if(u){var l=u.getAttributions2();if(l){var c=l(t);if(c)if(Array.isArray(c))for(var h=0,p=c.length;h<p;++h)c[h]in e||(n.push(c[h]),e[c[h]]=!0);else c in e||(n.push(c),e[c]=!0)}}}}return n},dt.render=function(t){this.updateElement_(t.frameState)},dt.prototype.updateElement_=function(t){if(t){var e=this.getSourceAttributions_(t);if(!I.a.equals(e,this.renderedAttributions_)){for(;this.ulElement_.lastChild!==this.logoLi_;)this.ulElement_.removeChild(this.ulElement_.lastChild);for(var n=0,r=e.length;n<r;++n){var i=document.createElement("LI");i.innerHTML=e[n],this.ulElement_.appendChild(i)}0===e.length&&this.renderedAttributions_.length>0?this.element.classList.add("ol-logo-only"):0===this.renderedAttributions_.length&&e.length>0&&this.element.classList.remove("ol-logo-only");var o=e.length>0||!B.a.isEmpty(t.logos);this.renderedVisible_!=o&&(this.element.style.display=o?"":"none",this.renderedVisible_=o),this.renderedAttributions_=e,this.insertLogos_(t)}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},dt.prototype.insertLogos_=function(t){var e,n,r,i,o=t.logos,a=this.logoElements_;for(e in a)e in o||(q.a.removeNode(a[e]),delete a[e]);for(i in o){var s=o[i];s instanceof HTMLElement&&(this.logoLi_.appendChild(s),a[i]=s),i in a||((n=new Image).src=i,""===s?r=n:((r=document.createElement("a")).href=s,r.appendChild(n)),this.logoLi_.appendChild(r),a[i]=r)}this.logoLi_.style.display=B.a.isEmpty(o)?"none":""},dt.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},dt.prototype.handleToggle_=function(){this.element.classList.toggle("ol-collapsed"),this.collapsed_?q.a.replaceNode(this.collapseLabel_,this.label_):q.a.replaceNode(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},dt.prototype.getCollapsible=function(){return this.collapsible_},dt.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},dt.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},dt.prototype.getCollapsed=function(){return this.collapsed_};var gt=dt,yt=n("2S6f"),vt=function(t){var e=t||{},n=void 0!==e.className?e.className:"ol-rotate",r=void 0!==e.label?e.label:"\u21e7";this.label_=null,"string"==typeof r?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=r):(this.label_=r,this.label_.classList.add("ol-compass"));var i=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=n+"-reset",o.setAttribute("type","button"),o.title=i,o.appendChild(this.label_),y.a.listen(o,p.a.CLICK,vt.prototype.handleClick_,this);var a=n+" "+pt.a.CLASS_UNSELECTABLE+" "+pt.a.CLASS_CONTROL,s=document.createElement("div");s.className=a,s.appendChild(o);var u=e.render?e.render:vt.render;this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,ht.call(this,{element:s,render:u,target:e.target}),this.duration_=void 0!==e.duration?e.duration:250,this.autoHide_=void 0===e.autoHide||e.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(pt.a.CLASS_HIDDEN)};r.a.inherits(vt,ht),vt.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},vt.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:yt.a.easeOut}):t.setRotation(0))},vt.render=function(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var r="rotate("+n+"rad)";if(this.autoHide_){var i=this.element.classList.contains(pt.a.CLASS_HIDDEN);i||0!==n?i&&0!==n&&this.element.classList.remove(pt.a.CLASS_HIDDEN):this.element.classList.add(pt.a.CLASS_HIDDEN)}this.label_.style.msTransform=r,this.label_.style.webkitTransform=r,this.label_.style.transform=r}this.rotation_=n}};var _t=vt,mt=function(t){var e=t||{},n=void 0!==e.className?e.className:"ol-zoom",r=void 0!==e.delta?e.delta:1,i=void 0!==e.zoomInLabel?e.zoomInLabel:"+",o=void 0!==e.zoomOutLabel?e.zoomOutLabel:"\u2212",a=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",s=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=n+"-in",u.setAttribute("type","button"),u.title=a,u.appendChild("string"==typeof i?document.createTextNode(i):i),y.a.listen(u,p.a.CLICK,mt.prototype.handleClick_.bind(this,r));var l=document.createElement("button");l.className=n+"-out",l.setAttribute("type","button"),l.title=s,l.appendChild("string"==typeof o?document.createTextNode(o):o),y.a.listen(l,p.a.CLICK,mt.prototype.handleClick_.bind(this,-r));var c=n+" "+pt.a.CLASS_UNSELECTABLE+" "+pt.a.CLASS_CONTROL,h=document.createElement("div");h.className=c,h.appendChild(u),h.appendChild(l),ht.call(this,{element:h,target:e.target}),this.duration_=void 0!==e.duration?e.duration:250};r.a.inherits(mt,ht),mt.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},mt.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getResolution();if(n){var r=e.constrainResolution(n,t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:r,duration:this.duration_,easing:yt.a.easeOut})):e.setResolution(r)}}};var Et=mt,Ct={defaults:function(t){var e=t||{},n=new i.a;return(void 0===e.zoom||e.zoom)&&n.push(new Et(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new _t(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new gt(e.attributionOptions)),n}},bt=Ct,xt=function(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0};xt.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},xt.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},xt.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var r=this.points_[e+2]-this.points_[n+2];if(r<1e3/60)return!1;var i=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,i),this.initialVelocity_=Math.sqrt(i*i+o*o)/r,this.initialVelocity_>this.minVelocity_},xt.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},xt.prototype.getAngle=function(){return this.angle_};var Tt=xt,wt={ACTIVE:"active"},Rt=n("o1z/"),St=function(t){j.a.call(this),this.map_=null,this.setActive(!0),this.handleEvent=t.handleEvent};r.a.inherits(St,j.a),St.prototype.getActive=function(){return this.get(wt.ACTIVE)},St.prototype.getMap=function(){return this.map_},St.prototype.setActive=function(t){this.set(wt.ACTIVE,t)},St.prototype.setMap=function(t){this.map_=t},St.pan=function(t,e,n){var r=t.getCenter();if(r){var i=t.constrainCenter([r[0]+e[0],r[1]+e[1]]);n?t.animate({duration:n,easing:yt.a.linear,center:i}):t.setCenter(i)}},St.rotate=function(t,e,n,r){e=t.constrainRotation(e,0),St.rotateWithoutConstraints(t,e,n,r)},St.rotateWithoutConstraints=function(t,e,n,r){if(void 0!==e){var i=t.getRotation(),o=t.getCenter();void 0!==i&&o&&r>0?t.animate({rotation:e,anchor:n,duration:r,easing:yt.a.easeOut}):t.rotate(e,n)}},St.zoom=function(t,e,n,r,i){e=t.constrainResolution(e,0,i),St.zoomWithoutConstraints(t,e,n,r)},St.zoomByDelta=function(t,e,n,r){var i=t.getResolution(),o=t.constrainResolution(i,e,0);if(void 0!==o){var a=t.getResolutions();o=Rt.a.clamp(o,t.getMinResolution()||a[a.length-1],t.getMaxResolution()||a[0])}if(n&&void 0!==o&&o!==i){var s=t.getCenter(),u=t.calculateCenterZoom(o,n);u=t.constrainCenter(u),n=[(o*s[0]-i*u[0])/(o-i),(o*s[1]-i*u[1])/(o-i)]}St.zoomWithoutConstraints(t,o,n,r)},St.zoomWithoutConstraints=function(t,e,n,r){if(e){var i=t.getResolution(),o=t.getCenter();if(void 0!==i&&o&&e!==i&&r)t.animate({resolution:e,anchor:n,duration:r,easing:yt.a.easeOut});else{if(n){var a=t.calculateCenterZoom(e,n);t.setCenter(a)}t.setResolution(e)}}};var Ot=St,It=function(t){var e=t||{};this.delta_=e.delta?e.delta:1,Ot.call(this,{handleEvent:It.handleEvent}),this.duration_=void 0!==e.duration?e.duration:250};r.a.inherits(It,Ot),It.handleEvent=function(t){var e=!1,n=t.originalEvent;if(t.type==f.DBLCLICK){var r=t.map,i=t.coordinate,o=n.shiftKey?-this.delta_:this.delta_,a=r.getView();Ot.zoomByDelta(a,o,i,this.duration_),t.preventDefault(),e=!0}return!e};var Pt=It,At=n("IZoy"),Lt={altKeyOnly:function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},altShiftKeysOnly:function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey}};Lt.always=J.a.TRUE,Lt.click=function(t){return t.type==f.CLICK},Lt.mouseActionButton=function(t){var e=t.originalEvent;return 0==e.button&&!(h.a.WEBKIT&&h.a.MAC&&e.ctrlKey)},Lt.never=J.a.FALSE,Lt.pointerMove=function(t){return"pointermove"==t.type},Lt.singleClick=function(t){return t.type==f.SINGLECLICK},Lt.doubleClick=function(t){return t.type==f.DBLCLICK},Lt.noModifierKeys=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Lt.platformModifierKeyOnly=function(t){var e=t.originalEvent;return!e.altKey&&(h.a.MAC?e.metaKey:e.ctrlKey)&&!e.shiftKey},Lt.shiftKeyOnly=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Lt.targetNotEditable=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},Lt.mouseOnly=function(t){return V.a.assert(t.pointerEvent,56),"mouse"==t.pointerEvent.pointerType},Lt.primaryAction=function(t){var e=t.pointerEvent;return e.isPrimary&&0===e.button};var Mt=Lt,Dt=function(t){var e=t||{},n=e.handleEvent?e.handleEvent:Dt.handleEvent;Ot.call(this,{handleEvent:n}),this.handleDownEvent_=e.handleDownEvent?e.handleDownEvent:Dt.handleDownEvent,this.handleDragEvent_=e.handleDragEvent?e.handleDragEvent:Dt.handleDragEvent,this.handleMoveEvent_=e.handleMoveEvent?e.handleMoveEvent:Dt.handleMoveEvent,this.handleUpEvent_=e.handleUpEvent?e.handleUpEvent:Dt.handleUpEvent,this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]};r.a.inherits(Dt,Ot),Dt.centroid=function(t){for(var e=t.length,n=0,r=0,i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return[n/e,r/e]},Dt.prototype.isPointerDraggingEvent_=function(t){var e=t.type;return e===f.POINTERDOWN||e===f.POINTERDRAG||e===f.POINTERUP},Dt.prototype.updateTrackedPointers_=function(t){if(this.isPointerDraggingEvent_(t)){var e=t.pointerEvent,n=e.pointerId.toString();t.type==f.POINTERUP?delete this.trackedPointers_[n]:t.type==f.POINTERDOWN?this.trackedPointers_[n]=e:n in this.trackedPointers_&&(this.trackedPointers_[n]=e),this.targetPointers=B.a.getValues(this.trackedPointers_)}},Dt.handleDragEvent=r.a.nullFunction,Dt.handleUpEvent=J.a.FALSE,Dt.handleDownEvent=J.a.FALSE,Dt.handleMoveEvent=r.a.nullFunction,Dt.handleEvent=function(t){if(!(t instanceof g))return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==f.POINTERDRAG)this.handleDragEvent_(t);else if(t.type==f.POINTERUP){var n=this.handleUpEvent_(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==f.POINTERDOWN){var r=this.handleDownEvent_(t);this.handlingDownUpSequence=r,e=this.shouldStopEvent(r)}else t.type==f.POINTERMOVE&&this.handleMoveEvent_(t);return!e},Dt.prototype.shouldStopEvent=function(t){return t};var Nt=Dt,Ft=function(t){Nt.call(this,{handleDownEvent:Ft.handleDownEvent_,handleDragEvent:Ft.handleDragEvent_,handleUpEvent:Ft.handleUpEvent_});var e=t||{};this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.condition_=e.condition?e.condition:Mt.noModifierKeys,this.noKinetic_=!1};r.a.inherits(Ft,Nt),Ft.handleDragEvent_=function(t){var e=this.targetPointers,n=Nt.centroid(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var r=this.lastCentroid[0]-n[0],i=n[1]-this.lastCentroid[1],o=t.map.getView(),a=o.getState(),s=[r,i];At.a.scale(s,a.resolution),At.a.rotate(s,a.rotation),At.a.add(s,a.center),s=o.constrainCenter(s),o.setCenter(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length},Ft.handleUpEvent_=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var r=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),o=n.getCenter(),a=e.getPixelFromCoordinate(o),s=e.getCoordinateFromPixel([a[0]-r*Math.cos(i),a[1]-r*Math.sin(i)]);n.animate({center:n.constrainCenter(s),duration:500,easing:yt.a.easeOut})}return n.setHint(K.a.INTERACTING,-1),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},Ft.handleDownEvent_=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,this.handlingDownUpSequence||e.setHint(K.a.INTERACTING,1),e.getAnimating()&&e.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},Ft.prototype.shouldStopEvent=J.a.FALSE;var kt=Ft,jt=n("xek4"),Ut=function(t){var e=t||{};Nt.call(this,{handleDownEvent:Ut.handleDownEvent_,handleDragEvent:Ut.handleDragEvent_,handleUpEvent:Ut.handleUpEvent_}),this.condition_=e.condition?e.condition:Mt.altShiftKeysOnly,this.lastAngle_=void 0,this.duration_=void 0!==e.duration?e.duration:250};r.a.inherits(Ut,Nt),Ut.handleDragEvent_=function(t){if(Mt.mouseOnly(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==jt.a.disable){var r=e.getSize(),i=t.pixel,o=Math.atan2(r[1]/2-i[1],i[0]-r[0]/2);if(void 0!==this.lastAngle_){var a=o-this.lastAngle_,s=n.getRotation();Ot.rotateWithoutConstraints(n,s-a)}this.lastAngle_=o}}},Ut.handleUpEvent_=function(t){if(!Mt.mouseOnly(t))return!0;var e=t.map.getView();e.setHint(K.a.INTERACTING,-1);var n=e.getRotation();return Ot.rotate(e,n,void 0,this.duration_),!1},Ut.handleDownEvent_=function(t){return!!Mt.mouseOnly(t)&&(!(!Mt.mouseActionButton(t)||!this.condition_(t))&&(t.map.getView().setHint(K.a.INTERACTING,1),this.lastAngle_=void 0,!0))},Ut.prototype.shouldStopEvent=J.a.FALSE;var Gt=Ut,Vt=n("mkUQ"),Bt=n("xL0k"),Ht=function(t){this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null};r.a.inherits(Ht,Vt.a),Ht.prototype.disposeInternal=function(){this.setMap(null)},Ht.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"},Ht.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},Ht.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},Ht.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixel,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new Bt.a([n])},Ht.prototype.getGeometry=function(){return this.geometry_};var Wt=Ht,Xt=function(t){Nt.call(this,{handleDownEvent:Xt.handleDownEvent_,handleDragEvent:Xt.handleDragEvent_,handleUpEvent:Xt.handleUpEvent_});var e=t||{};this.box_=new Wt(e.className||"ol-dragbox"),this.minArea_=void 0!==e.minArea?e.minArea:64,this.startPixel_=null,this.condition_=e.condition?e.condition:Mt.always,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:Xt.defaultBoxEndCondition};r.a.inherits(Xt,Nt),Xt.defaultBoxEndCondition=function(t,e,n){var r=n[0]-e[0],i=n[1]-e[1];return r*r+i*i>=this.minArea_},Xt.handleDragEvent_=function(t){Mt.mouseOnly(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Xt.Event(Xt.EventType_.BOXDRAG,t.coordinate,t)))},Xt.prototype.getGeometry=function(){return this.box_.getGeometry()},Xt.prototype.onBoxEnd=r.a.nullFunction,Xt.handleUpEvent_=function(t){return!Mt.mouseOnly(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd(t),this.dispatchEvent(new Xt.Event(Xt.EventType_.BOXEND,t.coordinate,t))),!1)},Xt.handleDownEvent_=function(t){return!!Mt.mouseOnly(t)&&(!(!Mt.mouseActionButton(t)||!this.condition_(t))&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Xt.Event(Xt.EventType_.BOXSTART,t.coordinate,t)),!0))},Xt.EventType_={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend"},Xt.Event=function(t,e,n){a.a.call(this,t),this.coordinate=e,this.mapBrowserEvent=n},r.a.inherits(Xt.Event,a.a);var zt=Xt,Yt=function(t){var e=t||{},n=e.condition?e.condition:Mt.shiftKeyOnly;this.duration_=void 0!==e.duration?e.duration:200,this.out_=void 0!==e.out&&e.out,zt.call(this,{condition:n,className:e.className||"ol-dragzoom"})};r.a.inherits(Yt,zt),Yt.prototype.onBoxEnd=function(){var t=this.getMap(),e=t.getView(),n=t.getSize(),r=this.getGeometry().getExtent();if(this.out_){var i=e.calculateExtent(n),o=Z.a.createOrUpdateFromCoordinates([t.getPixelFromCoordinate(Z.a.getBottomLeft(r)),t.getPixelFromCoordinate(Z.a.getTopRight(r))]),a=e.getResolutionForExtent(o,n);Z.a.scaleFromCenter(i,1/a),r=i}var s=e.constrainResolution(e.getResolutionForExtent(r,n)),u=Z.a.getCenter(r);u=e.constrainCenter(u),e.animate({resolution:s,center:u,duration:this.duration_,easing:yt.a.easeOut})};var Kt=Yt,qt={LEFT:37,UP:38,RIGHT:39,DOWN:40},Zt=function(t){Ot.call(this,{handleEvent:Zt.handleEvent});var e=t||{};this.defaultCondition_=function(t){return Mt.noModifierKeys(t)&&Mt.targetNotEditable(t)},this.condition_=void 0!==e.condition?e.condition:this.defaultCondition_,this.duration_=void 0!==e.duration?e.duration:100,this.pixelDelta_=void 0!==e.pixelDelta?e.pixelDelta:128};r.a.inherits(Zt,Ot),Zt.handleEvent=function(t){var e=!1;if(t.type==p.a.KEYDOWN){var n=t.originalEvent.keyCode;if(this.condition_(t)&&(n==qt.DOWN||n==qt.LEFT||n==qt.RIGHT||n==qt.UP)){var r=t.map.getView(),i=r.getResolution()*this.pixelDelta_,o=0,a=0;n==qt.DOWN?a=-i:n==qt.LEFT?o=-i:n==qt.RIGHT?o=i:a=i;var s=[o,a];At.a.rotate(s,r.getRotation()),Ot.pan(r,s,this.duration_),t.preventDefault(),e=!0}}return!e};var Jt=Zt,Qt=function(t){Ot.call(this,{handleEvent:Qt.handleEvent});var e=t||{};this.condition_=e.condition?e.condition:Mt.targetNotEditable,this.delta_=e.delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:100};r.a.inherits(Qt,Ot),Qt.handleEvent=function(t){var e=!1;if(t.type==p.a.KEYDOWN||t.type==p.a.KEYPRESS){var n=t.originalEvent.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var r=t.map,i=n=="+".charCodeAt(0)?this.delta_:-this.delta_,o=r.getView();Ot.zoomByDelta(o,i,void 0,this.duration_),t.preventDefault(),e=!0}}return!e};var $t=Qt,te=function(t){Ot.call(this,{handleEvent:te.handleEvent});var e=t||{};this.delta_=0,this.duration_=void 0!==e.duration?e.duration:250,this.timeout_=void 0!==e.timeout?e.timeout:80,this.useAnchor_=void 0===e.useAnchor||e.useAnchor,this.constrainResolution_=e.constrainResolution||!1,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_=void 0,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5};r.a.inherits(te,Ot),te.handleEvent=function(t){var e=t.type;if(e!==p.a.WHEEL&&e!==p.a.MOUSEWHEEL)return!0;t.preventDefault();var n,r=t.map,i=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==p.a.WHEEL?(n=i.deltaY,h.a.FIREFOX&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=h.a.DEVICE_PIXEL_RATIO),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)):t.type==p.a.MOUSEWHEEL&&(n=-i.wheelDeltaY,h.a.SAFARI&&(n/=3)),0===n)return!1;var o=Date.now();if(void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?te.Mode_.TRACKPAD:te.Mode_.WHEEL),this.mode_===te.Mode_.TRACKPAD){var a=r.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):a.setHint(K.a.INTERACTING,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var s=a.getResolution()*Math.pow(2,n/this.trackpadDeltaPerZoom_),u=a.getMinResolution(),l=a.getMaxResolution(),c=0;if(s<u?(s=Math.max(s,u/this.trackpadZoomBuffer_),c=1):s>l&&(s=Math.min(s,l*this.trackpadZoomBuffer_),c=-1),this.lastAnchor_){var f=a.calculateCenterZoom(s,this.lastAnchor_);a.setCenter(a.constrainCenter(f))}return a.setResolution(s),0===c&&this.constrainResolution_&&a.animate({resolution:a.constrainResolution(s,n>0?-1:1),easing:yt.a.easeOut,anchor:this.lastAnchor_,duration:this.duration_}),c>0?a.animate({resolution:u,easing:yt.a.easeOut,anchor:this.lastAnchor_,duration:500}):c<0&&a.animate({resolution:l,easing:yt.a.easeOut,anchor:this.lastAnchor_,duration:500}),this.startTime_=o,!1}this.delta_+=n;var d=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),d),!1},te.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(K.a.INTERACTING,-1)},te.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=r.a.MOUSEWHEELZOOM_MAXDELTA,i=Rt.a.clamp(this.delta_,-n,n);Ot.zoomByDelta(e,-i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},te.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},te.Mode_={TRACKPAD:"trackpad",WHEEL:"wheel"};var ee=te,ne=function(t){Nt.call(this,{handleDownEvent:ne.handleDownEvent_,handleDragEvent:ne.handleDragEvent_,handleUpEvent:ne.handleUpEvent_});var e=t||{};this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==e.threshold?e.threshold:.3,this.duration_=void 0!==e.duration?e.duration:250};r.a.inherits(ne,Nt),ne.handleDragEvent_=function(t){var e=0,n=this.targetPointers[0],r=this.targetPointers[1],i=Math.atan2(r.clientY-n.clientY,r.clientX-n.clientX);if(void 0!==this.lastAngle_){var o=i-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=i;var a=t.map,s=a.getView();if(s.getConstraints().rotation!==jt.a.disable){var u=a.getViewport().getBoundingClientRect(),l=Nt.centroid(this.targetPointers);if(l[0]-=u.left,l[1]-=u.top,this.anchor_=a.getCoordinateFromPixel(l),this.rotating_){var c=s.getRotation();a.render(),Ot.rotateWithoutConstraints(s,c+e,this.anchor_)}}},ne.handleUpEvent_=function(t){if(this.targetPointers.length<2){var e=t.map.getView();if(e.setHint(K.a.INTERACTING,-1),this.rotating_){var n=e.getRotation();Ot.rotate(e,n,this.anchor_,this.duration_)}return!1}return!0},ne.handleDownEvent_=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().setHint(K.a.INTERACTING,1),!0}return!1},ne.prototype.shouldStopEvent=J.a.FALSE;var re=ne,ie=function(t){Nt.call(this,{handleDownEvent:ie.handleDownEvent_,handleDragEvent:ie.handleDragEvent_,handleUpEvent:ie.handleUpEvent_});var e=t||{};this.constrainResolution_=e.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==e.duration?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1};r.a.inherits(ie,Nt),ie.handleDragEvent_=function(t){var e=1,n=this.targetPointers[0],r=this.targetPointers[1],i=n.clientX-r.clientX,o=n.clientY-r.clientY,a=Math.sqrt(i*i+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;var s=t.map,u=s.getView(),l=u.getResolution(),c=u.getMaxResolution(),h=u.getMinResolution(),p=l*e;p>c?(e=c/l,p=c):p<h&&(e=h/l,p=h),1!=e&&(this.lastScaleDelta_=e);var f=s.getViewport().getBoundingClientRect(),d=Nt.centroid(this.targetPointers);d[0]-=f.left,d[1]-=f.top,this.anchor_=s.getCoordinateFromPixel(d),s.render(),Ot.zoomWithoutConstraints(u,p,this.anchor_)},ie.handleUpEvent_=function(t){if(this.targetPointers.length<2){var e=t.map.getView();e.setHint(K.a.INTERACTING,-1);var n=e.getResolution();if(this.constrainResolution_||n<e.getMinResolution()||n>e.getMaxResolution()){var r=this.lastScaleDelta_-1;Ot.zoom(e,n,this.anchor_,this.duration_,r)}return!1}return!0},ie.handleDownEvent_=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().setHint(K.a.INTERACTING,1),!0}return!1},ie.prototype.shouldStopEvent=J.a.FALSE;var oe=ie,ae={defaults:function(t){var e=t||{},n=new i.a,r=new Tt(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new Gt),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new Pt({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new kt({kinetic:r})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new re),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new oe({constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new Jt),n.push(new $t({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new ee({constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new Kt({duration:e.zoomDuration})),n}},se=ae,ue=function(t,e,n,r){v.a.call(this),this.extent=t,this.pixelRatio_=n,this.resolution=e,this.state=r};r.a.inherits(ue,v.a),ue.prototype.changed=function(){this.dispatchEvent(p.a.CHANGE)},ue.prototype.getExtent=function(){return this.extent},ue.prototype.getImage=function(){},ue.prototype.getPixelRatio=function(){return this.pixelRatio_},ue.prototype.getResolution=function(){return this.resolution},ue.prototype.getState=function(){return this.state},ue.prototype.load=function(){};var le=ue,ce=n("BV9W"),he=function(t,e,n,r,i){this.loader_=void 0!==i?i:null;var o=void 0!==i?ce.a.IDLE:ce.a.LOADED;le.call(this,t,e,n,o),this.canvas_=r,this.error_=null};r.a.inherits(he,le),he.prototype.getError=function(){return this.error_},he.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=ce.a.ERROR):this.state=ce.a.LOADED,this.changed()},he.prototype.load=function(){this.state==ce.a.IDLE&&(this.state=ce.a.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},he.prototype.getImage=function(){return this.canvas_};var pe=he,fe=n("ECY+"),de=n("AHF+"),ge=function(t,e,n,r,i){a.a.call(this,t),this.vectorContext=e,this.frameState=n,this.context=r,this.glContext=i};r.a.inherits(ge,a.a);var ye=ge,ve=n("Jopg"),_e=n("Oeue"),me=n("QBya"),Ee=n("U/IR"),Ce=n("f5c8"),be=n("RUSk"),xe=function(){};xe.prototype.drawCustom=function(t,e,n){},xe.prototype.drawGeometry=function(t){},xe.prototype.setStyle=function(t){},xe.prototype.drawCircle=function(t,e){},xe.prototype.drawFeature=function(t,e){},xe.prototype.drawGeometryCollection=function(t,e){},xe.prototype.drawLineString=function(t,e){},xe.prototype.drawMultiLineString=function(t,e){},xe.prototype.drawMultiPoint=function(t,e){},xe.prototype.drawMultiPolygon=function(t,e){},xe.prototype.drawPoint=function(t,e){},xe.prototype.drawPolygon=function(t,e){},xe.prototype.drawText=function(t,e){},xe.prototype.setFillStrokeStyle=function(t,e){},xe.prototype.setImageStyle=function(t,e){},xe.prototype.setTextStyle=function(t,e){};var Te=xe,we=function(t,e,n,r,i){Te.call(this),this.context_=t,this.pixelRatio_=e,this.extent_=n,this.transform_=r,this.viewRotation_=i,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageSnapToPixel_=!1,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=st.a.create()};r.a.inherits(we,Te),we.prototype.drawImages_=function(t,e,n,r){if(this.image_){var i=be.a.transform2D(t,e,n,2,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,s=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=s*this.imageOpacity_);var u,l,c=this.imageRotation_;for(this.imageRotateWithView_&&(c+=this.viewRotation_),u=0,l=i.length;u<l;u+=2){var h=i[u]-this.imageAnchorX_,p=i[u+1]-this.imageAnchorY_;if(this.imageSnapToPixel_&&(h=Math.round(h),p=Math.round(p)),0!==c||1!=this.imageScale_){var f=h+this.imageAnchorX_,d=p+this.imageAnchorY_;st.a.compose(a,f,d,this.imageScale_,this.imageScale_,c,-f,-d),o.setTransform.apply(o,a)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,p,this.imageWidth_,this.imageHeight_)}0===c&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=s)}},we.prototype.drawText_=function(t,e,n,r){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var i=be.a.transform2D(t,e,n,r,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<n;e+=r){var s=i[e]+this.textOffsetX_,u=i[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_){var l=st.a.compose(this.tmpLocalTransform_,s,u,this.textScale_,this.textScale_,a,-s,-u);o.setTransform.apply(o,l)}this.textStrokeState_&&o.strokeText(this.text_,s,u),this.textFillState_&&o.fillText(this.text_,s,u)}0===a&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},we.prototype.moveToLineTo_=function(t,e,n,r,i){var o=this.context_,a=be.a.transform2D(t,e,n,r,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;i&&(s-=2);for(var u=2;u<s;u+=2)o.lineTo(a[u],a[u+1]);return i&&o.closePath(),n},we.prototype.drawRings_=function(t,e,n,r){var i,o;for(i=0,o=n.length;i<o;++i)e=this.moveToLineTo_(t,e,n[i],r,!0);return e},we.prototype.drawCircle=function(t){if(Z.a.intersects(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=Ce.a.transform2D(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],r=e[3]-e[1],i=Math.sqrt(n*n+r*r),o=this.context_;o.beginPath(),o.arc(e[0],e[1],i,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},we.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},we.prototype.drawGeometry=function(t){switch(t.getType()){case Ee.a.POINT:this.drawPoint(t);break;case Ee.a.LINE_STRING:this.drawLineString(t);break;case Ee.a.POLYGON:this.drawPolygon(t);break;case Ee.a.MULTI_POINT:this.drawMultiPoint(t);break;case Ee.a.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case Ee.a.MULTI_POLYGON:this.drawMultiPolygon(t);break;case Ee.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case Ee.a.CIRCLE:this.drawCircle(t)}},we.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&Z.a.intersects(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},we.prototype.drawGeometryCollection=function(t){var e,n,r=t.getGeometriesArray();for(e=0,n=r.length;e<n;++e)this.drawGeometry(r[e])},we.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},we.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},we.prototype.drawLineString=function(t){if(Z.a.intersects(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var r=t.getFlatMidpoint();this.drawText_(r,0,2,2)}}},we.prototype.drawMultiLineString=function(t){var e=t.getExtent();if(Z.a.intersects(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n,r,i=this.context_,o=t.getFlatCoordinates(),a=0,s=t.getEnds(),u=t.getStride();for(i.beginPath(),n=0,r=s.length;n<r;++n)a=this.moveToLineTo_(o,a,s[n],u,!1);i.stroke()}if(""!==this.text_){var l=t.getFlatMidpoints();this.drawText_(l,0,l.length,2)}}},we.prototype.drawPolygon=function(t){if(Z.a.intersects(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},we.prototype.drawMultiPolygon=function(t){if(Z.a.intersects(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e,n,r=this.context_,i=t.getOrientedFlatCoordinates(),o=0,a=t.getEndss(),s=t.getStride();for(r.beginPath(),e=0,n=a.length;e<n;++e){var u=a[e];o=this.drawRings_(i,o,u,s)}this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(""!==this.text_){var l=t.getFlatInteriorPoints();this.drawText_(l,0,l.length,2)}}},we.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},we.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=e.lineCap=t.lineCap),h.a.CANVAS_LINE_DASH&&(I.a.equals(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,h.a.CANVAS_LINE_DASH&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},we.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,r=t.textAlign?t.textAlign:_e.a.defaultTextAlign;n?(n.font!=t.font&&(n.font=e.font=t.font),n.textAlign!=r&&(n.textAlign=r),n.textBaseline!=t.textBaseline&&(n.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=r,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})},we.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:me.a.asColorLike(n||_e.a.defaultFillStyle)}}else this.fillState_=null;if(e){var r=e.getColor(),i=e.getLineCap(),o=e.getLineDash(),a=e.getLineDashOffset(),s=e.getLineJoin(),u=e.getWidth(),l=e.getMiterLimit();this.strokeState_={lineCap:void 0!==i?i:_e.a.defaultLineCap,lineDash:o||_e.a.defaultLineDash,lineDashOffset:a||_e.a.defaultLineDashOffset,lineJoin:void 0!==s?s:_e.a.defaultLineJoin,lineWidth:this.pixelRatio_*(void 0!==u?u:_e.a.defaultLineWidth),miterLimit:void 0!==l?l:_e.a.defaultMiterLimit,strokeStyle:me.a.asColorLike(r||_e.a.defaultStrokeStyle)}}else this.strokeState_=null},we.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),n=t.getImage(1),r=t.getOrigin(),i=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=i[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageSnapToPixel_=t.getSnapToPixel(),this.imageWidth_=i[0]}else this.image_=null},we.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:me.a.asColorLike(n||_e.a.defaultFillStyle)}}else this.textFillState_=null;var r=t.getStroke();if(r){var i=r.getColor(),o=r.getLineCap(),a=r.getLineDash(),s=r.getLineDashOffset(),u=r.getLineJoin(),l=r.getWidth(),c=r.getMiterLimit();this.textStrokeState_={lineCap:void 0!==o?o:_e.a.defaultLineCap,lineDash:a||_e.a.defaultLineDash,lineDashOffset:s||_e.a.defaultLineDashOffset,lineJoin:void 0!==u?u:_e.a.defaultLineJoin,lineWidth:void 0!==l?l:_e.a.defaultLineWidth,miterLimit:void 0!==c?c:_e.a.defaultMiterLimit,strokeStyle:me.a.asColorLike(i||_e.a.defaultStrokeStyle)}}else this.textStrokeState_=null;var h=t.getFont(),p=t.getOffsetX(),f=t.getOffsetY(),d=t.getRotateWithView(),g=t.getRotation(),y=t.getScale(),v=t.getText(),_=t.getTextAlign(),m=t.getTextBaseline();this.textState_={font:void 0!==h?h:_e.a.defaultFont,textAlign:void 0!==_?_:_e.a.defaultTextAlign,textBaseline:void 0!==m?m:_e.a.defaultTextBaseline},this.text_=void 0!==v?v:"",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==f?this.pixelRatio_*f:0,this.textRotateWithView_=void 0!==d&&d,this.textRotation_=void 0!==g?g:0,this.textScale_=this.pixelRatio_*(void 0!==y?y:1)}else this.text_=""};var Re=we,Se=n("2fQu"),Oe=function(t){Se.a.call(this),this.layer_=t};r.a.inherits(Oe,Se.a),Oe.prototype.forEachFeatureAtCoordinate=r.a.nullFunction,Oe.prototype.hasFeatureAtCoordinate=J.a.FALSE,Oe.prototype.createLoadedTileFinder=function(t,e,n){return function(r,i){return t.forEachLoadedTile(e,r,i,function(t){n[r]||(n[r]={}),n[r][t.tileCoord.toString()]=t})}},Oe.prototype.getLayer=function(){return this.layer_},Oe.prototype.handleImageChange_=function(t){t.target.getState()===ce.a.LOADED&&this.renderIfReadyAndVisible()},Oe.prototype.loadImage=function(t){var e=t.getState();return e!=ce.a.LOADED&&e!=ce.a.ERROR&&y.a.listen(t,p.a.CHANGE,this.handleImageChange_,this),e==ce.a.IDLE&&(t.load(),e=t.getState()),e==ce.a.LOADED},Oe.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==$.a.READY&&this.changed()},Oe.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=(function(t,e,n){var i=r.a.getUid(t).toString();i in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[i])}).bind(null,e);t.postRenderFunctions.push(n)}},Oe.prototype.updateLogos=function(t,e){var n=e.getLogo();void 0!==n&&("string"==typeof n?t.logos[n]="":n&&(V.a.assert("string"==typeof n.href,44),V.a.assert("string"==typeof n.src,45),t.logos[n.src]=n.href))},Oe.prototype.updateUsedTiles=function(t,e,n,i){var o=r.a.getUid(e).toString(),a=n.toString();o in t?a in t[o]?t[o][a].extend(i):t[o][a]=i:(t[o]={},t[o][a]=i)},Oe.prototype.manageTilePyramid=function(t,e,n,i,o,a,s,u,l,c){var h=r.a.getUid(e).toString();h in t.wantedTiles||(t.wantedTiles[h]={});var p,f,d,g,y,v,_=t.wantedTiles[h],m=t.tileQueue;for(v=n.getMinZoom();v<=s;++v)for(f=n.getTileRangeForExtentAndZ(a,v,f),d=n.getResolution(v),g=f.minX;g<=f.maxX;++g)for(y=f.minY;y<=f.maxY;++y)s-v<=u?((p=e.getTile(v,g,y,i,o)).getState()==G.a.IDLE&&(_[p.getKey()]=!0,m.isKeyQueued(p.getKey())||m.enqueue([p,h,n.getTileCoordCenter(p.tileCoord),d])),void 0!==l&&l.call(c,p)):e.useTile(v,g,y,o)};var Ie=Oe,Pe=function(t){Ie.call(this,t),this.renderedResolution,this.transform_=st.a.create()};r.a.inherits(Pe,Ie),Pe.prototype.clip=function(t,e,n){var r=e.pixelRatio,i=e.size[0]*r,o=e.size[1]*r,a=e.viewState.rotation,s=Z.a.getTopLeft(n),u=Z.a.getTopRight(n),l=Z.a.getBottomRight(n),c=Z.a.getBottomLeft(n);st.a.apply(e.coordinateToPixelTransform,s),st.a.apply(e.coordinateToPixelTransform,u),st.a.apply(e.coordinateToPixelTransform,l),st.a.apply(e.coordinateToPixelTransform,c),t.save(),_e.a.rotateAtOffset(t,-a,i/2,o/2),t.beginPath(),t.moveTo(s[0]*r,s[1]*r),t.lineTo(u[0]*r,u[1]*r),t.lineTo(l[0]*r,l[1]*r),t.lineTo(c[0]*r,c[1]*r),t.clip(),_e.a.rotateAtOffset(t,a,i/2,o/2)},Pe.prototype.dispatchComposeEvent_=function(t,e,n,r){var i=this.getLayer();if(i.hasListener(t)){var o=n.size[0]*n.pixelRatio,a=n.size[1]*n.pixelRatio,s=n.viewState.rotation;_e.a.rotateAtOffset(e,-s,o/2,a/2);var u=void 0!==r?r:this.getTransform(n,0),l=new Re(e,n.pixelRatio,n.extent,u,n.viewState.rotation),c=new ye(t,l,n,e,null);i.dispatchEvent(c),_e.a.rotateAtOffset(e,s,o/2,a/2)}},Pe.prototype.forEachLayerAtCoordinate=function(t,e,n,r){return this.forEachFeatureAtCoordinate(t,e,0,J.a.TRUE,this)?n.call(r,this.getLayer(),null):void 0},Pe.prototype.postCompose=function(t,e,n,r){this.dispatchComposeEvent_(ve.a.POSTCOMPOSE,t,e,r)},Pe.prototype.preCompose=function(t,e,n){this.dispatchComposeEvent_(ve.a.PRECOMPOSE,t,e,n)},Pe.prototype.dispatchRenderEvent=function(t,e,n){this.dispatchComposeEvent_(ve.a.RENDER,t,e,n)},Pe.prototype.getTransform=function(t,e){var n=t.viewState,r=t.pixelRatio,i=r*t.size[0]/2,o=r*t.size[1]/2,a=r/n.resolution,s=-a,u=-n.rotation,l=-n.center[0]+e,c=-n.center[1];return st.a.compose(this.transform_,i,o,a,s,u,l,c)},Pe.prototype.composeFrame=function(t,e,n){},Pe.prototype.prepareFrame=function(t,e){};var Ae=Pe,Le=function(t){Ae.call(this,t),this.coordinateToCanvasPixelTransform=st.a.create(),this.hitCanvasContext_=null};r.a.inherits(Le,Ae),Le.prototype.composeFrame=function(t,e,n){this.preCompose(n,t);var r=this.getImage();if(r){var i=e.extent,o=void 0!==i&&!Z.a.containsExtent(i,t.extent)&&Z.a.intersects(i,t.extent);o&&this.clip(n,t,i);var a=this.getImageTransform(),s=n.globalAlpha;n.globalAlpha=e.opacity;var u=a[4],l=a[5],c=r.width*a[0],h=r.height*a[3];n.drawImage(r,0,0,+r.width,+r.height,Math.round(u),Math.round(l),Math.round(c),Math.round(h)),n.globalAlpha=s,o&&n.restore()}this.postCompose(n,t,e)},Le.prototype.getImage=function(){},Le.prototype.getImageTransform=function(){},Le.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){var o=this.getLayer(),a=o.getSource(),s=e.viewState.resolution,u=e.viewState.rotation,l=e.skippedFeatureUids;return a.forEachFeatureAtCoordinate(t,s,u,n,l,function(t){return r.call(i,t,o)})},Le.prototype.forEachLayerAtCoordinate=function(t,e,n,i){if(this.getImage()){if(this.getLayer().getSource().forEachFeatureAtCoordinate!==r.a.nullFunction)return Ae.prototype.forEachLayerAtCoordinate.apply(this,arguments);var o=st.a.apply(this.coordinateToCanvasPixelTransform,t.slice());At.a.scale(o,e.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=q.a.createCanvasContext2D(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),o[0],o[1],1,1,0,0,1,1);var a=this.hitCanvasContext_.getImageData(0,0,1,1).data;return a[3]>0?n.call(i,this.getLayer(),a):void 0}};var Me=Le,De=function(t){Me.call(this,t),this.image_=null,this.imageTransform_=st.a.create(),this.skippedFeatures_=[],this.vectorRenderer_=null};r.a.inherits(De,Me),De.handles=function(t,e){return t===ot.CANVAS&&(e.getType()===fe.a.IMAGE||e.getType()===fe.a.VECTOR&&e.getRenderMode()===de.a.IMAGE)},De.create=function(t,e){var n=new De(e);if(e.getType()===fe.a.VECTOR)for(var r=it.getLayerRendererPlugins(),i=0,o=r.length;i<o;++i){var a=r[i];a!==De&&a.handles(ot.CANVAS,e)&&n.setVectorRenderer(a.create(t,e))}return n},De.prototype.getImage=function(){return this.image_?this.image_.getImage():null},De.prototype.getImageTransform=function(){return this.imageTransform_},De.prototype.prepareFrame=function(t,e){var n,i=t.pixelRatio,o=t.size,a=t.viewState,s=a.center,u=a.resolution,l=this.getLayer().getSource(),c=t.viewHints,h=t.extent;if(void 0!==e.extent&&(h=Z.a.getIntersection(h,e.extent)),!c[K.a.ANIMATING]&&!c[K.a.INTERACTING]&&!Z.a.isEmpty(h)){var p=a.projection;if(!r.a.ENABLE_RASTER_REPROJECTION){var f=l.getProjection();f&&(p=f)}var d=this.vectorRenderer_;if(d){var g=d.context,y=B.a.assign({},t,{size:[Z.a.getWidth(h)/u,Z.a.getHeight(h)/u],viewState:B.a.assign({},t.viewState,{rotation:0})}),v=Object.keys(y.skippedFeatureUids).sort();!d.prepareFrame(y,e)||!d.replayGroupChanged&&I.a.equals(v,this.skippedFeatures_)||(g.canvas.width=y.size[0]*i,g.canvas.height=y.size[1]*i,d.composeFrame(y,e,g),this.image_=new pe(h,u,i,g.canvas),this.skippedFeatures_=v)}else{if(n=l.getImage(h,u,i,p))this.loadImage(n)&&(this.image_=n)}}if(this.image_){var _=(n=this.image_).getExtent(),m=n.getResolution(),E=n.getPixelRatio(),C=i*m/(u*E),b=st.a.compose(this.imageTransform_,i*o[0]/2,i*o[1]/2,C,C,0,E*(_[0]-s[0])/m,E*(s[1]-_[3])/m);st.a.compose(this.coordinateToCanvasPixelTransform,i*o[0]/2-b[4],i*o[1]/2-b[5],i/u,-i/u,0,-s[0],-s[1]),this.updateLogos(t,l),this.renderedResolution=m*i/E}return!!this.image_},De.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(t,e,n,r,i):Me.prototype.forEachFeatureAtCoordinate.call(this,t,e,n,r,i)},De.prototype.setVectorRenderer=function(t){this.vectorRenderer_=t};var Ne=De,Fe=n("beD/"),ke=function(t,e){Vt.a.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={}};r.a.inherits(ke,Vt.a),ke.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;st.a.compose(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),st.a.invert(st.a.setFromArray(r,n))},ke.prototype.removeLayerRenderers=function(){for(var t in this.layerRenderers_)this.removeLayerRendererByKey_(t).dispose()},ke.expireIconCache_=function(t,e){Fe.a.iconImageCache.expire()},ke.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o,a,s){var u,l=e.viewState,c=l.resolution;function h(t,n){var a=r.a.getUid(t).toString(),s=e.layerStates[r.a.getUid(n)].managed;if(!(a in e.skippedFeatureUids)||s)return i.call(o,t,s?n:null)}var p=l.projection,f=t;if(p.canWrapX()){var d=p.getExtent(),g=Z.a.getWidth(d),y=t[0];if(y<d[0]||y>d[2])f=[y+g*Math.ceil((d[0]-y)/g),t[1]]}var v,_=e.layerStatesArray;for(v=_.length-1;v>=0;--v){var m=_[v],E=m.layer;if(ft.a.visibleAtResolution(m,c)&&a.call(s,E)){var C=this.getLayerRenderer(E);if(E.getSource()&&(u=C.forEachFeatureAtCoordinate(E.getSource().getWrapX()?f:t,e,n,h,o)),u)return u}}},ke.prototype.forEachLayerAtPixel=function(t,e,n,r,i,o){},ke.prototype.hasFeatureAtCoordinate=function(t,e,n,r,i){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,J.a.TRUE,this,r,i)},ke.prototype.getLayerRenderer=function(t){var e=r.a.getUid(t).toString();if(e in this.layerRenderers_)return this.layerRenderers_[e];for(var n,i=it.getLayerRendererPlugins(),o=this.getType(),a=0,s=i.length;a<s;++a){var u=i[a];if(u.handles(o,t)){n=u.create(this,t);break}}if(!n)throw new Error("Unable to create renderer for layer: "+t.getType());return this.layerRenderers_[e]=n,this.layerRendererListeners_[e]=y.a.listen(n,p.a.CHANGE,this.handleLayerRendererChange_,this),n},ke.prototype.getLayerRendererByKey=function(t){return this.layerRenderers_[t]},ke.prototype.getLayerRenderers=function(){return this.layerRenderers_},ke.prototype.getMap=function(){return this.map_},ke.prototype.getType=function(){},ke.prototype.handleLayerRendererChange_=function(){this.map_.render()},ke.prototype.removeLayerRendererByKey_=function(t){var e=this.layerRenderers_[t];return delete this.layerRenderers_[t],y.a.unlistenByKey(this.layerRendererListeners_[t]),delete this.layerRendererListeners_[t],e},ke.prototype.renderFrame=r.a.nullFunction,ke.prototype.removeUnusedLayerRenderers_=function(t,e){var n;for(n in this.layerRenderers_)e&&n in e.layerStates||this.removeLayerRendererByKey_(n).dispose()},ke.prototype.scheduleExpireIconCache=function(t){t.postRenderFunctions.push(ke.expireIconCache_)},ke.prototype.scheduleRemoveUnusedLayerRenderers=function(t){var e;for(e in this.layerRenderers_)if(!(e in t.layerStates))return void t.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},ke.sortByZIndex=function(t,e){return t.zIndex-e.zIndex};var je=ke,Ue=function(t,e){je.call(this,t,e),this.context_=q.a.createCanvasContext2D(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=pt.a.CLASS_UNSELECTABLE,t.insertBefore(this.canvas_,t.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=st.a.create()};r.a.inherits(Ue,je),Ue.handles=function(t){return t===ot.CANVAS},Ue.create=function(t,e){return new Ue(t,e)},Ue.prototype.dispatchComposeEvent_=function(t,e){var n=this.getMap(),r=this.context_;if(n.hasListener(t)){var i=e.extent,o=e.pixelRatio,a=e.viewState.rotation,s=this.getTransform(e),u=new Re(r,o,i,s,a),l=new ye(t,u,e,r,null);n.dispatchEvent(l)}},Ue.prototype.getTransform=function(t){var e=t.viewState,n=this.canvas_.width/2,r=this.canvas_.height/2,i=t.pixelRatio/e.resolution,o=-i,a=-e.rotation,s=-e.center[0],u=-e.center[1];return st.a.compose(this.transform_,n,r,i,o,a,s,u)},Ue.prototype.getType=function(){return ot.CANVAS},Ue.prototype.renderFrame=function(t){if(t){var e=this.context_,n=t.pixelRatio,r=Math.round(t.size[0]*n),i=Math.round(t.size[1]*n);this.canvas_.width!=r||this.canvas_.height!=i?(this.canvas_.width=r,this.canvas_.height=i):e.clearRect(0,0,r,i);var o=t.viewState.rotation;this.calculateMatrices2D(t),this.dispatchComposeEvent_(ve.a.PRECOMPOSE,t);var a=t.layerStatesArray;I.a.stableSort(a,je.sortByZIndex),o&&(e.save(),_e.a.rotateAtOffset(e,o,r/2,i/2));var s,u,l,c,h,p=t.viewState.resolution;for(s=0,u=a.length;s<u;++s)l=(h=a[s]).layer,c=this.getLayerRenderer(l),ft.a.visibleAtResolution(h,p)&&h.sourceState==$.a.READY&&c.prepareFrame(t,h)&&c.composeFrame(t,h,e);o&&e.restore(),this.dispatchComposeEvent_(ve.a.POSTCOMPOSE,t),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1)},Ue.prototype.forEachLayerAtPixel=function(t,e,n,r,i,o){var a,s,u=e.viewState.resolution,l=e.layerStatesArray,c=l.length,h=st.a.apply(e.pixelToCoordinateTransform,t.slice());for(s=c-1;s>=0;--s){var p=l[s],f=p.layer;if(ft.a.visibleAtResolution(p,u)&&i.call(o,f))if(a=this.getLayerRenderer(f).forEachLayerAtCoordinate(h,e,n,r))return a}};var Ge=Ue,Ve=n("2p9+"),Be=function(t){Me.call(this,t),this.context=null===this.context?null:q.a.createCanvasContext2D(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.tmpExtent=Z.a.createEmpty(),this.tmpTileRange_=new Ve.a(0,0,0,0),this.imageTransform_=st.a.create(),this.zDirection=0};r.a.inherits(Be,Me),Be.handles=function(t,e){return t===ot.CANVAS&&e.getType()===fe.a.TILE},Be.create=function(t,e){return new Be(e)},Be.prototype.isDrawableTile_=function(t){var e=t.getState(),n=this.getLayer().getUseInterimTilesOnError();return e==G.a.LOADED||e==G.a.EMPTY||e==G.a.ERROR&&!n},Be.prototype.prepareFrame=function(t,e){var n=t.pixelRatio,i=t.size,o=t.viewState,a=o.projection,s=o.resolution,u=o.center,l=this.getLayer(),c=l.getSource(),h=c.getRevision(),p=c.getTileGridForProjection(a),f=p.getZForResolution(s,this.zDirection),d=p.getResolution(f),g=Math.round(s/d)||1,y=t.extent;if(void 0!==e.extent&&(y=Z.a.getIntersection(y,e.extent)),Z.a.isEmpty(y))return!1;var v=p.getTileRangeForExtentAndZ(y,f),_=p.getTileRangeExtent(f,v),m=c.getTilePixelRatio(n),E={};E[f]={};var C,b,x,T=this.createLoadedTileFinder(c,a,E),w=this.tmpExtent,R=this.tmpTileRange_,S=!1;for(b=v.minX;b<=v.maxX;++b)for(x=v.minY;x<=v.maxY;++x){if((C=c.getTile(f,b,x,n,a)).getState()==G.a.ERROR&&(l.getUseInterimTilesOnError()?l.getPreload()>0&&(S=!0):C.setState(G.a.LOADED)),this.isDrawableTile_(C)||(C=C.getInterimTile()),this.isDrawableTile_(C)){var O=r.a.getUid(this);if(C.getState()==G.a.LOADED){E[f][C.tileCoord.toString()]=C;var I=C.inTransition(O);S||!I&&-1!==this.renderedTiles.indexOf(C)||(S=!0)}if(1===C.getAlpha(O,t.time))continue}var P=p.getTileCoordChildTileRange(C.tileCoord,R,w),A=!1;P&&(A=T(f+1,P)),A||p.forEachTileCoordParentTileRange(C.tileCoord,T,null,R,w)}var L=d*n/m*g,M=t.viewHints,D=M[K.a.ANIMATING]||M[K.a.INTERACTING];if(!(this.renderedResolution&&Date.now()-t.time>16&&D)&&(S||!this.renderedExtent_||!Z.a.containsExtent(this.renderedExtent_,y)||this.renderedRevision!=h||g!=this.oversampling_||!D&&L!=this.renderedResolution)){var N=this.context;if(N){var F=c.getTilePixelSize(f,n,a),k=Math.round(v.getWidth()*F[0]/g),j=Math.round(v.getHeight()*F[1]/g),U=N.canvas;U.width!=k||U.height!=j?(this.oversampling_=g,U.width=k,U.height=j):(this.renderedExtent_&&!Z.a.equals(_,this.renderedExtent_)&&N.clearRect(0,0,k,j),g=this.oversampling_)}this.renderedTiles.length=0;var V,B,H,W,X,z,Y,q,J,Q,$=Object.keys(E).map(Number);for($.sort(function(t,e){return t===f?1:e===f?-1:t>e?1:t<e?-1:0}),W=0,X=$.length;W<X;++W)for(var tt in H=$[W],B=c.getTilePixelSize(H,n,a),V=p.getResolution(H)/d,Y=m*c.getGutter(a),q=E[H])C=q[tt],b=((z=p.getTileCoordExtent(C.getTileCoord(),w))[0]-_[0])/d*m/g,x=(_[3]-z[3])/d*m/g,J=B[0]*V/g,Q=B[1]*V/g,this.drawTileImage(C,t,e,b,x,J,Q,Y,f===H),this.renderedTiles.push(C);this.renderedRevision=h,this.renderedResolution=d*n/m*g,this.renderedExtent_=_}var et=this.renderedResolution/s,nt=st.a.compose(this.imageTransform_,n*i[0]/2,n*i[1]/2,et,et,0,(this.renderedExtent_[0]-u[0])/this.renderedResolution*n,(u[1]-this.renderedExtent_[3])/this.renderedResolution*n);return st.a.compose(this.coordinateToCanvasPixelTransform,n*i[0]/2-nt[4],n*i[1]/2-nt[5],n/s,-n/s,0,-u[0],-u[1]),this.updateUsedTiles(t.usedTiles,c,f,v),this.manageTilePyramid(t,c,p,n,a,y,f,l.getPreload()),this.scheduleExpireCache(t,c),this.updateLogos(t,c),this.renderedTiles.length>0},Be.prototype.drawTileImage=function(t,e,n,i,o,a,s,u,l){var c=t.getImage(this.getLayer());if(c){var h=r.a.getUid(this),p=l?t.getAlpha(h,e.time):1;1!==p||this.getLayer().getSource().getOpaque(e.viewState.projection)||this.context.clearRect(i,o,a,s);var f=p!==this.context.globalAlpha;f&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(c,u,u,c.width-2*u,c.height-2*u,i,o,a,s),f&&this.context.restore(),1!==p?e.animate=!0:l&&t.endTransition(h)}},Be.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},Be.prototype.getLayer,Be.prototype.getImageTransform=function(){return this.imageTransform_};var He=Be,We=n("emf4"),Xe=n.n(We),ze=function(){};ze.prototype.getReplay=function(t,e){},ze.prototype.isEmpty=function(){};var Ye=ze,Ke={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"},qe=n("WTDv"),Ze=n("wupX"),Je=n("3ahG"),Qe={lineString:function(t,e,n,r,i,o,a,s){for(var u,l,c,h=[],p=t[e]>t[n-r],f=i.length,d=t[e],g=t[e+1],y=t[e+=r],v=t[e+1],_=0,m=Math.sqrt(Math.pow(y-d,2)+Math.pow(v-g,2)),E="",C=0,b=0;b<f;++b){l=p?f-b-1:b;var x=i.charAt(l),T=o(E=p?x+E:E+x)-C;C+=T;for(var w=a+T/2;e<n-r&&_+m<w;)d=y,g=v,y=t[e+=r],v=t[e+1],_+=m,m=Math.sqrt(Math.pow(y-d,2)+Math.pow(v-g,2));var R=w-_,S=Math.atan2(v-g,y-d);if(p&&(S+=S>0?-Math.PI:Math.PI),void 0!==c){var O=S-c;if(O+=O>Math.PI?-2*Math.PI:O<-Math.PI?2*Math.PI:0,Math.abs(O)>s)return null}var I=R/m,P=Rt.a.lerp(d,y,I),A=Rt.a.lerp(g,v,I);c==S?(p&&(u[0]=P,u[1]=A,u[2]=T/2),u[4]=E):(C=T,u=[P,A,T/2,S,E=x],p?h.unshift(u):h.push(u),c=S),a+=T}return h}},$e=Qe,tn={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},en={};en.ORDER=[Ke.POLYGON,Ke.CIRCLE,Ke.LINE_STRING,Ke.IMAGE,Ke.TEXT,Ke.DEFAULT],en.TEXT_ALIGN={},en.TEXT_ALIGN.left=0,en.TEXT_ALIGN.end=0,en.TEXT_ALIGN.center=.5,en.TEXT_ALIGN.right=1,en.TEXT_ALIGN.start=1,en.TEXT_ALIGN.top=0,en.TEXT_ALIGN.middle=.5,en.TEXT_ALIGN.hanging=.2,en.TEXT_ALIGN.alphabetic=.8,en.TEXT_ALIGN.ideographic=.8,en.TEXT_ALIGN.bottom=1;var nn=en,rn=function(t,e,n,r,i,o){Te.call(this),this.declutterTree=o,this.tmpExtent_=Z.a.createEmpty(),this.tolerance=t,this.maxExtent=e,this.overlaps=i,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=n,this.fillOrigin_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=st.a.create(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0,this.tmpLocalTransform_=st.a.create(),this.resetTransform_=st.a.create()};r.a.inherits(rn,Te),rn.prototype.replayTextBackground_=function(t,e,n,r,i,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,i),t.lineTo.apply(t,e),o&&(this.fillOrigin_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},rn.prototype.replayImage_=function(t,e,n,r,i,o,a,s,u,l,c,h,p,f,d,g,y,v){var _=y||v,m=this.tmpLocalTransform_;e-=i*=p,n-=o*=p,f&&(e=Math.round(e),n=Math.round(n));var E,C,b,x,T=d+l>r.width?r.width-l:d,w=s+c>r.height?r.height-c:s,R=this.tmpExtent_,S=g[3]+T*p+g[1],O=g[0]+w*p+g[2],I=e-g[3],P=n-g[0];(_||0!==h)&&(E=[I,P],C=[I+S,P],b=[I+S,P+O],x=[I,P+O]);var A=null;if(0!==h){var L=e+i,M=n+o;A=st.a.compose(m,L,M,1,1,h,-L,-M),Z.a.createOrUpdateEmpty(R),Z.a.extendCoordinate(R,st.a.apply(m,E)),Z.a.extendCoordinate(R,st.a.apply(m,C)),Z.a.extendCoordinate(R,st.a.apply(m,b)),Z.a.extendCoordinate(R,st.a.apply(m,x))}else Z.a.createOrUpdate(I,P,I+S,P+O,R);var D=t.canvas,N=R[0]<=D.width&&R[2]>=0&&R[1]<=D.height&&R[3]>=0;if(a){if(!N&&1==a[4])return;Z.a.extend(a,R);var F=N?[t,A?A.slice(0):null,u,r,l,c,T,w,e,n,p]:null;F&&_&&F.push(y,v,E,C,b,x),a.push(F)}else N&&(_&&this.replayTextBackground_(t,E,C,b,x,y,v),_e.a.drawImage(t,A,u,r,l,c,T,w,e,n,p))},rn.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},rn.prototype.appendFlatCoordinates=function(t,e,n,r,i,o){var a=this.coordinates.length,s=this.getBufferedMaxExtent();o&&(e+=r);var u,l,c,h=[t[e],t[e+1]],p=[NaN,NaN],f=!0;for(u=e+r;u<n;u+=r)p[0]=t[u],p[1]=t[u+1],(c=Z.a.coordinateRelationship(s,p))!==l?(f&&(this.coordinates[a++]=h[0],this.coordinates[a++]=h[1]),this.coordinates[a++]=p[0],this.coordinates[a++]=p[1],f=!1):c===qe.a.INTERSECTING?(this.coordinates[a++]=p[0],this.coordinates[a++]=p[1],f=!1):f=!0,h[0]=p[0],h[1]=p[1],l=c;return(i&&f||u===e+r)&&(this.coordinates[a++]=h[0],this.coordinates[a++]=h[1]),a},rn.prototype.drawCustomCoordinates_=function(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o],u=this.appendFlatCoordinates(t,e,s,r,!1,!1);i.push(u),e=s}return e},rn.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var r,i,o,a,s,u=t.getType(),l=t.getStride(),c=this.coordinates.length;if(u==Ee.a.MULTI_POLYGON){r=(t=t).getOrientedFlatCoordinates(),a=[];var h=t.getEndss();s=0;for(var p=0,f=h.length;p<f;++p){var d=[];s=this.drawCustomCoordinates_(r,s,h[p],l,d),a.push(d)}this.instructions.push([tn.CUSTOM,c,a,t,n,Ze.a.coordinatesss])}else u==Ee.a.POLYGON||u==Ee.a.MULTI_LINE_STRING?(o=[],r=u==Ee.a.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),s=this.drawCustomCoordinates_(r,0,t.getEnds(),l,o),this.instructions.push([tn.CUSTOM,c,o,t,n,Ze.a.coordinatess])):u==Ee.a.LINE_STRING||u==Ee.a.MULTI_POINT?(r=t.getFlatCoordinates(),i=this.appendFlatCoordinates(r,0,r.length,l,!1,!1),this.instructions.push([tn.CUSTOM,c,i,t,n,Ze.a.coordinates])):u==Ee.a.POINT&&(r=t.getFlatCoordinates(),this.coordinates.push(r[0],r[1]),i=this.coordinates.length,this.instructions.push([tn.CUSTOM,c,i,t,n]));this.endGeometry(t,e)},rn.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[tn.BEGIN_GEOMETRY,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[tn.BEGIN_GEOMETRY,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},rn.prototype.fill_=function(t){if(this.fillOrigin_){var e=st.a.apply(this.renderedTransform_,this.fillOrigin_.slice());t.translate(e[0],e[1]),t.rotate(this.viewRotation_)}t.fill(),this.fillOrigin_&&t.setTransform.apply(t,_e.a.resetTransform_)},rn.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],h.a.CANVAS_LINE_DASH&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},rn.prototype.renderDeclutter_=function(t,e){if(t&&t.length>5){var n=t[4];if(1==n||n==t.length-5){var r={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(!this.declutterTree.collides(r)){this.declutterTree.insert(r);for(var i=_e.a.drawImage,o=5,a=t.length;o<a;++o){var s=t[o];s&&(s.length>11&&this.replayTextBackground_(s[0],s[13],s[14],s[15],s[16],s[11],s[12]),i.apply(void 0,s))}}t.length=5,Z.a.createOrUpdateEmpty(t)}}},rn.prototype.replay_=function(t,e,n,i,o,a){var s;this.pixelCoordinates_&&I.a.equals(e,this.renderedTransform_)?s=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),s=be.a.transform2D(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),st.a.setFromArray(this.renderedTransform_,e));for(var u,l,c,h,p,f,d,g,y,v=!B.a.isEmpty(n),_=0,m=i.length,E=0,C=0,b=0,x=null,T=null,w=this.coordinateCache_,R=this.viewRotation_,S={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:R},O=this.instructions!=i||this.overlaps?0:200;_<m;){var P,A,L,M=i[_];switch(M[0]){case tn.BEGIN_GEOMETRY:P=M[1],v&&n[r.a.getUid(P).toString()]||!P.getGeometry()?_=M[2]:void 0===a||Z.a.intersects(a,P.getGeometry().getExtent())?++_:_=M[2]+1;break;case tn.BEGIN_PATH:C>O&&(this.fill_(t),C=0),b>O&&(t.stroke(),b=0),C||b||(t.beginPath(),h=p=NaN),++_;break;case tn.CIRCLE:var D=s[E=M[1]],N=s[E+1],F=s[E+2]-D,k=s[E+3]-N,j=Math.sqrt(F*F+k*k);t.moveTo(D+j,N),t.arc(D,N,j,0,2*Math.PI,!0),++_;break;case tn.CLOSE_PATH:t.closePath(),++_;break;case tn.CUSTOM:E=M[1],u=M[2];var U=M[3],G=M[4],V=6==M.length?M[5]:void 0;S.geometry=U,S.feature=P,_ in w||(w[_]=[]);var H=w[_];V?V(s,E,u,2,H):(H[0]=s[E],H[1]=s[E+1],H.length=2),G(H,S),++_;break;case tn.DRAW_IMAGE:E=M[1],u=M[2],y=M[3],l=M[4],c=M[5],g=o?null:M[6];var W,X,z,Y=M[7],K=M[8],q=M[9],J=M[10],Q=M[11],$=M[12],tt=M[13],et=M[14],nt=M[15];for(M.length>16?(W=M[16],X=M[17],z=M[18]):(W=_e.a.defaultPadding,X=z=!1),Q&&($+=R);E<u;E+=2)this.replayImage_(t,s[E],s[E+1],y,l,c,g,Y,K,q,J,$,tt,et,nt,W,X?x:null,z?T:null);this.renderDeclutter_(g,P),++_;break;case tn.DRAW_CHARS:var rt=M[1],it=M[2],ot=M[3];g=o?null:M[4];var at=M[5],ut=M[6],lt=M[7],ct=M[8],ht=M[9],pt=M[10],ft=M[11],dt=M[12],gt=M[13],yt=M[14],vt=Je.a.lineString(s,rt,it,2),_t=ct(dt);if(at||_t<=vt){var mt=this.textStates[gt].textAlign,Et=(vt-_t)*nn.TEXT_ALIGN[mt],Ct=$e.lineString(s,rt,it,2,dt,ct,Et,lt);if(Ct){var bt,xt,Tt,wt,Rt;if(pt)for(bt=0,xt=Ct.length;bt<xt;++bt)Tt=(Rt=Ct[bt])[4],wt=this.getImage(Tt,gt,"",pt),l=Rt[2]+ft,c=ot*wt.height+2*(.5-ot)*ft-ht,this.replayImage_(t,Rt[0],Rt[1],wt,l,c,g,wt.height,1,0,0,Rt[3],yt,!1,wt.width,_e.a.defaultPadding,null,null);if(ut)for(bt=0,xt=Ct.length;bt<xt;++bt)Tt=(Rt=Ct[bt])[4],wt=this.getImage(Tt,gt,ut,""),l=Rt[2],c=ot*wt.height-ht,this.replayImage_(t,Rt[0],Rt[1],wt,l,c,g,wt.height,1,0,0,Rt[3],yt,!1,wt.width,_e.a.defaultPadding,null,null)}}this.renderDeclutter_(g,P),++_;break;case tn.END_GEOMETRY:if(void 0!==o){var St=o(P=M[1]);if(St)return St}++_;break;case tn.FILL:O?C++:this.fill_(t),++_;break;case tn.MOVE_TO_LINE_TO:for(E=M[1],u=M[2],A=s[E],d=(L=s[E+1])+.5|0,(f=A+.5|0)===h&&d===p||(t.moveTo(A,L),h=f,p=d),E+=2;E<u;E+=2)f=(A=s[E])+.5|0,d=(L=s[E+1])+.5|0,E!=u-2&&f===h&&d===p||(t.lineTo(A,L),h=f,p=d);++_;break;case tn.SET_FILL_STYLE:x=M,this.fillOrigin_=M[2],C&&(this.fill_(t),C=0,b&&(t.stroke(),b=0)),t.fillStyle=M[1],++_;break;case tn.SET_STROKE_STYLE:T=M,b&&(t.stroke(),b=0),this.setStrokeStyle_(t,M),++_;break;case tn.STROKE:O?b++:t.stroke(),++_;break;default:++_}}C&&this.fill_(t),b&&t.stroke()},rn.prototype.replay=function(t,e,n,r){this.viewRotation_=n,this.replay_(t,e,r,this.instructions,void 0,void 0)},rn.prototype.replayHitDetection=function(t,e,n,r,i,o){return this.viewRotation_=n,this.replay_(t,e,r,this.hitDetectionInstructions,i,o)},rn.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,r,i=e.length,o=-1;for(t=0;t<i;++t)(r=(n=e[t])[0])==tn.END_GEOMETRY?o=t:r==tn.BEGIN_GEOMETRY&&(n[2]=t,I.a.reverseSubArray(this.hitDetectionInstructions,o,t),o=-1)},rn.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var r=t.getColor();n.fillStyle=me.a.asColorLike(r||_e.a.defaultFillStyle)}else n.fillStyle=void 0;if(e){var i=e.getColor();n.strokeStyle=me.a.asColorLike(i||_e.a.defaultStrokeStyle);var o=e.getLineCap();n.lineCap=void 0!==o?o:_e.a.defaultLineCap;var a=e.getLineDash();n.lineDash=a?a.slice():_e.a.defaultLineDash;var s=e.getLineDashOffset();n.lineDashOffset=s||_e.a.defaultLineDashOffset;var u=e.getLineJoin();n.lineJoin=void 0!==u?u:_e.a.defaultLineJoin;var l=e.getWidth();n.lineWidth=void 0!==l?l:_e.a.defaultLineWidth;var c=e.getMiterLimit();n.miterLimit=void 0!==c?c:_e.a.defaultMiterLimit,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},rn.prototype.applyFill=function(t,e){var n=t.fillStyle,r=[tn.SET_FILL_STYLE,n];if("string"!=typeof n){var i=e.getExtent();r.push([i[0],i[3]])}this.instructions.push(r)},rn.prototype.applyStroke=function(t){this.instructions.push([tn.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio])},rn.prototype.updateFillStyle=function(t,e,n){var r=t.fillStyle;"string"==typeof r&&t.currentFillStyle==r||(e.call(this,t,n),t.currentFillStyle=r)},rn.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,r=t.lineCap,i=t.lineDash,o=t.lineDashOffset,a=t.lineJoin,s=t.lineWidth,u=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=r||i!=t.currentLineDash&&!I.a.equals(t.currentLineDash,i)||t.currentLineDashOffset!=o||t.currentLineJoin!=a||t.currentLineWidth!=s||t.currentMiterLimit!=u)&&(e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=r,t.currentLineDash=i,t.currentLineDashOffset=o,t.currentLineJoin=a,t.currentLineWidth=s,t.currentMiterLimit=u)},rn.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var n=[tn.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)},rn.prototype.finish=r.a.nullFunction,rn.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Z.a.clone(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Z.a.buffer(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_};var on=rn,an=function(t,e,n,r,i,o){on.call(this,t,e,n,r,i,o),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.snapToPixel_=void 0,this.width_=void 0};r.a.inherits(an,on),an.prototype.drawCoordinates_=function(t,e,n,r){return this.appendFlatCoordinates(t,e,n,r,!1,!1)},an.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),i=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,r);this.instructions.push([tn.DRAW_IMAGE,i,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.snapToPixel_,this.width_]),this.hitDetectionInstructions.push([tn.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.endGeometry(t,e)}},an.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),i=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,r);this.instructions.push([tn.DRAW_IMAGE,i,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.snapToPixel_,this.width_]),this.hitDetectionInstructions.push([tn.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]),this.endGeometry(t,e)}},an.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.snapToPixel_=void 0,this.width_=void 0},an.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),r=t.getSize(),i=t.getHitDetectionImage(1),o=t.getImage(1),a=t.getOrigin();this.anchorX_=n[0],this.anchorY_=n[1],this.declutterGroup_=e,this.hitDetectionImage_=i,this.image_=o,this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.snapToPixel_=t.getSnapToPixel(),this.width_=r[0]};var sn=an,un=function(t,e,n,r,i,o){on.call(this,t,e,n,r,i,o)};r.a.inherits(un,on),un.prototype.drawFlatCoordinates_=function(t,e,n,r){var i=this.coordinates.length,o=this.appendFlatCoordinates(t,e,n,r,!1,!1),a=[tn.MOVE_TO_LINE_TO,i,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n},un.prototype.drawLineString=function(t,e){var n=this.state,r=n.strokeStyle,i=n.lineWidth;if(void 0!==r&&void 0!==i){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([tn.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],[tn.BEGIN_PATH]);var o=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(o,0,o.length,a),this.hitDetectionInstructions.push([tn.STROKE]),this.endGeometry(t,e)}},un.prototype.drawMultiLineString=function(t,e){var n=this.state,r=n.strokeStyle,i=n.lineWidth;if(void 0!==r&&void 0!==i){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([tn.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],[tn.BEGIN_PATH]);var o,a,s=t.getEnds(),u=t.getFlatCoordinates(),l=t.getStride(),c=0;for(o=0,a=s.length;o<a;++o)c=this.drawFlatCoordinates_(u,c,s[o],l);this.hitDetectionInstructions.push([tn.STROKE]),this.endGeometry(t,e)}},un.prototype.finish=function(){var t=this.state;void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push([tn.STROKE]),this.reverseHitDetectionInstructions(),this.state=null},un.prototype.applyStroke=function(t){void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push([tn.STROKE]),t.lastStroke=this.coordinates.length),t.lastStroke=0,on.prototype.applyStroke.call(this,t),this.instructions.push([tn.BEGIN_PATH])};var ln=un,cn=n("FeXB"),hn=n("LmAy"),pn=function(t,e,n,r,i,o){on.call(this,t,e,n,r,i,o)};r.a.inherits(pn,on),pn.prototype.drawFlatCoordinatess_=function(t,e,n,r){var i=this.state,o=void 0!==i.fillStyle,a=void 0!=i.strokeStyle,s=n.length,u=[tn.BEGIN_PATH];this.instructions.push(u),this.hitDetectionInstructions.push(u);for(var l=0;l<s;++l){var c=n[l],h=this.coordinates.length,p=this.appendFlatCoordinates(t,e,c,r,!0,!a),f=[tn.MOVE_TO_LINE_TO,h,p];if(this.instructions.push(f),this.hitDetectionInstructions.push(f),a){var d=[tn.CLOSE_PATH];this.instructions.push(d),this.hitDetectionInstructions.push(d)}e=c}var g=[tn.FILL];if(this.hitDetectionInstructions.push(g),o&&this.instructions.push(g),a){var y=[tn.STROKE];this.instructions.push(y),this.hitDetectionInstructions.push(y)}return e},pn.prototype.drawCircle=function(t,e){var n=this.state,r=n.fillStyle,i=n.strokeStyle;if(void 0!==r||void 0!==i){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),this.hitDetectionInstructions.push([tn.SET_FILL_STYLE,cn.a.asString(_e.a.defaultFillStyle)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([tn.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getFlatCoordinates(),a=t.getStride(),s=this.coordinates.length;this.appendFlatCoordinates(o,0,o.length,a,!1,!1);var u=[tn.BEGIN_PATH],l=[tn.CIRCLE,s];this.instructions.push(u,l),this.hitDetectionInstructions.push(u,l);var c=[tn.FILL];if(this.hitDetectionInstructions.push(c),void 0!==n.fillStyle&&this.instructions.push(c),void 0!==n.strokeStyle){var h=[tn.STROKE];this.instructions.push(h),this.hitDetectionInstructions.push(h)}this.endGeometry(t,e)}},pn.prototype.drawPolygon=function(t,e){var n=this.state;this.setFillStrokeStyles_(t),this.beginGeometry(t,e),this.hitDetectionInstructions.push([tn.SET_FILL_STYLE,cn.a.asString(_e.a.defaultFillStyle)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([tn.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var r=t.getEnds(),i=t.getOrientedFlatCoordinates(),o=t.getStride();this.drawFlatCoordinatess_(i,0,r,o),this.endGeometry(t,e)},pn.prototype.drawMultiPolygon=function(t,e){var n=this.state,r=n.fillStyle,i=n.strokeStyle;if(void 0!==r||void 0!==i){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),this.hitDetectionInstructions.push([tn.SET_FILL_STYLE,cn.a.asString(_e.a.defaultFillStyle)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([tn.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o,a,s=t.getEndss(),u=t.getOrientedFlatCoordinates(),l=t.getStride(),c=0;for(o=0,a=s.length;o<a;++o)c=this.drawFlatCoordinatess_(u,c,s[o],l);this.endGeometry(t,e)}},pn.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t){var e,n,r=this.coordinates;for(e=0,n=r.length;e<n;++e)r[e]=hn.a.snap(r[e],t)}},pn.prototype.setFillStrokeStyles_=function(t){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.applyFill,t),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)};var fn=pn,dn={lineString:function(t,e,n,r,i){var o,a,s,u,l,c,h,p,f,d=n,g=n,y=0,v=0,_=n;for(o=n;o<r;o+=i){var m=e[o],E=e[o+1];void 0!==u&&(p=m-u,f=E-l,s=Math.sqrt(p*p+f*f),void 0!==c&&(v+=a,Math.acos((c*p+h*f)/(a*s))>t&&(v>y&&(y=v,d=_,g=o),v=0,_=o-i)),a=s,c=p,h=f),u=m,l=E}return(v+=s)>y?[_,o]:[d,g]}},gn=dn,yn={POINT:"point",LINE:"line"},vn=function(t,e,n,r,i,o){on.call(this,t,e,n,r,i,o),this.declutterGroup_,this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},_e.a.labelCache.prune()};r.a.inherits(vn,on),vn.measureTextWidths=function(t,e,n){var r,i,o=e.length,a=0;for(i=0;i<o;++i)r=_e.a.measureTextWidth(t,e[i]),a=Math.max(a,r),n.push(r);return a},vn.prototype.drawText=function(t,e){var n=this.textFillState_,r=this.textStrokeState_,i=this.textState_;if(""!==this.text_&&i&&(n||r)){var o,a,s=this.coordinates.length,u=t.getType(),l=null,c=2,h=2;if(i.placement===yn.LINE){if(!Z.a.intersects(this.getBufferedMaxExtent(),t.getExtent()))return;var p;if(l=t.getFlatCoordinates(),h=t.getStride(),u==Ee.a.LINE_STRING)p=[l.length];else if(u==Ee.a.MULTI_LINE_STRING)p=t.getEnds();else if(u==Ee.a.POLYGON)p=t.getEnds().slice(0,1);else if(u==Ee.a.MULTI_POLYGON){var f=t.getEndss();for(p=[],o=0,a=f.length;o<a;++o)p.push(f[o][0])}this.beginGeometry(t,e);for(var d,g=i.textAlign,y=0,v=0,_=p.length;v<_;++v){if(void 0==g){var m=gn.lineString(i.maxAngle,l,y,p[v],h);y=m[0],d=m[1]}else d=p[v];for(o=y;o<d;o+=h)this.coordinates.push(l[o],l[o+1]);c=this.coordinates.length,y=p[v],this.drawChars_(s,c,this.declutterGroup_),s=c}this.endGeometry(t,e)}else{var E=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),C=E.width/this.pixelRatio;switch(u){case Ee.a.POINT:case Ee.a.MULTI_POINT:c=(l=t.getFlatCoordinates()).length;break;case Ee.a.LINE_STRING:l=t.getFlatMidpoint();break;case Ee.a.CIRCLE:l=t.getCenter();break;case Ee.a.MULTI_LINE_STRING:c=(l=t.getFlatMidpoints()).length;break;case Ee.a.POLYGON:if(l=t.getFlatInteriorPoint(),!i.overflow&&l[2]/this.resolution<C)return;h=3;break;case Ee.a.MULTI_POLYGON:var b=t.getFlatInteriorPoints();for(l=[],o=0,a=b.length;o<a;o+=3)(i.overflow||b[o+2]/this.resolution>=C)&&l.push(b[o],b[o+1]);if(0==(c=l.length))return}c=this.appendFlatCoordinates(l,0,c,h,!1,!1),this.beginGeometry(t,e),(i.backgroundFill||i.backgroundStroke)&&(this.setFillStrokeStyle(i.backgroundFill,i.backgroundStroke),this.updateFillStyle(this.state,this.applyFill,t),this.updateStrokeStyle(this.state,this.applyStroke)),this.drawTextImage_(E,s,c),this.endGeometry(t,e)}}},vn.prototype.getImage=function(t,e,n,r){var i,o=r+e+t+n+this.pixelRatio,a=_e.a.labelCache;if(!a.containsKey(o)){var s=r?this.strokeStates[r]||this.textStrokeState_:null,u=n?this.fillStates[n]||this.textFillState_:null,l=this.textStates[e]||this.textState_,c=this.pixelRatio,p=l.scale*c,f=nn.TEXT_ALIGN[l.textAlign||_e.a.defaultTextAlign],d=r&&s.lineWidth?s.lineWidth:0,g=t.split("\n"),y=g.length,v=[],_=vn.measureTextWidths(l.font,g,v),m=_e.a.measureTextHeight(l.font),E=m*y,C=_+d,b=q.a.createCanvasContext2D(Math.ceil(C*p),Math.ceil((E+d)*p));i=b.canvas,a.set(o,i),1!=p&&b.scale(p,p),b.font=l.font,r&&(b.strokeStyle=s.strokeStyle,b.lineWidth=d*(h.a.SAFARI?p:1),b.lineCap=s.lineCap,b.lineJoin=s.lineJoin,b.miterLimit=s.miterLimit,h.a.CANVAS_LINE_DASH&&s.lineDash.length&&(b.setLineDash(s.lineDash),b.lineDashOffset=s.lineDashOffset)),n&&(b.fillStyle=u.fillStyle),b.textBaseline="middle",b.textAlign="center";var x,T=.5-f,w=f*i.width/p+T*d;if(r)for(x=0;x<y;++x)b.strokeText(g[x],w+T*v[x],.5*(d+m)+x*m);if(n)for(x=0;x<y;++x)b.fillText(g[x],w+T*v[x],.5*(d+m)+x*m)}return a.get(o)},vn.prototype.drawTextImage_=function(t,e,n){var r=this.textState_,i=this.textStrokeState_,o=this.pixelRatio,a=nn.TEXT_ALIGN[r.textAlign||_e.a.defaultTextAlign],s=nn.TEXT_ALIGN[r.textBaseline],u=i&&i.lineWidth?i.lineWidth:0,l=a*t.width/o+2*(.5-a)*u,c=s*t.height/o+2*(.5-s)*u;this.instructions.push([tn.DRAW_IMAGE,e,n,t,(l-this.textOffsetX_)*o,(c-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,!0,t.width,r.padding==_e.a.defaultPadding?_e.a.defaultPadding:r.padding.map(function(t){return t*o}),!!r.backgroundFill,!!r.backgroundStroke]),this.hitDetectionInstructions.push([tn.DRAW_IMAGE,e,n,t,(l-this.textOffsetX_)*o,(c-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/o,!0,t.width,r.padding,!!r.backgroundFill,!!r.backgroundStroke])},vn.prototype.drawChars_=function(t,e,n){var r=this.textStrokeState_,i=this.textState_,o=this.textFillState_,a=this.strokeKey_;r&&(a in this.strokeStates||(this.strokeStates[a]={strokeStyle:r.strokeStyle,lineCap:r.lineCap,lineDashOffset:r.lineDashOffset,lineWidth:r.lineWidth,lineJoin:r.lineJoin,miterLimit:r.miterLimit,lineDash:r.lineDash}));var s=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:i.font,textAlign:i.textAlign||_e.a.defaultTextAlign,scale:i.scale});var u=this.fillKey_;o&&(u in this.fillStates||(this.fillStates[u]={fillStyle:o.fillStyle}));var l=this.pixelRatio,c=nn.TEXT_ALIGN[i.textBaseline],h=this.textOffsetY_*l,p=this.text_,f=i.font,d=i.scale,g=r?r.lineWidth*d/2:0,y=this.widths_[f];y||(this.widths_[f]=y={}),this.instructions.push([tn.DRAW_CHARS,t,e,c,n,i.overflow,u,i.maxAngle,function(t){var e=y[t];return e||(e=y[t]=_e.a.measureTextWidth(f,t)),e*d*l},h,a,g*l,p,s,1]),this.hitDetectionInstructions.push([tn.DRAW_CHARS,t,e,c,n,i.overflow,u,i.maxAngle,function(t){var e=y[t];return e||(e=y[t]=_e.a.measureTextWidth(f,t)),e*d},h,a,g,p,s,1/l])},vn.prototype.setTextStyle=function(t,e){var n,i,o;if(t){this.declutterGroup_=e;var a=t.getFill();a?((i=this.textFillState_)||(i=this.textFillState_={}),i.fillStyle=me.a.asColorLike(a.getColor()||_e.a.defaultFillStyle)):i=this.textFillState_=null;var s=t.getStroke();if(s){(o=this.textStrokeState_)||(o=this.textStrokeState_={});var u=s.getLineDash(),l=s.getLineDashOffset(),c=s.getWidth(),h=s.getMiterLimit();o.lineCap=s.getLineCap()||_e.a.defaultLineCap,o.lineDash=u?u.slice():_e.a.defaultLineDash,o.lineDashOffset=void 0===l?_e.a.defaultLineDashOffset:l,o.lineJoin=s.getLineJoin()||_e.a.defaultLineJoin,o.lineWidth=void 0===c?_e.a.defaultLineWidth:c,o.miterLimit=void 0===h?_e.a.defaultMiterLimit:h,o.strokeStyle=me.a.asColorLike(s.getColor()||_e.a.defaultStrokeStyle)}else o=this.textStrokeState_=null;n=this.textState_;var p=t.getFont()||_e.a.defaultFont;_e.a.checkFont(p);var f=t.getScale();n.overflow=t.getOverflow(),n.font=p,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||_e.a.defaultTextBaseline,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||_e.a.defaultPadding,n.scale=void 0===f?1:f;var d=t.getOffsetX(),g=t.getOffsetY(),y=t.getRotateWithView(),v=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===d?0:d,this.textOffsetY_=void 0===g?0:g,this.textRotateWithView_=void 0!==y&&y,this.textRotation_=void 0===v?0:v,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:r.a.getUid(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?"),this.fillKey_=i?"string"==typeof i.fillStyle?i.fillStyle:"|"+r.a.getUid(i.fillStyle):""}else this.text_=""};var _n=vn,mn=function(t,e,n,r,i,o,a){Ye.call(this),this.declutterTree_=o,this.declutterGroup_=null,this.tolerance_=t,this.maxExtent_=e,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=n,this.renderBuffer_=a,this.replaysByZIndex_={},this.hitDetectionContext_=q.a.createCanvasContext2D(1,1),this.hitDetectionTransform_=st.a.create()};r.a.inherits(mn,Ye),mn.circleArrayCache_={0:[[!0]]},mn.fillCircleArrayRowToMiddle_=function(t,e,n){var r,i=Math.floor(t.length/2);if(e>=i)for(r=i;r<e;r++)t[r][n]=!0;else if(e<i)for(r=e+1;r<i;r++)t[r][n]=!0},mn.getCircleArray_=function(t){if(void 0!==mn.circleArrayCache_[t])return mn.circleArrayCache_[t];for(var e=2*t+1,n=new Array(e),r=0;r<e;r++)n[r]=new Array(e);for(var i=t,o=0,a=0;i>=o;)mn.fillCircleArrayRowToMiddle_(n,t+i,t+o),mn.fillCircleArrayRowToMiddle_(n,t+o,t+i),mn.fillCircleArrayRowToMiddle_(n,t-o,t+i),mn.fillCircleArrayRowToMiddle_(n,t-i,t+o),mn.fillCircleArrayRowToMiddle_(n,t-i,t-o),mn.fillCircleArrayRowToMiddle_(n,t-o,t-i),mn.fillCircleArrayRowToMiddle_(n,t+o,t-i),mn.fillCircleArrayRowToMiddle_(n,t+i,t-o),2*((a+=1+2*++o)-i)+1>0&&(a+=1-2*(i-=1));return mn.circleArrayCache_[t]=n,n},mn.replayDeclutter=function(t,e,n){for(var r=Object.keys(t).map(Number).sort(I.a.numberSafeCompareFunction),i={},o=0,a=r.length;o<a;++o)for(var s=t[r[o].toString()],u=0,l=s.length;u<l;){var c=s[u++],h=s[u++];c.replay(e,h,n,i)}},mn.prototype.addDeclutter=function(t){var e=null;return this.declutterTree_&&(t?(e=this.declutterGroup_)[4]++:(e=this.declutterGroup_=Z.a.createEmpty()).push(1)),e},mn.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},mn.prototype.hasReplays=function(t){for(var e in this.replaysByZIndex_)for(var n=this.replaysByZIndex_[e],r=0,i=t.length;r<i;++r)if(t[r]in n)return!0;return!1},mn.prototype.finish=function(){var t;for(t in this.replaysByZIndex_){var e,n=this.replaysByZIndex_[t];for(e in n)n[e].finish()}},mn.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o,a){var s,u=2*(r=Math.round(r))+1,l=st.a.compose(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-n,-t[0],-t[1]),c=this.hitDetectionContext_;c.canvas.width!==u||c.canvas.height!==u?(c.canvas.width=u,c.canvas.height=u):c.clearRect(0,0,u,u),void 0!==this.renderBuffer_&&(s=Z.a.createEmpty(),Z.a.extendCoordinate(s,t),Z.a.buffer(s,e*(this.renderBuffer_+r),s));var h,p,f=mn.getCircleArray_(r);function d(t){for(var e=c.getImageData(0,0,u,u).data,n=0;n<u;n++)for(var r=0;r<u;r++){var i;if(f[n][r])if(e[4*(r*u+n)+3]>0)return(!h||p!=Ke.IMAGE&&p!=Ke.TEXT||-1!==h.indexOf(t))&&(i=o(t)),i||void c.clearRect(0,0,u,u)}}this.declutterTree_&&(h=this.declutterTree_.all().map(function(t){return t.value}));var g,y,v,_,m,E=Object.keys(this.replaysByZIndex_).map(Number);for(E.sort(I.a.numberSafeCompareFunction),g=E.length-1;g>=0;--g){var C=E[g].toString();for(v=this.replaysByZIndex_[C],y=nn.ORDER.length-1;y>=0;--y)if(void 0!==(_=v[p=nn.ORDER[y]]))if(!a||p!=Ke.IMAGE&&p!=Ke.TEXT){if(m=_.replayHitDetection(c,l,n,i,d,s))return m}else{var b=a[C];b?b.push(_,l.slice(0)):a[C]=[_,l.slice(0)]}}},mn.prototype.getClipCoords=function(t){var e=this.maxExtent_,n=e[0],r=e[1],i=e[2],o=e[3],a=[n,r,n,o,i,o,i,r];return be.a.transform2D(a,0,8,2,t,a),a},mn.prototype.getReplay=function(t,e){var n=void 0!==t?t.toString():"0",r=this.replaysByZIndex_[n];void 0===r&&(r={},this.replaysByZIndex_[n]=r);var i=r[e];void 0===i&&(i=new(0,mn.BATCH_CONSTRUCTORS_[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),r[e]=i);return i},mn.prototype.getReplays=function(){return this.replaysByZIndex_},mn.prototype.isEmpty=function(){return B.a.isEmpty(this.replaysByZIndex_)},mn.prototype.replay=function(t,e,n,r,i,o){var a=Object.keys(this.replaysByZIndex_).map(Number);a.sort(I.a.numberSafeCompareFunction),t.save(),this.clip(t,e);var s,u,l,c,h,p,f=i||nn.ORDER;for(s=0,u=a.length;s<u;++s){var d=a[s].toString();for(h=this.replaysByZIndex_[d],l=0,c=f.length;l<c;++l){var g=f[l];if(void 0!==(p=h[g]))if(!o||g!=Ke.IMAGE&&g!=Ke.TEXT)p.replay(t,e,n,r);else{var y=o[d];y?y.push(p,e.slice(0)):o[d]=[p,e.slice(0)]}}}t.restore()},mn.BATCH_CONSTRUCTORS_={Circle:fn,Default:on,Image:sn,LineString:ln,Polygon:fn,Text:_n};var En=mn,Cn={defaultOrder:function(t,e){return r.a.getUid(t)-r.a.getUid(e)},getSquaredTolerance:function(t,e){var n=Cn.getTolerance(t,e);return n*n},getTolerance:function(t,e){return r.a.SIMPLIFY_TOLERANCE*t/e},renderCircleGeometry_:function(t,e,n,r){var i=n.getFill(),o=n.getStroke();if(i||o){var a=t.getReplay(n.getZIndex(),Ke.CIRCLE);a.setFillStrokeStyle(i,o),a.drawCircle(e,r)}var s=n.getText();if(s){var u=t.getReplay(n.getZIndex(),Ke.TEXT);u.setTextStyle(s,t.addDeclutter(!1)),u.drawText(e,r)}},renderFeature:function(t,e,n,r,i,o){var a,s,u=!1;return(a=n.getImage())&&((s=a.getImageState())==ce.a.LOADED||s==ce.a.ERROR?a.unlistenImageChange(i,o):(s==ce.a.IDLE&&a.load(),s=a.getImageState(),a.listenImageChange(i,o),u=!0)),Cn.renderFeature_(t,e,n,r),u},renderFeature_:function(t,e,n,r){var i=n.getGeometryFunction()(e);if(i){var o=i.getSimplifiedGeometry(r);if(n.getRenderer())Cn.renderGeometry_(t,o,n,e);else(0,Cn.GEOMETRY_RENDERERS_[o.getType()])(t,o,n,e)}},renderGeometry_:function(t,e,n,r){if(e.getType()!=Ee.a.GEOMETRY_COLLECTION)t.getReplay(n.getZIndex(),Ke.DEFAULT).drawCustom(e,r,n.getRenderer());else for(var i=e.getGeometries(),o=0,a=i.length;o<a;++o)Cn.renderGeometry_(t,i[o],n,r)},renderGeometryCollectionGeometry_:function(t,e,n,r){var i,o,a=e.getGeometriesArray();for(i=0,o=a.length;i<o;++i){(0,Cn.GEOMETRY_RENDERERS_[a[i].getType()])(t,a[i],n,r)}},renderLineStringGeometry_:function(t,e,n,r){var i=n.getStroke();if(i){var o=t.getReplay(n.getZIndex(),Ke.LINE_STRING);o.setFillStrokeStyle(null,i),o.drawLineString(e,r)}var a=n.getText();if(a){var s=t.getReplay(n.getZIndex(),Ke.TEXT);s.setTextStyle(a,t.addDeclutter(!1)),s.drawText(e,r)}},renderMultiLineStringGeometry_:function(t,e,n,r){var i=n.getStroke();if(i){var o=t.getReplay(n.getZIndex(),Ke.LINE_STRING);o.setFillStrokeStyle(null,i),o.drawMultiLineString(e,r)}var a=n.getText();if(a){var s=t.getReplay(n.getZIndex(),Ke.TEXT);s.setTextStyle(a,t.addDeclutter(!1)),s.drawText(e,r)}},renderMultiPolygonGeometry_:function(t,e,n,r){var i=n.getFill(),o=n.getStroke();if(o||i){var a=t.getReplay(n.getZIndex(),Ke.POLYGON);a.setFillStrokeStyle(i,o),a.drawMultiPolygon(e,r)}var s=n.getText();if(s){var u=t.getReplay(n.getZIndex(),Ke.TEXT);u.setTextStyle(s,t.addDeclutter(!1)),u.drawText(e,r)}},renderPointGeometry_:function(t,e,n,r){var i=n.getImage();if(i){if(i.getImageState()!=ce.a.LOADED)return;var o=t.getReplay(n.getZIndex(),Ke.IMAGE);o.setImageStyle(i,t.addDeclutter(!1)),o.drawPoint(e,r)}var a=n.getText();if(a){var s=t.getReplay(n.getZIndex(),Ke.TEXT);s.setTextStyle(a,t.addDeclutter(!!i)),s.drawText(e,r)}},renderMultiPointGeometry_:function(t,e,n,r){var i=n.getImage();if(i){if(i.getImageState()!=ce.a.LOADED)return;var o=t.getReplay(n.getZIndex(),Ke.IMAGE);o.setImageStyle(i,t.addDeclutter(!1)),o.drawMultiPoint(e,r)}var a=n.getText();if(a){var s=t.getReplay(n.getZIndex(),Ke.TEXT);s.setTextStyle(a,t.addDeclutter(!!i)),s.drawText(e,r)}},renderPolygonGeometry_:function(t,e,n,r){var i=n.getFill(),o=n.getStroke();if(i||o){var a=t.getReplay(n.getZIndex(),Ke.POLYGON);a.setFillStrokeStyle(i,o),a.drawPolygon(e,r)}var s=n.getText();if(s){var u=t.getReplay(n.getZIndex(),Ke.TEXT);u.setTextStyle(s,t.addDeclutter(!1)),u.drawText(e,r)}}};Cn.GEOMETRY_RENDERERS_={Point:Cn.renderPointGeometry_,LineString:Cn.renderLineStringGeometry_,Polygon:Cn.renderPolygonGeometry_,MultiPoint:Cn.renderMultiPointGeometry_,MultiLineString:Cn.renderMultiLineStringGeometry_,MultiPolygon:Cn.renderMultiPolygonGeometry_,GeometryCollection:Cn.renderGeometryCollectionGeometry_,Circle:Cn.renderCircleGeometry_};var bn=Cn,xn=function(t){Ae.call(this,t),this.declutterTree_=t.getDeclutter()?Xe()(9):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Z.a.createEmpty(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=q.a.createCanvasContext2D(),y.a.listen(_e.a.labelCache,p.a.CLEAR,this.handleFontsChanged_,this)};r.a.inherits(xn,Ae),xn.handles=function(t,e){return t===ot.CANVAS&&e.getType()===fe.a.VECTOR},xn.create=function(t,e){return new xn(e)},xn.prototype.disposeInternal=function(){y.a.unlisten(_e.a.labelCache,p.a.CLEAR,this.handleFontsChanged_,this),Ae.prototype.disposeInternal.call(this)},xn.prototype.composeFrame=function(t,e,n){var r=t.extent,i=t.pixelRatio,o=e.managed?t.skippedFeatureUids:{},a=t.viewState,s=a.projection,u=a.rotation,l=s.getExtent(),c=this.getLayer().getSource(),h=this.getTransform(t,0);this.preCompose(n,t,h);var p=e.extent,f=void 0!==p;f&&this.clip(n,t,p);var d=this.replayGroup_;if(d&&!d.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();var g,y=this.getLayer(),v=0,_=0,m=1!==e.opacity,E=y.hasListener(ve.a.RENDER);if(m||E){var C=n.canvas.width,b=n.canvas.height;if(u){var x=Math.round(Math.sqrt(C*C+b*b));v=(x-C)/2,_=(x-b)/2,C=b=x}this.context.canvas.width=C,this.context.canvas.height=b,g=this.context}else g=n;var T=g.globalAlpha;m||(g.globalAlpha=e.opacity),g!=n&&g.translate(v,_);var w=t.size[0]*i,R=t.size[1]*i;if(_e.a.rotateAtOffset(g,-u,w/2,R/2),d.replay(g,h,u,o),c.getWrapX()&&s.canWrapX()&&!Z.a.containsExtent(l,r)){for(var S,O=r[0],I=Z.a.getWidth(l),P=0;O<l[0];)S=I*--P,h=this.getTransform(t,S),d.replay(g,h,u,o),O+=I;for(P=0,O=r[2];O>l[2];)S=I*++P,h=this.getTransform(t,S),d.replay(g,h,u,o),O-=I;h=this.getTransform(t,0)}if(_e.a.rotateAtOffset(g,u,w/2,R/2),g!=n){if(E&&this.dispatchRenderEvent(g,t,h),m){var A=n.globalAlpha;n.globalAlpha=e.opacity,n.drawImage(g.canvas,-v,-_),n.globalAlpha=A}else n.drawImage(g.canvas,-v,-_);g.translate(-v,-_)}m||(g.globalAlpha=T)}f&&n.restore(),this.postCompose(n,t,e,h)},xn.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o){if(this.replayGroup_){var a=e.viewState.resolution,s=e.viewState.rotation,u=this.getLayer(),l={};return this.replayGroup_.forEachFeatureAtCoordinate(t,a,s,n,{},function(t){var e=r.a.getUid(t).toString();if(!(e in l))return l[e]=!0,i.call(o,t,u)},null)}},xn.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},xn.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},xn.prototype.prepareFrame=function(t,e){var n=this.getLayer(),r=n.getSource();this.updateLogos(t,r);var i=t.viewHints[K.a.ANIMATING],o=t.viewHints[K.a.INTERACTING],a=n.getUpdateWhileAnimating(),s=n.getUpdateWhileInteracting();if(!this.dirty_&&!a&&i||!s&&o)return!0;var u=t.extent,l=t.viewState,c=l.projection,h=l.resolution,p=t.pixelRatio,f=n.getRevision(),d=n.getRenderBuffer(),g=n.getRenderOrder();void 0===g&&(g=bn.defaultOrder);var y=Z.a.buffer(u,d*h),v=l.projection.getExtent();if(r.getWrapX()&&l.projection.canWrapX()&&!Z.a.containsExtent(v,t.extent)){var _=Z.a.getWidth(v),m=Math.max(Z.a.getWidth(y)/2,_);y[0]=v[0]-m,y[2]=v[2]+m}if(!this.dirty_&&this.renderedResolution_==h&&this.renderedRevision_==f&&this.renderedRenderOrder_==g&&Z.a.containsExtent(this.renderedExtent_,y))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var E=new En(bn.getTolerance(h,p),y,h,p,r.getOverlaps(),this.declutterTree_,n.getRenderBuffer());r.loadFeatures(y,h,c);var C=(function(t){var e,r=t.getStyleFunction();if(r?e=r.call(t,h):(r=n.getStyleFunction())&&(e=r(t,h)),e){var i=this.renderFeature(t,h,p,e,E);this.dirty_=this.dirty_||i}}).bind(this);if(g){var b=[];r.forEachFeatureInExtent(y,function(t){b.push(t)},this),b.sort(g);for(var x=0,T=b.length;x<T;++x)C(b[x])}else r.forEachFeatureInExtent(y,C,this);return E.finish(),this.renderedResolution_=h,this.renderedRevision_=f,this.renderedRenderOrder_=g,this.renderedExtent_=y,this.replayGroup_=E,this.replayGroupChanged=!0,!0},xn.prototype.renderFeature=function(t,e,n,r,i){if(!r)return!1;var o=!1;if(Array.isArray(r))for(var a=0,s=r.length;a<s;++a)o=bn.renderFeature(i,t,r[a],bn.getSquaredTolerance(e,n),this.handleStyleImageChange_,this)||o;else o=bn.renderFeature(i,t,r,bn.getSquaredTolerance(e,n),this.handleStyleImageChange_,this);return o};var Tn=xn,wn={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"},Rn=n("yGLh"),Sn=n("Ae3H"),On=function(t){this.context=null,He.call(this,t),this.declutterTree_=t.getDeclutter()?Xe()(9):null,this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=st.a.create(),this.zDirection=t.getRenderMode()==wn.VECTOR?1:0,y.a.listen(_e.a.labelCache,p.a.CLEAR,this.handleFontsChanged_,this)};r.a.inherits(On,He),On.handles=function(t,e){return t===ot.CANVAS&&e.getType()===fe.a.VECTOR_TILE},On.create=function(t,e){return new On(e)},On.IMAGE_REPLAYS={image:[Ke.POLYGON,Ke.CIRCLE,Ke.LINE_STRING,Ke.IMAGE,Ke.TEXT],hybrid:[Ke.POLYGON,Ke.LINE_STRING]},On.VECTOR_REPLAYS={image:[Ke.DEFAULT],hybrid:[Ke.IMAGE,Ke.TEXT,Ke.DEFAULT],vector:nn.ORDER},On.prototype.disposeInternal=function(){y.a.unlisten(_e.a.labelCache,p.a.CLEAR,this.handleFontsChanged_,this),He.prototype.disposeInternal.call(this)},On.prototype.prepareFrame=function(t,e){var n=this.getLayer(),r=n.getRevision();if(this.renderedLayerRevision_!=r){this.renderedTiles.length=0;var i=n.getRenderMode();this.context||i==wn.VECTOR||(this.context=q.a.createCanvasContext2D()),this.context&&i==wn.VECTOR&&(this.context=null)}return this.renderedLayerRevision_=r,He.prototype.prepareFrame.apply(this,arguments)},On.prototype.createReplayGroup_=function(t,e){var n=this.getLayer(),r=e.pixelRatio,i=e.viewState.projection,o=n.getRevision(),a=n.getRenderOrder()||null,s=t.getReplayState(n);if(s.dirty||s.renderedRevision!=o||s.renderedRenderOrder!=a){for(var u=n.getSource(),l=u.getTileGrid(),c=u.getTileGridForProjection(i),h=c.getResolution(t.tileCoord[0]),p=c.getTileCoordExtent(t.wrappedTileCoord),f={},d=0,g=t.tileKeys.length;d<g;++d){var y=t.getTile(t.tileKeys[d]);if(y.getState()!=G.a.ERROR){var v=y.tileCoord,_=l.getTileCoordExtent(v),m=Z.a.getIntersection(p,_),E=Z.a.equals(_,m)?null:Z.a.buffer(m,n.getRenderBuffer()*h),C=y.getProjection(),b=!1;Rn.default.equivalent(i,C)||(b=!0,y.setProjection(i)),s.dirty=!1;var x,T=new En(0,m,h,r,u.getOverlaps(),this.declutterTree_,n.getRenderBuffer()),w=bn.getSquaredTolerance(h,r),R=function(t){var e,r=t.getStyleFunction();if(r?e=r.call(t,h):(r=n.getStyleFunction())&&(e=r(t,h)),e){var i=this.renderFeature(t,w,e,T);this.dirty_=this.dirty_||i,s.dirty=s.dirty||i}},S=y.getFeatures();a&&a!==s.renderedRenderOrder&&S.sort(a);for(var O=0,I=S.length;O<I;++O)x=S[O],b&&(C.getUnits()==Sn.a.TILE_PIXELS&&(C.setWorldExtent(_),C.setExtent(y.getExtent())),x.getGeometry().transform(C,i)),E&&!Z.a.intersects(E,x.getGeometry().getExtent())||R.call(this,x);for(var P in T.finish(),T.getReplays())f[P]=!0;y.setReplayGroup(n,t.tileCoord.toString(),T)}}s.renderedRevision=o,s.renderedRenderOrder=a}},On.prototype.drawTileImage=function(t,e,n,r,i,o,a,s,u){var l=t;this.createReplayGroup_(l,e),this.context&&(this.renderTileImage_(l,e,n),He.prototype.drawTileImage.apply(this,arguments))},On.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o){var a=e.viewState.resolution,s=e.viewState.rotation;n=void 0==n?0:n;var u,l,c,h,p,f,d,g,y=this.getLayer(),v={},_=this.renderedTiles,m=y.getSource().getTileGridForProjection(e.viewState.projection);for(c=0,h=_.length;c<h;++c)if(d=(f=_[c]).wrappedTileCoord,g=m.getTileCoordExtent(d,this.tmpExtent),u=Z.a.buffer(g,n*a,u),Z.a.containsCoordinate(u,t))for(var E=0,C=f.tileKeys.length;E<C;++E){var b=f.getTile(f.tileKeys[E]);b.getState()!=G.a.ERROR&&(p=b.getReplayGroup(y,f.tileCoord.toString()),l=l||p.forEachFeatureAtCoordinate(t,a,s,n,{},function(t){var e=r.a.getUid(t).toString();if(!(e in v))return v[e]=!0,i.call(o,t,y)},null))}return l},On.prototype.getReplayTransform_=function(t,e){var n=this.getLayer().getSource().getTileGrid(),r=t.tileCoord,i=n.getResolution(r[0]),o=e.viewState,a=e.pixelRatio,s=o.resolution/a,u=n.getTileCoordExtent(r,this.tmpExtent),l=o.center,c=Z.a.getTopLeft(u),h=e.size,p=Math.round(a*h[0]/2),f=Math.round(a*h[1]/2);return st.a.compose(this.tmpTransform_,p,f,i/s,i/s,o.rotation,(c[0]-l[0])/i,(l[1]-c[1])/i)},On.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},On.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},On.prototype.postCompose=function(t,e,n){var r,i,o=this.getLayer(),a=o.getDeclutter()?{}:null,s=o.getSource(),u=o.getRenderMode(),l=On.VECTOR_REPLAYS[u],c=e.pixelRatio,h=e.viewState.rotation,p=e.size;h&&(r=Math.round(c*p[0]/2),i=Math.round(c*p[1]/2),_e.a.rotateAtOffset(t,-h,r,i)),a&&this.declutterTree_.clear();for(var f=this.renderedTiles,d=s.getTileGridForProjection(e.viewState.projection),g=[],y=[],v=f.length-1;v>=0;--v){var _=f[v];if(_.getState()!=G.a.ABORT)for(var m=_.tileCoord,E=d.getTileCoordExtent(m)[0]-d.getTileCoordExtent(_.wrappedTileCoord)[0],C=void 0,b=0,x=_.tileKeys.length;b<x;++b){var T=_.getTile(_.tileKeys[b]);if(T.getState()!=G.a.ERROR){var w=T.getReplayGroup(o,m.toString());if(u==wn.VECTOR||w.hasReplays(l)){C||(C=this.getTransform(e,E));var R=T.tileCoord[0],S=w.getClipCoords(C);t.save(),t.globalAlpha=n.opacity;for(var O=0,I=g.length;O<I;++O){var P=g[O];R<y[O]&&(t.beginPath(),t.moveTo(S[0],S[1]),t.lineTo(S[2],S[3]),t.lineTo(S[4],S[5]),t.lineTo(S[6],S[7]),t.moveTo(P[6],P[7]),t.lineTo(P[4],P[5]),t.lineTo(P[2],P[3]),t.lineTo(P[0],P[1]),t.clip())}w.replay(t,C,h,{},l,a),t.restore(),g.push(S),y.push(R)}}}}a&&En.replayDeclutter(a,t,h),h&&_e.a.rotateAtOffset(t,h,r,i),He.prototype.postCompose.apply(this,arguments)},On.prototype.renderFeature=function(t,e,n,r){if(!n)return!1;var i=!1;if(Array.isArray(n))for(var o=0,a=n.length;o<a;++o)i=bn.renderFeature(r,t,n[o],e,this.handleStyleImageChange_,this)||i;else i=bn.renderFeature(r,t,n,e,this.handleStyleImageChange_,this);return i},On.prototype.renderTileImage_=function(t,e,n){var r=this.getLayer(),i=t.getReplayState(r),o=r.getRevision(),a=On.IMAGE_REPLAYS[r.getRenderMode()];if(a&&i.renderedTileRevision!==o){i.renderedTileRevision=o;var s=t.wrappedTileCoord,u=s[0],l=e.pixelRatio,c=r.getSource(),h=c.getTileGridForProjection(e.viewState.projection),p=h.getResolution(u),f=t.getContext(r),d=c.getTilePixelSize(u,l,e.viewState.projection);f.canvas.width=d[0],f.canvas.height=d[1];for(var g=h.getTileCoordExtent(s),y=0,v=t.tileKeys.length;y<v;++y){var _=t.getTile(t.tileKeys[y]);if(_.getState()!=G.a.ERROR){var m=l/p,E=st.a.reset(this.tmpTransform_);st.a.scale(E,m,-m),st.a.translate(E,-g[0],-g[3]),_.getReplayGroup(r,t.tileCoord.toString()).replay(f,E,0,{},a)}}}};var In=On,Pn=n("JouG"),An=function(t){this.source_=t};An.prototype.getType=function(){},An.prototype.getSource=function(){return this.source_},An.prototype.isAnimated=J.a.FALSE;var Ln=An,Mn=function(t){Ln.call(this,t)};r.a.inherits(Mn,Ln),Mn.prototype.getType=function(){return Pn.a.FRAGMENT_SHADER};var Dn=Mn,Nn=function(t){Ln.call(this,t)};r.a.inherits(Nn,Ln),Nn.prototype.getType=function(){return Pn.a.VERTEX_SHADER};var Fn=Nn,kn={};kn.fragment=new Dn(r.a.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_fillColor;\nuniform vec4 u_strokeColor;\nuniform vec2 u_size;\n\nvoid main(void) {\n  vec2 windowCenter = vec2((v_center.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_center.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  vec2 windowOffset = vec2((v_offset.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_offset.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  float radius = length(windowCenter - windowOffset);\n  float dist = length(windowCenter - gl_FragCoord.xy);\n  if (dist > radius + v_halfWidth) {\n    if (u_strokeColor.a == 0.0) {\n      gl_FragColor = u_fillColor;\n    } else {\n      gl_FragColor = u_strokeColor;\n    }\n    gl_FragColor.a = gl_FragColor.a - (dist - (radius + v_halfWidth));\n  } else if (u_fillColor.a == 0.0) {\n    // Hooray, no fill, just stroke. We can use real antialiasing.\n    gl_FragColor = u_strokeColor;\n    if (dist < radius - v_halfWidth) {\n      gl_FragColor.a = gl_FragColor.a - (radius - v_halfWidth - dist);\n    }\n  } else {\n    gl_FragColor = u_fillColor;\n    float strokeDist = radius - v_halfWidth;\n    float antialias = 2.0 * v_pixelRatio;\n    if (dist > strokeDist) {\n      gl_FragColor = u_strokeColor;\n    } else if (dist >= strokeDist - antialias) {\n      float step = smoothstep(strokeDist - antialias, strokeDist, dist);\n      gl_FragColor = mix(u_fillColor, u_strokeColor, step);\n    }\n  }\n  gl_FragColor.a = gl_FragColor.a * u_opacity;\n  if (gl_FragColor.a <= 0.0) {\n    discard;\n  }\n}\n":"precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}"),kn.vertex=new Fn(r.a.DEBUG_WEBGL?"varying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\nattribute vec2 a_position;\nattribute float a_instruction;\nattribute float a_radius;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  v_center = vec4(u_projectionMatrix * vec4(a_position, 0.0, 1.0)).xy;\n  v_pixelRatio = u_pixelRatio;\n  float lineWidth = u_lineWidth * u_pixelRatio;\n  v_halfWidth = lineWidth / 2.0;\n  if (lineWidth == 0.0) {\n    lineWidth = 2.0 * u_pixelRatio;\n  }\n  vec2 offset;\n  // Radius with anitaliasing (roughly).\n  float radius = a_radius + 3.0 * u_pixelRatio;\n  // Until we get gl_VertexID in WebGL, we store an instruction.\n  if (a_instruction == 0.0) {\n    // Offsetting the edges of the triangle by lineWidth / 2 is necessary, however\n    // we should also leave some space for the antialiasing, thus we offset by lineWidth.\n    offset = vec2(-1.0, 1.0);\n  } else if (a_instruction == 1.0) {\n    offset = vec2(-1.0, -1.0);\n  } else if (a_instruction == 2.0) {\n    offset = vec2(1.0, -1.0);\n  } else {\n    offset = vec2(1.0, 1.0);\n  }\n\n  gl_Position = u_projectionMatrix * vec4(a_position + offset * radius, 0.0, 1.0) +\n      offsetMatrix * vec4(offset * lineWidth, 0.0, 0.0);\n  v_offset = vec4(u_projectionMatrix * vec4(a_position.x + a_radius, a_position.y,\n      0.0, 1.0)).xy;\n\n  if (distance(v_center, v_offset) > 20000.0) {\n    gl_Position = vec4(v_center, 0.0, 1.0);\n  }\n}\n\n\n":"varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;//Until we get gl_VertexID in WebGL,we store an instruction.if(f==0.0){//Offsetting the edges of the triangle by lineWidth/2 is necessary,however//we should also leave some space for the antialiasing,thus we offset by lineWidth.offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}");var jn=kn,Un=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_offsetRotateMatrix":"j"),this.u_lineWidth=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_lineWidth":"k"),this.u_pixelRatio=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_pixelRatio":"l"),this.u_opacity=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_opacity":"m"),this.u_fillColor=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_fillColor":"n"),this.u_strokeColor=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_strokeColor":"o"),this.u_size=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_size":"p"),this.a_position=t.getAttribLocation(e,r.a.DEBUG_WEBGL?"a_position":"e"),this.a_instruction=t.getAttribLocation(e,r.a.DEBUG_WEBGL?"a_instruction":"f"),this.a_radius=t.getAttribLocation(e,r.a.DEBUG_WEBGL?"a_radius":"g")},Gn={create:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},fromTransform:function(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}},Vn=Gn,Bn=function(t,e){Te.call(this),this.tolerance=t,this.maxExtent=e,this.origin=Z.a.getCenter(e),this.projectionMatrix_=st.a.create(),this.offsetRotateMatrix_=st.a.create(),this.offsetScaleMatrix_=st.a.create(),this.tmpMat4_=Vn.create(),this.indices=[],this.indicesBuffer=null,this.startIndices=[],this.startIndicesFeature=[],this.vertices=[],this.verticesBuffer=null,this.lineStringReplay=void 0};r.a.inherits(Bn,Te),Bn.prototype.getDeleteResourcesFunction=function(t){},Bn.prototype.finish=function(t){},Bn.prototype.setUpProgram=function(t,e,n,r){},Bn.prototype.shutDownProgram=function(t,e){},Bn.prototype.drawReplay=function(t,e,n,r){},Bn.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,r,i){},Bn.prototype.drawHitDetectionReplay=function(t,e,n,r,i,o){return i?this.drawHitDetectionReplayOneByOne(t,e,n,r,o):this.drawHitDetectionReplayAll(t,e,n,r)},Bn.prototype.drawHitDetectionReplayAll=function(t,e,n,r){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawReplay(t,e,n,!0);var i=r(null);return i||void 0},Bn.prototype.replay=function(t,e,n,r,i,o,a,s,u,l,c){var h,p,f,d,g,y,v,_,m=t.getGL();this.lineStringReplay&&(h=m.isEnabled(m.STENCIL_TEST),p=m.getParameter(m.STENCIL_FUNC),f=m.getParameter(m.STENCIL_VALUE_MASK),d=m.getParameter(m.STENCIL_REF),g=m.getParameter(m.STENCIL_WRITEMASK),y=m.getParameter(m.STENCIL_FAIL),v=m.getParameter(m.STENCIL_PASS_DEPTH_PASS),_=m.getParameter(m.STENCIL_PASS_DEPTH_FAIL),m.enable(m.STENCIL_TEST),m.clear(m.STENCIL_BUFFER_BIT),m.stencilMask(255),m.stencilFunc(m.ALWAYS,1,255),m.stencilOp(m.KEEP,m.KEEP,m.REPLACE),this.lineStringReplay.replay(t,e,n,r,i,o,a,s,u,l,c),m.stencilMask(0),m.stencilFunc(m.NOTEQUAL,1,255)),t.bindBuffer(Pn.a.ARRAY_BUFFER,this.verticesBuffer),t.bindBuffer(Pn.a.ELEMENT_ARRAY_BUFFER,this.indicesBuffer);var E=this.setUpProgram(m,t,i,o),C=st.a.reset(this.projectionMatrix_);st.a.scale(C,2/(n*i[0]),2/(n*i[1])),st.a.rotate(C,-r),st.a.translate(C,-(e[0]-this.origin[0]),-(e[1]-this.origin[1]));var b=st.a.reset(this.offsetScaleMatrix_);st.a.scale(b,2/i[0],2/i[1]);var x,T=st.a.reset(this.offsetRotateMatrix_);return 0!==r&&st.a.rotate(T,-r),m.uniformMatrix4fv(E.u_projectionMatrix,!1,Vn.fromTransform(this.tmpMat4_,C)),m.uniformMatrix4fv(E.u_offsetScaleMatrix,!1,Vn.fromTransform(this.tmpMat4_,b)),m.uniformMatrix4fv(E.u_offsetRotateMatrix,!1,Vn.fromTransform(this.tmpMat4_,T)),m.uniform1f(E.u_opacity,a),void 0===u?this.drawReplay(m,t,s,!1):x=this.drawHitDetectionReplay(m,t,s,u,l,c),this.shutDownProgram(m,E),this.lineStringReplay&&(h||m.disable(m.STENCIL_TEST),m.clear(m.STENCIL_BUFFER_BIT),m.stencilFunc(p,d,f),m.stencilMask(g),m.stencilOp(y,_,v)),x},Bn.prototype.drawElements=function(t,e,n,r){var i=e.hasOESElementIndexUint?Pn.a.UNSIGNED_INT:Pn.a.UNSIGNED_SHORT,o=r-n,a=n*(e.hasOESElementIndexUint?4:2);t.drawElements(Pn.a.TRIANGLES,o,i,a)};var Hn=Bn,Wn={defaultFont:"10px sans-serif",defaultFillStyle:[0,0,0,1],defaultLineCap:"round",defaultLineDash:[],defaultLineDashOffset:0,defaultLineJoin:"round",defaultMiterLimit:10,defaultStrokeStyle:[0,0,0,1],defaultTextAlign:.5,defaultTextBaseline:.5,defaultLineWidth:1,triangleIsCounterClockwise:function(t,e,n,r,i,o){var a=(n-t)*(o-e)-(i-t)*(r-e);return a<=Wn.EPSILON&&a>=-Wn.EPSILON?void 0:a>0}};Wn.EPSILON=Number.EPSILON||2.220446049250313e-16;var Xn=Wn,zn=function(t,e){this.arr_=void 0!==t?t:[],this.usage_=void 0!==e?e:zn.Usage_.STATIC_DRAW};zn.prototype.getArray=function(){return this.arr_},zn.prototype.getUsage=function(){return this.usage_},zn.Usage_={STATIC_DRAW:Pn.a.STATIC_DRAW,STREAM_DRAW:Pn.a.STREAM_DRAW,DYNAMIC_DRAW:Pn.a.DYNAMIC_DRAW};var Yn=zn,Kn=function(t,e){Hn.call(this,t,e),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.radius_=0,this.state_={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,changed:!1}};r.a.inherits(Kn,Hn),Kn.prototype.drawCoordinates_=function(t,e,n,r){var i,o,a=this.vertices.length,s=this.indices.length,u=a/4;for(i=e,o=n;i<o;i+=r)this.vertices[a++]=t[i],this.vertices[a++]=t[i+1],this.vertices[a++]=0,this.vertices[a++]=this.radius_,this.vertices[a++]=t[i],this.vertices[a++]=t[i+1],this.vertices[a++]=1,this.vertices[a++]=this.radius_,this.vertices[a++]=t[i],this.vertices[a++]=t[i+1],this.vertices[a++]=2,this.vertices[a++]=this.radius_,this.vertices[a++]=t[i],this.vertices[a++]=t[i+1],this.vertices[a++]=3,this.vertices[a++]=this.radius_,this.indices[s++]=u,this.indices[s++]=u+1,this.indices[s++]=u+2,this.indices[s++]=u+2,this.indices[s++]=u+3,this.indices[s++]=u,u+=4},Kn.prototype.drawCircle=function(t,e){var n=t.getRadius(),r=t.getStride();if(n){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.radius_=n;var i=t.getFlatCoordinates();i=be.a.translate(i,0,2,r,-this.origin[0],-this.origin[1]),this.drawCoordinates_(i,0,2,r)}else if(this.state_.changed&&(this.styles_.pop(),this.styles_.length)){var o=this.styles_[this.styles_.length-1];this.state_.fillColor=o[0],this.state_.strokeColor=o[1],this.state_.lineWidth=o[2],this.state_.changed=!1}},Kn.prototype.finish=function(t){this.verticesBuffer=new Yn(this.vertices),this.indicesBuffer=new Yn(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},Kn.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,n=this.indicesBuffer;return function(){t.deleteBuffer(e),t.deleteBuffer(n)}},Kn.prototype.setUpProgram=function(t,e,n,r){var i,o;i=jn.fragment,o=jn.vertex;var a,s=e.getProgram(i,o);return this.defaultLocations_?a=this.defaultLocations_:(a=new Un(t,s),this.defaultLocations_=a),e.useProgram(s),t.enableVertexAttribArray(a.a_position),t.vertexAttribPointer(a.a_position,2,Pn.a.FLOAT,!1,16,0),t.enableVertexAttribArray(a.a_instruction),t.vertexAttribPointer(a.a_instruction,1,Pn.a.FLOAT,!1,16,8),t.enableVertexAttribArray(a.a_radius),t.vertexAttribPointer(a.a_radius,1,Pn.a.FLOAT,!1,16,12),t.uniform2fv(a.u_size,n),t.uniform1f(a.u_pixelRatio,r),a},Kn.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_instruction),t.disableVertexAttribArray(e.a_radius)},Kn.prototype.drawReplay=function(t,e,n,r){var i,o,a,s;if(B.a.isEmpty(n))for(a=this.startIndices[this.startIndices.length-1],i=this.styleIndices_.length-1;i>=0;--i)o=this.styleIndices_[i],s=this.styles_[i],this.setFillStyle_(t,s[0]),this.setStrokeStyle_(t,s[1],s[2]),this.drawElements(t,e,o,a),a=o;else this.drawReplaySkipping_(t,e,n)},Kn.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,i,o){var a,s,u,l,c,h,p;for(p=this.startIndices.length-2,u=this.startIndices[p+1],a=this.styleIndices_.length-1;a>=0;--a)for(l=this.styles_[a],this.setFillStyle_(t,l[0]),this.setStrokeStyle_(t,l[1],l[2]),c=this.styleIndices_[a];p>=0&&this.startIndices[p]>=c;){if(s=this.startIndices[p],h=this.startIndicesFeature[p],void 0===n[r.a.getUid(h).toString()]&&h.getGeometry()&&(void 0===o||Z.a.intersects(o,h.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,s,u);var f=i(h);if(f)return f}p--,u=s}},Kn.prototype.drawReplaySkipping_=function(t,e,n){var i,o,a,s,u,l,c,h;for(c=this.startIndices.length-2,a=o=this.startIndices[c+1],i=this.styleIndices_.length-1;i>=0;--i){for(s=this.styles_[i],this.setFillStyle_(t,s[0]),this.setStrokeStyle_(t,s[1],s[2]),u=this.styleIndices_[i];c>=0&&this.startIndices[c]>=u;)h=this.startIndices[c],l=this.startIndicesFeature[c],n[r.a.getUid(l).toString()]&&(o!==a&&this.drawElements(t,e,o,a),a=h),c--,o=h;o!==a&&this.drawElements(t,e,o,a),o=a=u}},Kn.prototype.setFillStyle_=function(t,e){t.uniform4fv(this.defaultLocations_.u_fillColor,e)},Kn.prototype.setStrokeStyle_=function(t,e,n){t.uniform4fv(this.defaultLocations_.u_strokeColor,e),t.uniform1f(this.defaultLocations_.u_lineWidth,n)},Kn.prototype.setFillStrokeStyle=function(t,e){var n,r;if(e){var i=e.getLineDash();this.state_.lineDash=i||Xn.defaultLineDash;var o=e.getLineDashOffset();this.state_.lineDashOffset=o||Xn.defaultLineDashOffset,n=(n=e.getColor())instanceof CanvasGradient||n instanceof CanvasPattern?Xn.defaultStrokeStyle:cn.a.asArray(n).map(function(t,e){return 3!=e?t/255:t})||Xn.defaultStrokeStyle,r=void 0!==(r=e.getWidth())?r:Xn.defaultLineWidth}else n=[0,0,0,0],r=0;var a=t?t.getColor():[0,0,0,0];a=a instanceof CanvasGradient||a instanceof CanvasPattern?Xn.defaultFillStyle:cn.a.asArray(a).map(function(t,e){return 3!=e?t/255:t})||Xn.defaultFillStyle,this.state_.strokeColor&&I.a.equals(this.state_.strokeColor,n)&&this.state_.fillColor&&I.a.equals(this.state_.fillColor,a)&&this.state_.lineWidth===r||(this.state_.changed=!0,this.state_.fillColor=a,this.state_.strokeColor=n,this.state_.lineWidth=r,this.styles_.push([a,n,r]))};var qn=Kn,Zn={};Zn.fragment=new Dn(r.a.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\n\nuniform float u_opacity;\nuniform sampler2D u_image;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  float alpha = texColor.a * v_opacity * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),Zn.vertex=new Fn(r.a.DEBUG_WEBGL?"varying vec2 v_texCoord;\nvarying float v_opacity;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_offsets;\nattribute float a_opacity;\nattribute float a_rotateWithView;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix;\n  if (a_rotateWithView == 1.0) {\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  }\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0.0, 0.0);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  v_texCoord = a_texCoord;\n  v_opacity = a_opacity;\n}\n\n\n":"varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}");var Jn=Zn,Qn=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_offsetRotateMatrix":"j"),this.u_opacity=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_opacity":"k"),this.u_image=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_image":"l"),this.a_position=t.getAttribLocation(e,r.a.DEBUG_WEBGL?"a_position":"c"),this.a_texCoord=t.getAttribLocation(e,r.a.DEBUG_WEBGL?"a_texCoord":"d"),this.a_offsets=t.getAttribLocation(e,r.a.DEBUG_WEBGL?"a_offsets":"e"),this.a_opacity=t.getAttribLocation(e,r.a.DEBUG_WEBGL?"a_opacity":"f"),this.a_rotateWithView=t.getAttribLocation(e,r.a.DEBUG_WEBGL?"a_rotateWithView":"g")},$n={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"},tr=function(t,e){this.canvas_=t,this.gl_=e,this.bufferCache_={},this.shaderCache_={},this.programCache_={},this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null,this.hasOESElementIndexUint=I.a.includes(r.a.WEBGL_EXTENSIONS,"OES_element_index_uint"),this.hasOESElementIndexUint&&e.getExtension("OES_element_index_uint"),y.a.listen(this.canvas_,$n.LOST,this.handleWebGLContextLost,this),y.a.listen(this.canvas_,$n.RESTORED,this.handleWebGLContextRestored,this)};r.a.inherits(tr,Vt.a),tr.prototype.bindBuffer=function(t,e){var n=this.getGL(),i=e.getArray(),o=String(r.a.getUid(e));if(o in this.bufferCache_){var a=this.bufferCache_[o];n.bindBuffer(t,a.buffer)}else{var s,u=n.createBuffer();n.bindBuffer(t,u),t==Pn.a.ARRAY_BUFFER?s=new Float32Array(i):t==Pn.a.ELEMENT_ARRAY_BUFFER&&(s=this.hasOESElementIndexUint?new Uint32Array(i):new Uint16Array(i)),n.bufferData(t,s,e.getUsage()),this.bufferCache_[o]={buf:e,buffer:u}}},tr.prototype.deleteBuffer=function(t){var e=this.getGL(),n=String(r.a.getUid(t)),i=this.bufferCache_[n];e.isContextLost()||e.deleteBuffer(i.buffer),delete this.bufferCache_[n]},tr.prototype.disposeInternal=function(){y.a.unlistenAll(this.canvas_);var t=this.getGL();if(!t.isContextLost()){var e;for(e in this.bufferCache_)t.deleteBuffer(this.bufferCache_[e].buffer);for(e in this.programCache_)t.deleteProgram(this.programCache_[e]);for(e in this.shaderCache_)t.deleteShader(this.shaderCache_[e]);t.deleteFramebuffer(this.hitDetectionFramebuffer_),t.deleteRenderbuffer(this.hitDetectionRenderbuffer_),t.deleteTexture(this.hitDetectionTexture_)}},tr.prototype.getCanvas=function(){return this.canvas_},tr.prototype.getGL=function(){return this.gl_},tr.prototype.getHitDetectionFramebuffer=function(){return this.hitDetectionFramebuffer_||this.initHitDetectionFramebuffer_(),this.hitDetectionFramebuffer_},tr.prototype.getShader=function(t){var e=String(r.a.getUid(t));if(e in this.shaderCache_)return this.shaderCache_[e];var n=this.getGL(),i=n.createShader(t.getType());return n.shaderSource(i,t.getSource()),n.compileShader(i),this.shaderCache_[e]=i,i},tr.prototype.getProgram=function(t,e){var n=r.a.getUid(t)+"/"+r.a.getUid(e);if(n in this.programCache_)return this.programCache_[n];var i=this.getGL(),o=i.createProgram();return i.attachShader(o,this.getShader(t)),i.attachShader(o,this.getShader(e)),i.linkProgram(o),this.programCache_[n]=o,o},tr.prototype.handleWebGLContextLost=function(){B.a.clear(this.bufferCache_),B.a.clear(this.shaderCache_),B.a.clear(this.programCache_),this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null},tr.prototype.handleWebGLContextRestored=function(){},tr.prototype.initHitDetectionFramebuffer_=function(){var t=this.gl_,e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var n=tr.createEmptyTexture(t,1,1),r=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,r),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,1,1),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,r),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),this.hitDetectionFramebuffer_=e,this.hitDetectionTexture_=n,this.hitDetectionRenderbuffer_=r},tr.prototype.useProgram=function(t){return t!=this.currentProgram_&&(this.getGL().useProgram(t),this.currentProgram_=t,!0)},tr.createTexture_=function(t,e,n){var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),void 0!==e&&t.texParameteri(Pn.a.TEXTURE_2D,Pn.a.TEXTURE_WRAP_S,e),void 0!==n&&t.texParameteri(Pn.a.TEXTURE_2D,Pn.a.TEXTURE_WRAP_T,n),r},tr.createEmptyTexture=function(t,e,n,r,i){var o=tr.createTexture_(t,r,i);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,n,0,t.RGBA,t.UNSIGNED_BYTE,null),o},tr.createTexture=function(t,e,n,r){var i=tr.createTexture_(t,n,r);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),i};var er=tr,nr=function(t,e){Hn.call(this,t,e),this.anchorX=void 0,this.anchorY=void 0,this.groupIndices=[],this.hitDetectionGroupIndices=[],this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.defaultLocations=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.width=void 0};r.a.inherits(nr,Hn),nr.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,n=this.indicesBuffer,r=this.getTextures(!0),i=t.getGL();return function(){var o,a;if(!i.isContextLost())for(o=0,a=r.length;o<a;++o)i.deleteTexture(r[o]);t.deleteBuffer(e),t.deleteBuffer(n)}},nr.prototype.drawCoordinates=function(t,e,n,r){var i,o,a,s,u,l,c=this.anchorX,h=this.anchorY,p=this.height,f=this.imageHeight,d=this.imageWidth,g=this.opacity,y=this.originX,v=this.originY,_=this.rotateWithView?1:0,m=-this.rotation,E=this.scale,C=this.width,b=Math.cos(m),x=Math.sin(m),T=this.indices.length,w=this.vertices.length;for(i=e;i<n;i+=r)u=t[i]-this.origin[0],l=t[i+1]-this.origin[1],o=w/8,a=-E*c,s=-E*(p-h),this.vertices[w++]=u,this.vertices[w++]=l,this.vertices[w++]=a*b-s*x,this.vertices[w++]=a*x+s*b,this.vertices[w++]=y/d,this.vertices[w++]=(v+p)/f,this.vertices[w++]=g,this.vertices[w++]=_,a=E*(C-c),s=-E*(p-h),this.vertices[w++]=u,this.vertices[w++]=l,this.vertices[w++]=a*b-s*x,this.vertices[w++]=a*x+s*b,this.vertices[w++]=(y+C)/d,this.vertices[w++]=(v+p)/f,this.vertices[w++]=g,this.vertices[w++]=_,a=E*(C-c),s=E*h,this.vertices[w++]=u,this.vertices[w++]=l,this.vertices[w++]=a*b-s*x,this.vertices[w++]=a*x+s*b,this.vertices[w++]=(y+C)/d,this.vertices[w++]=v/f,this.vertices[w++]=g,this.vertices[w++]=_,a=-E*c,s=E*h,this.vertices[w++]=u,this.vertices[w++]=l,this.vertices[w++]=a*b-s*x,this.vertices[w++]=a*x+s*b,this.vertices[w++]=y/d,this.vertices[w++]=v/f,this.vertices[w++]=g,this.vertices[w++]=_,this.indices[T++]=o,this.indices[T++]=o+1,this.indices[T++]=o+2,this.indices[T++]=o,this.indices[T++]=o+2,this.indices[T++]=o+3;return w},nr.prototype.createTextures=function(t,e,n,i){var o,a,s,u,l=e.length;for(u=0;u<l;++u)a=e[u],(s=r.a.getUid(a).toString())in n?o=n[s]:(o=er.createTexture(i,a,Pn.a.CLAMP_TO_EDGE,Pn.a.CLAMP_TO_EDGE),n[s]=o),t[u]=o},nr.prototype.setUpProgram=function(t,e,n,r){var i,o=Jn.fragment,a=Jn.vertex,s=e.getProgram(o,a);return this.defaultLocations?i=this.defaultLocations:(i=new Qn(t,s),this.defaultLocations=i),e.useProgram(s),t.enableVertexAttribArray(i.a_position),t.vertexAttribPointer(i.a_position,2,Pn.a.FLOAT,!1,32,0),t.enableVertexAttribArray(i.a_offsets),t.vertexAttribPointer(i.a_offsets,2,Pn.a.FLOAT,!1,32,8),t.enableVertexAttribArray(i.a_texCoord),t.vertexAttribPointer(i.a_texCoord,2,Pn.a.FLOAT,!1,32,16),t.enableVertexAttribArray(i.a_opacity),t.vertexAttribPointer(i.a_opacity,1,Pn.a.FLOAT,!1,32,24),t.enableVertexAttribArray(i.a_rotateWithView),t.vertexAttribPointer(i.a_rotateWithView,1,Pn.a.FLOAT,!1,32,28),i},nr.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_offsets),t.disableVertexAttribArray(e.a_texCoord),t.disableVertexAttribArray(e.a_opacity),t.disableVertexAttribArray(e.a_rotateWithView)},nr.prototype.drawReplay=function(t,e,n,r){var i,o,a,s=r?this.getHitDetectionTextures():this.getTextures(),u=r?this.hitDetectionGroupIndices:this.groupIndices;if(B.a.isEmpty(n))for(i=0,o=s.length,a=0;i<o;++i){t.bindTexture(Pn.a.TEXTURE_2D,s[i]);var l=u[i];this.drawElements(t,e,a,l),a=l}else this.drawReplaySkipping(t,e,n,s,u)},nr.prototype.drawReplaySkipping=function(t,e,n,i,o){var a,s,u=0;for(a=0,s=i.length;a<s;++a){t.bindTexture(Pn.a.TEXTURE_2D,i[a]);for(var l=a>0?o[a-1]:0,c=o[a],h=l,p=l;u<this.startIndices.length&&this.startIndices[u]<=c;){var f=this.startIndicesFeature[u];void 0!==n[r.a.getUid(f).toString()]?(h!==p&&this.drawElements(t,e,h,p),p=h=u===this.startIndices.length-1?c:this.startIndices[u+1]):p=u===this.startIndices.length-1?c:this.startIndices[u+1],u++}h!==p&&this.drawElements(t,e,h,p)}},nr.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,i,o){var a,s,u,l,c,h=this.startIndices.length-1,p=this.getHitDetectionTextures();for(a=p.length-1;a>=0;--a)for(t.bindTexture(Pn.a.TEXTURE_2D,p[a]),s=a>0?this.hitDetectionGroupIndices[a-1]:0,l=this.hitDetectionGroupIndices[a];h>=0&&this.startIndices[h]>=s;){if(u=this.startIndices[h],c=this.startIndicesFeature[h],void 0===n[r.a.getUid(c).toString()]&&c.getGeometry()&&(void 0===o||Z.a.intersects(o,c.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,u,l);var f=i(c);if(f)return f}l=u,h--}},nr.prototype.finish=function(t){this.anchorX=void 0,this.anchorY=void 0,this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.indices=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.vertices=null,this.width=void 0},nr.prototype.getTextures=function(t){},nr.prototype.getHitDetectionTextures=function(){};var rr=nr,ir=function(t,e){rr.call(this,t,e),this.images_=[],this.hitDetectionImages_=[],this.textures_=[],this.hitDetectionTextures_=[]};r.a.inherits(ir,rr),ir.prototype.drawMultiPoint=function(t,e){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var n=t.getFlatCoordinates(),r=t.getStride();this.drawCoordinates(n,0,n.length,r)},ir.prototype.drawPoint=function(t,e){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var n=t.getFlatCoordinates(),r=t.getStride();this.drawCoordinates(n,0,n.length,r)},ir.prototype.finish=function(t){var e=t.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices.push(this.indices.length),this.verticesBuffer=new Yn(this.vertices);var n=this.indices;this.indicesBuffer=new Yn(n);var r={};this.createTextures(this.textures_,this.images_,r,e),this.createTextures(this.hitDetectionTextures_,this.hitDetectionImages_,r,e),this.images_=null,this.hitDetectionImages_=null,rr.prototype.finish.call(this,t)},ir.prototype.setImageStyle=function(t){var e,n=t.getAnchor(),i=t.getImage(1),o=t.getImageSize(),a=t.getHitDetectionImage(1),s=t.getOpacity(),u=t.getOrigin(),l=t.getRotateWithView(),c=t.getRotation(),h=t.getSize(),p=t.getScale();0===this.images_.length?this.images_.push(i):(e=this.images_[this.images_.length-1],r.a.getUid(e)!=r.a.getUid(i)&&(this.groupIndices.push(this.indices.length),this.images_.push(i))),0===this.hitDetectionImages_.length?this.hitDetectionImages_.push(a):(e=this.hitDetectionImages_[this.hitDetectionImages_.length-1],r.a.getUid(e)!=r.a.getUid(a)&&(this.hitDetectionGroupIndices.push(this.indices.length),this.hitDetectionImages_.push(a))),this.anchorX=n[0],this.anchorY=n[1],this.height=h[1],this.imageHeight=o[1],this.imageWidth=o[0],this.opacity=s,this.originX=u[0],this.originY=u[1],this.rotation=c,this.rotateWithView=l,this.scale=p,this.width=h[0]},ir.prototype.getTextures=function(t){return t?this.textures_.concat(this.hitDetectionTextures_):this.textures_},ir.prototype.getHitDetectionTextures=function(){return this.hitDetectionTextures_};var or=ir,ar=n("piqq"),sr=n("+b92"),ur={lineStringIsClosed:function(t,e,n,r){var i=n-r;return t[e]===t[i]&&t[e+1]===t[i+1]&&(n-e)/r>3&&!!sr.a.linearRing(t,e,n,r)}},lr=ur,cr={};cr.fragment=new Dn(r.a.DEBUG_WEBGL?"precision mediump float;\nvarying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_color;\nuniform vec2 u_size;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  if (v_round > 0.0) {\n    vec2 windowCoords = vec2((v_roundVertex.x + 1.0) / 2.0 * u_size.x * u_pixelRatio,\n        (v_roundVertex.y + 1.0) / 2.0 * u_size.y * u_pixelRatio);\n    if (length(windowCoords - gl_FragCoord.xy) > v_halfWidth * u_pixelRatio) {\n      discard;\n    }\n  }\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying float a;varying vec2 aVertex;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((aVertex.x+1.0)/2.0*o.x*p,(aVertex.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),cr.vertex=new Fn(r.a.DEBUG_WEBGL?"varying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\nattribute vec2 a_lastPos;\nattribute vec2 a_position;\nattribute vec2 a_nextPos;\nattribute float a_direction;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_miterLimit;\n\nbool nearlyEquals(in float value, in float ref) {\n  float epsilon = 0.000000000001;\n  return value >= ref - epsilon && value <= ref + epsilon;\n}\n\nvoid alongNormal(out vec2 offset, in vec2 nextP, in float turnDir, in float direction) {\n  vec2 dirVect = nextP - a_position;\n  vec2 normal = normalize(vec2(-turnDir * dirVect.y, turnDir * dirVect.x));\n  offset = u_lineWidth / 2.0 * normal * direction;\n}\n\nvoid miterUp(out vec2 offset, out float round, in bool isRound, in float direction) {\n  float halfWidth = u_lineWidth / 2.0;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_nextPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n  offset = normal * direction * miterLength;\n  round = 0.0;\n  if (isRound) {\n    round = 1.0;\n  } else if (miterLength > u_miterLimit + u_lineWidth) {\n    offset = halfWidth * tmpNormal * direction;\n  }\n}\n\nbool miterDown(out vec2 offset, in vec4 projPos, in mat4 offsetMatrix, in float direction) {\n  bool degenerate = false;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_lastPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  vec2 longOffset, shortOffset, longVertex;\n  vec4 shortProjVertex;\n  float halfWidth = u_lineWidth / 2.0;\n  if (length(a_nextPos - a_position) > length(a_lastPos - a_position)) {\n    longOffset = tmpNormal * direction * halfWidth;\n    shortOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_nextPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_lastPos, 0.0, 1.0);\n  } else {\n    shortOffset = tmpNormal * direction * halfWidth;\n    longOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_lastPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_nextPos, 0.0, 1.0);\n  }\n  //Intersection algorithm based on theory by Paul Bourke (http://paulbourke.net/geometry/pointlineplane/).\n  vec4 p1 = u_projectionMatrix * vec4(longVertex, 0.0, 1.0) + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p2 = projPos + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p3 = shortProjVertex + offsetMatrix * vec4(-shortOffset, 0.0, 0.0);\n  vec4 p4 = shortProjVertex + offsetMatrix * vec4(shortOffset, 0.0, 0.0);\n  float denom = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);\n  float firstU = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denom;\n  float secondU = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denom;\n  float epsilon = 0.000000000001;\n  if (firstU > epsilon && firstU < 1.0 - epsilon && secondU > epsilon && secondU < 1.0 - epsilon) {\n    shortProjVertex.x = p1.x + firstU * (p2.x - p1.x);\n    shortProjVertex.y = p1.y + firstU * (p2.y - p1.y);\n    offset = shortProjVertex.xy;\n    degenerate = true;\n  } else {\n    float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n    offset = normal * direction * miterLength;\n  }\n  return degenerate;\n}\n\nvoid squareCap(out vec2 offset, out float round, in bool isRound, in vec2 nextP,\n    in float turnDir, in float direction) {\n  round = 0.0;\n  vec2 dirVect = a_position - nextP;\n  vec2 firstNormal = normalize(dirVect);\n  vec2 secondNormal = vec2(turnDir * firstNormal.y * direction, -turnDir * firstNormal.x * direction);\n  vec2 hypotenuse = normalize(firstNormal - secondNormal);\n  vec2 normal = vec2(turnDir * hypotenuse.y * direction, -turnDir * hypotenuse.x * direction);\n  float length = sqrt(v_halfWidth * v_halfWidth * 2.0);\n  offset = normal * length;\n  if (isRound) {\n    round = 1.0;\n  }\n}\n\nvoid main(void) {\n  bool degenerate = false;\n  float direction = float(sign(a_direction));\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  vec2 offset;\n  vec4 projPos = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n  bool round = nearlyEquals(mod(a_direction, 2.0), 0.0);\n\n  v_round = 0.0;\n  v_halfWidth = u_lineWidth / 2.0;\n  v_roundVertex = projPos.xy;\n\n  if (nearlyEquals(mod(a_direction, 3.0), 0.0) || nearlyEquals(mod(a_direction, 17.0), 0.0)) {\n    alongNormal(offset, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 5.0), 0.0) || nearlyEquals(mod(a_direction, 13.0), 0.0)) {\n    alongNormal(offset, a_lastPos, -1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 23.0), 0.0)) {\n    miterUp(offset, v_round, round, direction);\n  } else if (nearlyEquals(mod(a_direction, 19.0), 0.0)) {\n    degenerate = miterDown(offset, projPos, offsetMatrix, direction);\n  } else if (nearlyEquals(mod(a_direction, 7.0), 0.0)) {\n    squareCap(offset, v_round, round, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 11.0), 0.0)) {\n    squareCap(offset, v_round, round, a_lastPos, -1.0, direction);\n  }\n  if (!degenerate) {\n    vec4 offsets = offsetMatrix * vec4(offset, 0.0, 0.0);\n    gl_Position = projPos + offsets;\n  } else {\n    gl_Position = vec4(offset, 0.0, 1.0);\n  }\n}\n\n\n":"varying float a;varying vec2 aVertex;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;aVertex=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}");var hr=cr,pr=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_offsetRotateMatrix":"j"),this.u_lineWidth=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_lineWidth":"k"),this.u_miterLimit=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_miterLimit":"l"),this.u_opacity=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_opacity":"m"),this.u_color=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_color":"n"),this.u_size=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_size":"o"),this.u_pixelRatio=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_pixelRatio":"p"),this.a_lastPos=t.getAttribLocation(e,r.a.DEBUG_WEBGL?"a_lastPos":"d"),this.a_position=t.getAttribLocation(e,r.a.DEBUG_WEBGL?"a_position":"e"),this.a_nextPos=t.getAttribLocation(e,r.a.DEBUG_WEBGL?"a_nextPos":"f"),this.a_direction=t.getAttribLocation(e,r.a.DEBUG_WEBGL?"a_direction":"g")},fr=function(t,e){Hn.call(this,t,e),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,changed:!1}};r.a.inherits(fr,Hn),fr.prototype.drawCoordinates_=function(t,e,n,r){var i,o,a,s,u,l,c,h,p=this.vertices.length,f=this.indices.length,d="bevel"===this.state_.lineJoin?0:"miter"===this.state_.lineJoin?1:2,g="butt"===this.state_.lineCap?0:"square"===this.state_.lineCap?1:2,y=lr.lineStringIsClosed(t,e,n,r),v=f,_=1;for(i=e,o=n;i<o;i+=r){if(u=p/7,l=c,c=h||[t[i],t[i+1]],i===e){if(h=[t[i+r],t[i+r+1]],n-e==2*r&&I.a.equals(c,h))break;if(!y){g&&(p=this.addVertices_([0,0],c,h,_*fr.Instruction_.BEGIN_LINE_CAP*g,p),p=this.addVertices_([0,0],c,h,-_*fr.Instruction_.BEGIN_LINE_CAP*g,p),this.indices[f++]=u+2,this.indices[f++]=u,this.indices[f++]=u+1,this.indices[f++]=u+1,this.indices[f++]=u+3,this.indices[f++]=u+2),p=this.addVertices_([0,0],c,h,_*fr.Instruction_.BEGIN_LINE*(g||1),p),v=(p=this.addVertices_([0,0],c,h,-_*fr.Instruction_.BEGIN_LINE*(g||1),p))/7-1;continue}l=[t[n-2*r],t[n-2*r+1]],a=h}else{if(i===n-r){if(y){h=a;break}l=l||[0,0],p=this.addVertices_(l,c,[0,0],_*fr.Instruction_.END_LINE*(g||1),p),p=this.addVertices_(l,c,[0,0],-_*fr.Instruction_.END_LINE*(g||1),p),this.indices[f++]=u,this.indices[f++]=v-1,this.indices[f++]=v,this.indices[f++]=v,this.indices[f++]=u+1,this.indices[f++]=u,g&&(p=this.addVertices_(l,c,[0,0],_*fr.Instruction_.END_LINE_CAP*g,p),p=this.addVertices_(l,c,[0,0],-_*fr.Instruction_.END_LINE_CAP*g,p),this.indices[f++]=u+2,this.indices[f++]=u,this.indices[f++]=u+1,this.indices[f++]=u+1,this.indices[f++]=u+3,this.indices[f++]=u+2);break}h=[t[i+r],t[i+r+1]]}s=Xn.triangleIsCounterClockwise(l[0],l[1],c[0],c[1],h[0],h[1])?-1:1,p=this.addVertices_(l,c,h,s*fr.Instruction_.BEVEL_FIRST*(d||1),p),p=this.addVertices_(l,c,h,s*fr.Instruction_.BEVEL_SECOND*(d||1),p),p=this.addVertices_(l,c,h,-s*fr.Instruction_.MITER_BOTTOM*(d||1),p),i>e&&(this.indices[f++]=u,this.indices[f++]=v-1,this.indices[f++]=v,this.indices[f++]=u+2,this.indices[f++]=u,this.indices[f++]=_*s>0?v:v-1),this.indices[f++]=u,this.indices[f++]=u+2,this.indices[f++]=u+1,v=u+2,_=s,d&&(p=this.addVertices_(l,c,h,s*fr.Instruction_.MITER_TOP*d,p),this.indices[f++]=u+1,this.indices[f++]=u+3,this.indices[f++]=u)}y&&(u=u||p/7,s=ar.a.linearRingIsClockwise([l[0],l[1],c[0],c[1],h[0],h[1]],0,6,2)?1:-1,p=this.addVertices_(l,c,h,s*fr.Instruction_.BEVEL_FIRST*(d||1),p),p=this.addVertices_(l,c,h,-s*fr.Instruction_.MITER_BOTTOM*(d||1),p),this.indices[f++]=u,this.indices[f++]=v-1,this.indices[f++]=v,this.indices[f++]=u+1,this.indices[f++]=u,this.indices[f++]=_*s>0?v:v-1)},fr.prototype.addVertices_=function(t,e,n,r,i){return this.vertices[i++]=t[0],this.vertices[i++]=t[1],this.vertices[i++]=e[0],this.vertices[i++]=e[1],this.vertices[i++]=n[0],this.vertices[i++]=n[1],this.vertices[i++]=r,i},fr.prototype.isValid_=function(t,e,n,r){var i=n-e;if(i<2*r)return!1;if(i===2*r){var o=[t[e],t[e+1]],a=[t[e+r],t[e+r+1]];return!I.a.equals(o,a)}return!0},fr.prototype.drawLineString=function(t,e){var n=t.getFlatCoordinates(),r=t.getStride();this.isValid_(n,0,n.length,r)&&(n=be.a.translate(n,0,n.length,r,-this.origin[0],-this.origin[1]),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.drawCoordinates_(n,0,n.length,r))},fr.prototype.drawMultiLineString=function(t,e){var n=this.indices.length,r=t.getEnds();r.unshift(0);var i,o,a=t.getFlatCoordinates(),s=t.getStride();if(r.length>1)for(i=1,o=r.length;i<o;++i)if(this.isValid_(a,r[i-1],r[i],s)){var u=be.a.translate(a,r[i-1],r[i],s,-this.origin[0],-this.origin[1]);this.drawCoordinates_(u,0,u.length,s)}this.indices.length>n&&(this.startIndices.push(n),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(n),this.state_.changed=!1))},fr.prototype.drawPolygonCoordinates=function(t,e,n){var r,i;if(lr.lineStringIsClosed(t,0,t.length,n)||(t.push(t[0]),t.push(t[1])),this.drawCoordinates_(t,0,t.length,n),e.length)for(r=0,i=e.length;r<i;++r)lr.lineStringIsClosed(e[r],0,e[r].length,n)||(e[r].push(e[r][0]),e[r].push(e[r][1])),this.drawCoordinates_(e[r],0,e[r].length,n)},fr.prototype.setPolygonStyle=function(t,e){var n=void 0===e?this.indices.length:e;this.startIndices.push(n),this.startIndicesFeature.push(t),this.state_.changed&&(this.styleIndices_.push(n),this.state_.changed=!1)},fr.prototype.getCurrentIndex=function(){return this.indices.length},fr.prototype.finish=function(t){this.verticesBuffer=new Yn(this.vertices),this.indicesBuffer=new Yn(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},fr.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,n=this.indicesBuffer;return function(){t.deleteBuffer(e),t.deleteBuffer(n)}},fr.prototype.setUpProgram=function(t,e,n,r){var i,o;i=hr.fragment,o=hr.vertex;var a,s=e.getProgram(i,o);return this.defaultLocations_?a=this.defaultLocations_:(a=new pr(t,s),this.defaultLocations_=a),e.useProgram(s),t.enableVertexAttribArray(a.a_lastPos),t.vertexAttribPointer(a.a_lastPos,2,Pn.a.FLOAT,!1,28,0),t.enableVertexAttribArray(a.a_position),t.vertexAttribPointer(a.a_position,2,Pn.a.FLOAT,!1,28,8),t.enableVertexAttribArray(a.a_nextPos),t.vertexAttribPointer(a.a_nextPos,2,Pn.a.FLOAT,!1,28,16),t.enableVertexAttribArray(a.a_direction),t.vertexAttribPointer(a.a_direction,1,Pn.a.FLOAT,!1,28,24),t.uniform2fv(a.u_size,n),t.uniform1f(a.u_pixelRatio,r),a},fr.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_lastPos),t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_nextPos),t.disableVertexAttribArray(e.a_direction)},fr.prototype.drawReplay=function(t,e,n,r){var i,o,a,s,u=t.getParameter(t.DEPTH_FUNC),l=t.getParameter(t.DEPTH_WRITEMASK);if(r||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),B.a.isEmpty(n))for(a=this.startIndices[this.startIndices.length-1],i=this.styleIndices_.length-1;i>=0;--i)o=this.styleIndices_[i],s=this.styles_[i],this.setStrokeStyle_(t,s[0],s[1],s[2]),this.drawElements(t,e,o,a),t.clear(t.DEPTH_BUFFER_BIT),a=o;else this.drawReplaySkipping_(t,e,n);r||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(l),t.depthFunc(u))},fr.prototype.drawReplaySkipping_=function(t,e,n){var i,o,a,s,u,l,c,h;for(c=this.startIndices.length-2,a=o=this.startIndices[c+1],i=this.styleIndices_.length-1;i>=0;--i){for(s=this.styles_[i],this.setStrokeStyle_(t,s[0],s[1],s[2]),u=this.styleIndices_[i];c>=0&&this.startIndices[c]>=u;)h=this.startIndices[c],l=this.startIndicesFeature[c],n[r.a.getUid(l).toString()]&&(o!==a&&(this.drawElements(t,e,o,a),t.clear(t.DEPTH_BUFFER_BIT)),a=h),c--,o=h;o!==a&&(this.drawElements(t,e,o,a),t.clear(t.DEPTH_BUFFER_BIT)),o=a=u}},fr.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,i,o){var a,s,u,l,c,h,p;for(p=this.startIndices.length-2,u=this.startIndices[p+1],a=this.styleIndices_.length-1;a>=0;--a)for(l=this.styles_[a],this.setStrokeStyle_(t,l[0],l[1],l[2]),c=this.styleIndices_[a];p>=0&&this.startIndices[p]>=c;){if(s=this.startIndices[p],h=this.startIndicesFeature[p],void 0===n[r.a.getUid(h).toString()]&&h.getGeometry()&&(void 0===o||Z.a.intersects(o,h.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,s,u);var f=i(h);if(f)return f}p--,u=s}},fr.prototype.setStrokeStyle_=function(t,e,n,r){t.uniform4fv(this.defaultLocations_.u_color,e),t.uniform1f(this.defaultLocations_.u_lineWidth,n),t.uniform1f(this.defaultLocations_.u_miterLimit,r)},fr.prototype.setFillStrokeStyle=function(t,e){var n=e.getLineCap();this.state_.lineCap=void 0!==n?n:Xn.defaultLineCap;var r=e.getLineDash();this.state_.lineDash=r||Xn.defaultLineDash;var i=e.getLineDashOffset();this.state_.lineDashOffset=i||Xn.defaultLineDashOffset;var o=e.getLineJoin();this.state_.lineJoin=void 0!==o?o:Xn.defaultLineJoin;var a=e.getColor();a=a instanceof CanvasGradient||a instanceof CanvasPattern?Xn.defaultStrokeStyle:cn.a.asArray(a).map(function(t,e){return 3!=e?t/255:t})||Xn.defaultStrokeStyle;var s=e.getWidth();s=void 0!==s?s:Xn.defaultLineWidth;var u=e.getMiterLimit();u=void 0!==u?u:Xn.defaultMiterLimit,this.state_.strokeColor&&I.a.equals(this.state_.strokeColor,a)&&this.state_.lineWidth===s&&this.state_.miterLimit===u||(this.state_.changed=!0,this.state_.strokeColor=a,this.state_.lineWidth=s,this.state_.miterLimit=u,this.styles_.push([a,s,u]))},fr.Instruction_={ROUND:2,BEGIN_LINE:3,END_LINE:5,BEGIN_LINE_CAP:7,END_LINE_CAP:11,BEVEL_FIRST:13,BEVEL_SECOND:17,MITER_BOTTOM:19,MITER_TOP:23};var dr=fr,gr=n("ZXW8"),yr={};yr.fragment=new Dn(r.a.DEBUG_WEBGL?"precision mediump float;\n\n\n\nuniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main(void) {\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),yr.vertex=new Fn(r.a.DEBUG_WEBGL?"\n\nattribute vec2 a_position;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n}\n\n\n":"attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}");var vr=yr,_r=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_projectionMatrix":"b"),this.u_offsetScaleMatrix=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_offsetScaleMatrix":"c"),this.u_offsetRotateMatrix=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_offsetRotateMatrix":"d"),this.u_color=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_color":"e"),this.u_opacity=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_opacity":"f"),this.a_position=t.getAttribLocation(e,r.a.DEBUG_WEBGL?"a_position":"a")},mr=n("lY9i"),Er=function(t){this.first_=void 0,this.last_=void 0,this.head_=void 0,this.circular_=void 0===t||t,this.length_=0};Er.prototype.insertItem=function(t){var e={prev:void 0,next:void 0,data:t},n=this.head_;if(n){var r=n.next;e.prev=n,e.next=r,n.next=e,r&&(r.prev=e),n===this.last_&&(this.last_=e)}else this.first_=e,this.last_=e,this.circular_&&(e.next=e,e.prev=e);this.head_=e,this.length_++},Er.prototype.removeItem=function(){var t=this.head_;if(t){var e=t.next,n=t.prev;e&&(e.prev=n),n&&(n.next=e),this.head_=e||n,this.first_===this.last_?(this.head_=void 0,this.first_=void 0,this.last_=void 0):this.first_===t?this.first_=this.head_:this.last_===t&&(this.last_=n?this.head_.prev:this.head_),this.length_--}},Er.prototype.firstItem=function(){if(this.head_=this.first_,this.head_)return this.head_.data},Er.prototype.lastItem=function(){if(this.head_=this.last_,this.head_)return this.head_.data},Er.prototype.nextItem=function(){if(this.head_&&this.head_.next)return this.head_=this.head_.next,this.head_.data},Er.prototype.getNextItem=function(){if(this.head_&&this.head_.next)return this.head_.next.data},Er.prototype.prevItem=function(){if(this.head_&&this.head_.prev)return this.head_=this.head_.prev,this.head_.data},Er.prototype.getPrevItem=function(){if(this.head_&&this.head_.prev)return this.head_.prev.data},Er.prototype.getCurrItem=function(){if(this.head_)return this.head_.data},Er.prototype.setFirstItem=function(){this.circular_&&this.head_&&(this.first_=this.head_,this.last_=this.head_.prev)},Er.prototype.concat=function(t){if(t.head_){if(this.head_){var e=this.head_.next;this.head_.next=t.first_,t.first_.prev=this.head_,e.prev=t.last_,t.last_.next=e,this.length_+=t.length_}else this.head_=t.head_,this.first_=t.first_,this.last_=t.last_,this.length_=t.length_;t.head_=void 0,t.first_=void 0,t.last_=void 0,t.length_=0}},Er.prototype.getLength=function(){return this.length_};var Cr=Er,br=n("6NQJ"),xr=function(t,e){Hn.call(this,t,e),this.lineStringReplay=new dr(t,e),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={fillColor:null,changed:!1}};r.a.inherits(xr,Hn),xr.prototype.drawCoordinates_=function(t,e,n){var r=new Cr,i=new br.a;this.processFlatCoordinates_(t,n,r,i,!0);var o=this.getMaxCoords_(r);if(e.length){var a,s,u=[];for(a=0,s=e.length;a<s;++a){var l={list:new Cr,maxCoords:void 0,rtree:new br.a};u.push(l),this.processFlatCoordinates_(e[a],n,l.list,l.rtree,!1),this.classifyPoints_(l.list,l.rtree,!0),l.maxCoords=this.getMaxCoords_(l.list)}for(u.sort(function(t,e){return e.maxCoords[0]===t.maxCoords[0]?t.maxCoords[1]-e.maxCoords[1]:e.maxCoords[0]-t.maxCoords[0]}),a=0;a<u.length;++a){var c,h=u[a].list,p=h.firstItem(),f=p;do{if(this.getIntersections_(f,i).length){c=!0;break}f=h.nextItem()}while(p!==f);c||this.bridgeHole_(h,u[a].maxCoords[0],r,o[0],i)&&(i.concat(u[a].rtree),this.classifyPoints_(r,i,!1))}}else this.classifyPoints_(r,i,!1);this.triangulate_(r,i)},xr.prototype.processFlatCoordinates_=function(t,e,n,r,i){var o,a,s,u,l,c=ar.a.linearRingIsClockwise(t,0,t.length,e),h=this.vertices.length/2,p=[],f=[];if(i===c){for(u=s=this.createPoint_(t[0],t[1],h++),o=e,a=t.length;o<a;o+=e)l=this.createPoint_(t[o],t[o+1],h++),f.push(this.insertItem_(u,l,n)),p.push([Math.min(u.x,l.x),Math.min(u.y,l.y),Math.max(u.x,l.x),Math.max(u.y,l.y)]),u=l;f.push(this.insertItem_(l,s,n)),p.push([Math.min(u.x,l.x),Math.min(u.y,l.y),Math.max(u.x,l.x),Math.max(u.y,l.y)])}else{var d=t.length-e;for(u=s=this.createPoint_(t[d],t[d+1],h++),o=d-e,a=0;o>=a;o-=e)l=this.createPoint_(t[o],t[o+1],h++),f.push(this.insertItem_(u,l,n)),p.push([Math.min(u.x,l.x),Math.min(u.y,l.y),Math.max(u.x,l.x),Math.max(u.y,l.y)]),u=l;f.push(this.insertItem_(l,s,n)),p.push([Math.min(u.x,l.x),Math.min(u.y,l.y),Math.max(u.x,l.x),Math.max(u.y,l.y)])}r.load(p,f)},xr.prototype.getMaxCoords_=function(t){var e=t.firstItem(),n=e,r=[n.p0.x,n.p0.y];do{(n=t.nextItem()).p0.x>r[0]&&(r=[n.p0.x,n.p0.y])}while(n!==e);return r},xr.prototype.classifyPoints_=function(t,e,n){var r=t.firstItem(),i=r,o=t.nextItem(),a=!1;do{var s=n?Xn.triangleIsCounterClockwise(o.p1.x,o.p1.y,i.p1.x,i.p1.y,i.p0.x,i.p0.y):Xn.triangleIsCounterClockwise(i.p0.x,i.p0.y,i.p1.x,i.p1.y,o.p1.x,o.p1.y);void 0===s?(this.removeItem_(i,o,t,e),a=!0,o===r&&(r=t.getNextItem()),o=i,t.prevItem()):i.p1.reflex!==s&&(i.p1.reflex=s,a=!0),i=o,o=t.nextItem()}while(i!==r);return a},xr.prototype.bridgeHole_=function(t,e,n,r,i){for(var o=t.firstItem();o.p1.x!==e;)o=t.nextItem();var a,s,u,l,c=o.p1,h={x:r,y:c.y,i:-1},p=1/0,f=this.getIntersections_({p0:c,p1:h},i,!0);for(a=0,s=f.length;a<s;++a){var d=f[a],g=this.calculateIntersection_(c,h,d.p0,d.p1,!0),y=Math.abs(c.x-g[0]);y<p&&void 0!==Xn.triangleIsCounterClockwise(c.x,c.y,d.p0.x,d.p0.y,d.p1.x,d.p1.y)&&(p=y,l={x:g[0],y:g[1],i:-1},o=d)}if(p===1/0)return!1;if(u=o.p1,p>0){var v=this.getPointsInTriangle_(c,l,o.p1,i);if(v.length){var _=1/0;for(a=0,s=v.length;a<s;++a){var m=v[a],E=Math.atan2(c.y-m.y,h.x-m.x);(E<_||E===_&&m.x<u.x)&&(_=E,u=m)}}}for(o=n.firstItem();o.p1.x!==u.x||o.p1.y!==u.y;)o=n.nextItem();var C={x:c.x,y:c.y,i:c.i,reflex:void 0},b={x:o.p1.x,y:o.p1.y,i:o.p1.i,reflex:void 0};return t.getNextItem().p0=C,this.insertItem_(c,o.p1,t,i),this.insertItem_(b,C,t,i),o.p1=b,t.setFirstItem(),n.concat(t),!0},xr.prototype.triangulate_=function(t,e){for(var n=!1,r=this.isSimple_(t,e);t.getLength()>3;)if(r){if(!this.clipEars_(t,e,r,n)&&!this.classifyPoints_(t,e,n)&&!this.resolveSelfIntersections_(t,e,!0))break}else if(!this.clipEars_(t,e,r,n)&&!this.classifyPoints_(t,e,n)&&!this.resolveSelfIntersections_(t,e)){if(!(r=this.isSimple_(t,e))){this.splitPolygon_(t,e);break}n=!this.isClockwise_(t),this.classifyPoints_(t,e,n)}if(3===t.getLength()){var i=this.indices.length;this.indices[i++]=t.getPrevItem().p0.i,this.indices[i++]=t.getCurrItem().p0.i,this.indices[i++]=t.getNextItem().p0.i}},xr.prototype.clipEars_=function(t,e,n,r){var i,o,a,s=this.indices.length,u=t.firstItem(),l=t.getPrevItem(),c=u,h=t.nextItem(),p=t.getNextItem(),f=!1;do{var d;if(i=c.p0,o=c.p1,a=h.p1,!1===o.reflex)d=n?0===this.getPointsInTriangle_(i,o,a,e,!0).length:r?this.diagonalIsInside_(p.p1,a,o,i,l.p0):this.diagonalIsInside_(l.p0,i,o,a,p.p1),(n||0===this.getIntersections_({p0:i,p1:a},e).length)&&d&&(n||!1===i.reflex||!1===a.reflex||ar.a.linearRingIsClockwise([l.p0.x,l.p0.y,i.x,i.y,o.x,o.y,a.x,a.y,p.p1.x,p.p1.y],0,10,2)===!r)&&(this.indices[s++]=i.i,this.indices[s++]=o.i,this.indices[s++]=a.i,this.removeItem_(c,h,t,e),h===u&&(u=p),f=!0);l=t.getPrevItem(),c=t.getCurrItem(),h=t.nextItem(),p=t.getNextItem()}while(c!==u&&t.getLength()>3);return f},xr.prototype.resolveSelfIntersections_=function(t,e,n){var r=t.firstItem();t.nextItem();var i=r,o=t.nextItem(),a=!1;do{var s=this.calculateIntersection_(i.p0,i.p1,o.p0,o.p1,n);if(s){var u,l=!1,c=this.vertices.length,h=this.indices.length,p=c/2,f=t.prevItem();if(t.removeItem(),e.remove(f),l=f===r,n?(s[0]===i.p0.x&&s[1]===i.p0.y?(t.prevItem(),u=i.p0,o.p0=u,e.remove(i),l=l||i===r):(u=o.p1,i.p1=u,e.remove(o),l=l||o===r),t.removeItem()):(u=this.createPoint_(s[0],s[1],p),i.p1=u,o.p0=u,e.update([Math.min(i.p0.x,i.p1.x),Math.min(i.p0.y,i.p1.y),Math.max(i.p0.x,i.p1.x),Math.max(i.p0.y,i.p1.y)],i),e.update([Math.min(o.p0.x,o.p1.x),Math.min(o.p0.y,o.p1.y),Math.max(o.p0.x,o.p1.x),Math.max(o.p0.y,o.p1.y)],o)),this.indices[h++]=f.p0.i,this.indices[h++]=f.p1.i,this.indices[h++]=u.i,a=!0,l)break}i=t.getPrevItem(),o=t.nextItem()}while(i!==r);return a},xr.prototype.isSimple_=function(t,e){var n=t.firstItem(),r=n;do{if(this.getIntersections_(r,e).length)return!1;r=t.nextItem()}while(r!==n);return!0},xr.prototype.isClockwise_=function(t){var e=2*t.getLength(),n=new Array(e),r=t.firstItem(),i=r,o=0;do{n[o++]=i.p0.x,n[o++]=i.p0.y,i=t.nextItem()}while(i!==r);return ar.a.linearRingIsClockwise(n,0,e,2)},xr.prototype.splitPolygon_=function(t,e){var n=t.firstItem(),r=n;do{var i=this.getIntersections_(r,e);if(i.length){var o=i[0],a=this.vertices.length/2,s=this.calculateIntersection_(r.p0,r.p1,o.p0,o.p1),u=this.createPoint_(s[0],s[1],a),l=new Cr,c=new br.a;this.insertItem_(u,r.p1,l,c),r.p1=u,e.update([Math.min(r.p0.x,u.x),Math.min(r.p0.y,u.y),Math.max(r.p0.x,u.x),Math.max(r.p0.y,u.y)],r);for(var h=t.nextItem();h!==o;)this.insertItem_(h.p0,h.p1,l,c),e.remove(h),t.removeItem(),h=t.getCurrItem();this.insertItem_(o.p0,u,l,c),o.p0=u,e.update([Math.min(o.p1.x,u.x),Math.min(o.p1.y,u.y),Math.max(o.p1.x,u.x),Math.max(o.p1.y,u.y)],o),this.classifyPoints_(t,e,!1),this.triangulate_(t,e),this.classifyPoints_(l,c,!1),this.triangulate_(l,c);break}r=t.nextItem()}while(r!==n)},xr.prototype.createPoint_=function(t,e,n){var r=this.vertices.length;return this.vertices[r++]=t,this.vertices[r++]=e,{x:t,y:e,i:n,reflex:void 0}},xr.prototype.insertItem_=function(t,e,n,r){var i={p0:t,p1:e};return n.insertItem(i),r&&r.insert([Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y)],i),i},xr.prototype.removeItem_=function(t,e,n,r){n.getCurrItem()===e&&(n.removeItem(),t.p1=e.p1,r.remove(e),r.update([Math.min(t.p0.x,t.p1.x),Math.min(t.p0.y,t.p1.y),Math.max(t.p0.x,t.p1.x),Math.max(t.p0.y,t.p1.y)],t))},xr.prototype.getPointsInTriangle_=function(t,e,n,r,i){var o,a,s,u,l=[],c=r.getInExtent([Math.min(t.x,e.x,n.x),Math.min(t.y,e.y,n.y),Math.max(t.x,e.x,n.x),Math.max(t.y,e.y,n.y)]);for(o=0,a=c.length;o<a;++o)for(s in c[o])"object"!=typeof(u=c[o][s])||i&&!u.reflex||u.x===t.x&&u.y===t.y||u.x===e.x&&u.y===e.y||u.x===n.x&&u.y===n.y||-1!==l.indexOf(u)||!gr.a.linearRingContainsXY([t.x,t.y,e.x,e.y,n.x,n.y],0,6,2,u.x,u.y)||l.push(u);return l},xr.prototype.getIntersections_=function(t,e,n){var r,i,o=t.p0,a=t.p1,s=e.getInExtent([Math.min(o.x,a.x),Math.min(o.y,a.y),Math.max(o.x,a.x),Math.max(o.y,a.y)]),u=[];for(r=0,i=s.length;r<i;++r){var l=s[r];t!==l&&(n||l.p0!==a||l.p1!==o)&&this.calculateIntersection_(o,a,l.p0,l.p1,n)&&u.push(l)}return u},xr.prototype.calculateIntersection_=function(t,e,n,r,i){var o=(r.y-n.y)*(e.x-t.x)-(r.x-n.x)*(e.y-t.y);if(0!==o){var a=((r.x-n.x)*(t.y-n.y)-(r.y-n.y)*(t.x-n.x))/o,s=((e.x-t.x)*(t.y-n.y)-(e.y-t.y)*(t.x-n.x))/o;if(!i&&a>Xn.EPSILON&&a<1-Xn.EPSILON&&s>Xn.EPSILON&&s<1-Xn.EPSILON||i&&a>=0&&a<=1&&s>=0&&s<=1)return[t.x+a*(e.x-t.x),t.y+a*(e.y-t.y)]}},xr.prototype.diagonalIsInside_=function(t,e,n,r,i){if(void 0===e.reflex||void 0===r.reflex)return!1;var o=(n.x-r.x)*(e.y-r.y)>(n.y-r.y)*(e.x-r.x),a=(i.x-r.x)*(e.y-r.y)<(i.y-r.y)*(e.x-r.x),s=(t.x-e.x)*(r.y-e.y)>(t.y-e.y)*(r.x-e.x),u=(n.x-e.x)*(r.y-e.y)<(n.y-e.y)*(r.x-e.x),l=r.reflex?a||o:a&&o,c=e.reflex?u||s:u&&s;return l&&c},xr.prototype.drawMultiPolygon=function(t,e){var n,r,i,o,a=t.getEndss(),s=t.getStride(),u=this.indices.length,l=this.lineStringReplay.getCurrentIndex(),c=t.getFlatCoordinates(),h=0;for(n=0,r=a.length;n<r;++n){var p=a[n];if(p.length>0){var f=be.a.translate(c,h,p[0],s,-this.origin[0],-this.origin[1]);if(f.length){var d,g=[];for(i=1,o=p.length;i<o;++i)p[i]!==p[i-1]&&(d=be.a.translate(c,p[i-1],p[i],s,-this.origin[0],-this.origin[1]),g.push(d));this.lineStringReplay.drawPolygonCoordinates(f,g,s),this.drawCoordinates_(f,g,s)}}h=p[p.length-1]}this.indices.length>u&&(this.startIndices.push(u),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(u),this.state_.changed=!1)),this.lineStringReplay.getCurrentIndex()>l&&this.lineStringReplay.setPolygonStyle(e,l)},xr.prototype.drawPolygon=function(t,e){var n=t.getEnds(),r=t.getStride();if(n.length>0){var i=t.getFlatCoordinates().map(Number),o=be.a.translate(i,0,n[0],r,-this.origin[0],-this.origin[1]);if(o.length){var a,s,u,l=[];for(a=1,s=n.length;a<s;++a)n[a]!==n[a-1]&&(u=be.a.translate(i,n[a-1],n[a],r,-this.origin[0],-this.origin[1]),l.push(u));this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.lineStringReplay.setPolygonStyle(e),this.lineStringReplay.drawPolygonCoordinates(o,l,r),this.drawCoordinates_(o,l,r)}}},xr.prototype.finish=function(t){this.verticesBuffer=new Yn(this.vertices),this.indicesBuffer=new Yn(this.indices),this.startIndices.push(this.indices.length),this.lineStringReplay.finish(t),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},xr.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,n=this.indicesBuffer,r=this.lineStringReplay.getDeleteResourcesFunction(t);return function(){t.deleteBuffer(e),t.deleteBuffer(n),r()}},xr.prototype.setUpProgram=function(t,e,n,r){var i,o;i=vr.fragment,o=vr.vertex;var a,s=e.getProgram(i,o);return this.defaultLocations_?a=this.defaultLocations_:(a=new _r(t,s),this.defaultLocations_=a),e.useProgram(s),t.enableVertexAttribArray(a.a_position),t.vertexAttribPointer(a.a_position,2,Pn.a.FLOAT,!1,8,0),a},xr.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position)},xr.prototype.drawReplay=function(t,e,n,r){var i,o,a,s,u=t.getParameter(t.DEPTH_FUNC),l=t.getParameter(t.DEPTH_WRITEMASK);if(r||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),B.a.isEmpty(n))for(a=this.startIndices[this.startIndices.length-1],i=this.styleIndices_.length-1;i>=0;--i)o=this.styleIndices_[i],s=this.styles_[i],this.setFillStyle_(t,s),this.drawElements(t,e,o,a),a=o;else this.drawReplaySkipping_(t,e,n);r||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(l),t.depthFunc(u))},xr.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,i,o){var a,s,u,l,c,h,p;for(p=this.startIndices.length-2,u=this.startIndices[p+1],a=this.styleIndices_.length-1;a>=0;--a)for(l=this.styles_[a],this.setFillStyle_(t,l),c=this.styleIndices_[a];p>=0&&this.startIndices[p]>=c;){if(s=this.startIndices[p],h=this.startIndicesFeature[p],void 0===n[r.a.getUid(h).toString()]&&h.getGeometry()&&(void 0===o||Z.a.intersects(o,h.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,s,u);var f=i(h);if(f)return f}p--,u=s}},xr.prototype.drawReplaySkipping_=function(t,e,n){var i,o,a,s,u,l,c,h;for(c=this.startIndices.length-2,a=o=this.startIndices[c+1],i=this.styleIndices_.length-1;i>=0;--i){for(s=this.styles_[i],this.setFillStyle_(t,s),u=this.styleIndices_[i];c>=0&&this.startIndices[c]>=u;)h=this.startIndices[c],l=this.startIndicesFeature[c],n[r.a.getUid(l).toString()]&&(o!==a&&(this.drawElements(t,e,o,a),t.clear(t.DEPTH_BUFFER_BIT)),a=h),c--,o=h;o!==a&&(this.drawElements(t,e,o,a),t.clear(t.DEPTH_BUFFER_BIT)),o=a=u}},xr.prototype.setFillStyle_=function(t,e){t.uniform4fv(this.defaultLocations_.u_color,e)},xr.prototype.setFillStrokeStyle=function(t,e){var n=t?t.getColor():[0,0,0,0];if(n=n instanceof CanvasGradient||n instanceof CanvasPattern?Xn.defaultFillStyle:cn.a.asArray(n).map(function(t,e){return 3!=e?t/255:t})||Xn.defaultFillStyle,this.state_.fillColor&&I.a.equals(n,this.state_.fillColor)||(this.state_.fillColor=n,this.state_.changed=!0,this.styles_.push(n)),e)this.lineStringReplay.setFillStrokeStyle(null,e);else{var r=new mr.a({color:[0,0,0,0],lineWidth:0});this.lineStringReplay.setFillStrokeStyle(null,r)}};var Tr=xr,wr=function(t,e){this.space_=e,this.emptyBlocks_=[{x:0,y:0,width:t,height:t}],this.entries_={},this.context_=q.a.createCanvasContext2D(t,t),this.canvas_=this.context_.canvas};wr.prototype.get=function(t){return this.entries_[t]||null},wr.prototype.add=function(t,e,n,r,i){var o,a,s;for(a=0,s=this.emptyBlocks_.length;a<s;++a)if((o=this.emptyBlocks_[a]).width>=e+this.space_&&o.height>=n+this.space_){var u={offsetX:o.x+this.space_,offsetY:o.y+this.space_,image:this.canvas_};return this.entries_[t]=u,r.call(i,this.context_,o.x+this.space_,o.y+this.space_),this.split_(a,o,e+this.space_,n+this.space_),u}return null},wr.prototype.split_=function(t,e,n,r){var i,o;e.width-n>e.height-r?(i={x:e.x+n,y:e.y,width:e.width-n,height:e.height},o={x:e.x,y:e.y+r,width:n,height:e.height-r},this.updateBlocks_(t,i,o)):(i={x:e.x+n,y:e.y,width:e.width-n,height:r},o={x:e.x,y:e.y+r,width:e.width,height:e.height-r},this.updateBlocks_(t,i,o))},wr.prototype.updateBlocks_=function(t,e,n){var r=[t,1];e.width>0&&e.height>0&&r.push(e),n.width>0&&n.height>0&&r.push(n),this.emptyBlocks_.splice.apply(this.emptyBlocks_,r)};var Rr=wr,Sr=function(t){var e=t||{};this.currentSize_=void 0!==e.initialSize?e.initialSize:r.a.INITIAL_ATLAS_SIZE,this.maxSize_=void 0!==e.maxSize?e.maxSize:-1!=r.a.MAX_ATLAS_SIZE?r.a.MAX_ATLAS_SIZE:void 0!==r.a.WEBGL_MAX_TEXTURE_SIZE?r.a.WEBGL_MAX_TEXTURE_SIZE:2048,this.space_=void 0!==e.space?e.space:1,this.atlases_=[new Rr(this.currentSize_,this.space_)],this.currentHitSize_=this.currentSize_,this.hitAtlases_=[new Rr(this.currentHitSize_,this.space_)]};Sr.prototype.getInfo=function(t){var e=this.getInfo_(this.atlases_,t);if(!e)return null;var n=this.getInfo_(this.hitAtlases_,t);return this.mergeInfos_(e,n)},Sr.prototype.getInfo_=function(t,e){var n,r,i;for(r=0,i=t.length;r<i;++r)if(n=t[r].get(e))return n;return null},Sr.prototype.mergeInfos_=function(t,e){return{offsetX:t.offsetX,offsetY:t.offsetY,image:t.image,hitImage:e.image}},Sr.prototype.add=function(t,e,n,i,o,a){if(e+this.space_>this.maxSize_||n+this.space_>this.maxSize_)return null;var s=this.add_(!1,t,e,n,i,a);if(!s)return null;var u=void 0!==o?o:r.a.nullFunction,l=this.add_(!0,t,e,n,u,a);return this.mergeInfos_(s,l)},Sr.prototype.add_=function(t,e,n,r,i,o){var a,s,u,l,c=t?this.hitAtlases_:this.atlases_;for(u=0,l=c.length;u<l;++u){if(s=(a=c[u]).add(e,n,r,i,o))return s;var h;s||u!==l-1||(t?(h=Math.min(2*this.currentHitSize_,this.maxSize_),this.currentHitSize_=h):(h=Math.min(2*this.currentSize_,this.maxSize_),this.currentSize_=h),a=new Rr(h,this.space_),c.push(a),++l)}return null};var Or=Sr,Ir=function(t,e){rr.call(this,t,e),this.images_=[],this.textures_=[],this.measureCanvas_=q.a.createCanvasContext2D(0,0).canvas,this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.atlases_={},this.currAtlas_=void 0,this.scale=1,this.opacity=1};r.a.inherits(Ir,rr),Ir.prototype.drawText=function(t,e){if(this.text_){var n=null,i=2,o=2;switch(t.getType()){case Ee.a.POINT:case Ee.a.MULTI_POINT:i=(n=t.getFlatCoordinates()).length,o=t.getStride();break;case Ee.a.CIRCLE:n=t.getCenter();break;case Ee.a.LINE_STRING:n=t.getFlatMidpoint();break;case Ee.a.MULTI_LINE_STRING:i=(n=t.getFlatMidpoints()).length;break;case Ee.a.POLYGON:n=t.getFlatInteriorPoint();break;case Ee.a.MULTI_POLYGON:i=(n=t.getFlatInteriorPoints()).length}this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var a,s,u,l,c,h,p,f,d=this.currAtlas_,g=this.text_.split("\n"),y=this.getTextSize_(g),v=Math.round(y[0]*this.textAlign_-this.offsetX_),_=Math.round(y[1]*this.textBaseline_-this.offsetY_),m=this.state_.lineWidth/2*this.state_.scale;for(a=0,s=g.length;a<s;++a)for(c=0,h=d.height*a,u=0,l=(p=g[a].split("")).length;u<l;++u){if(f=d.atlas.getInfo(p[u])){var E,C=f.image;this.anchorX=v-c,this.anchorY=_-h,this.originX=0===u?f.offsetX-m:f.offsetX,this.originY=f.offsetY,this.height=d.height,this.width=0===u||u===p.length-1?d.width[p[u]]+m:d.width[p[u]],this.imageHeight=C.height,this.imageWidth=C.width,0===this.images_.length?this.images_.push(C):(E=this.images_[this.images_.length-1],r.a.getUid(E)!=r.a.getUid(C)&&(this.groupIndices.push(this.indices.length),this.images_.push(C))),this.drawText_(n,0,i,o)}c+=this.width}}},Ir.prototype.getTextSize_=function(t){var e=this,n=this.currAtlas_,r=t.length*n.height;return[t.map(function(t){var r,i,o=0;for(r=0,i=t.length;r<i;++r){var a=t[r];n.width[a]||e.addCharToAtlas_(a),o+=n.width[a]?n.width[a]:0}return o}).reduce(function(t,e){return Math.max(t,e)}),r]},Ir.prototype.drawText_=function(t,e,n,r){var i,o;for(i=e,o=n;i<o;i+=r)this.drawCoordinates(t,e,n,r)},Ir.prototype.addCharToAtlas_=function(t){if(1===t.length){var e=this.currAtlas_,n=this.state_,r=this.measureCanvas_.getContext("2d");r.font=n.font;var i=Math.ceil(r.measureText(t).width*n.scale);e.atlas.add(t,i,e.height,function(e,r,i){e.font=n.font,e.fillStyle=n.fillColor,e.strokeStyle=n.strokeColor,e.lineWidth=n.lineWidth,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.miterLimit=n.miterLimit,e.textAlign="left",e.textBaseline="top",h.a.CANVAS_LINE_DASH&&n.lineDash&&(e.setLineDash(n.lineDash),e.lineDashOffset=n.lineDashOffset),1!==n.scale&&e.setTransform(n.scale,0,0,n.scale,0,0),n.strokeColor&&e.strokeText(t,r,i),n.fillColor&&e.fillText(t,r,i)})&&(e.width[t]=i)}},Ir.prototype.finish=function(t){var e=t.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices=this.groupIndices,this.verticesBuffer=new Yn(this.vertices),this.indicesBuffer=new Yn(this.indices);this.createTextures(this.textures_,this.images_,{},e),this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.images_=null,this.atlases_={},this.currAtlas_=void 0,rr.prototype.finish.call(this,t)},Ir.prototype.setTextStyle=function(t){var e=this.state_,n=t.getFill(),r=t.getStroke();if(t&&t.getText()&&(n||r)){if(n){var i=n.getColor();e.fillColor=me.a.asColorLike(i||Xn.defaultFillStyle)}else e.fillColor=null;if(r){var o=r.getColor();e.strokeColor=me.a.asColorLike(o||Xn.defaultStrokeStyle),e.lineWidth=r.getWidth()||Xn.defaultLineWidth,e.lineCap=r.getLineCap()||Xn.defaultLineCap,e.lineDashOffset=r.getLineDashOffset()||Xn.defaultLineDashOffset,e.lineJoin=r.getLineJoin()||Xn.defaultLineJoin,e.miterLimit=r.getMiterLimit()||Xn.defaultMiterLimit;var a=r.getLineDash();e.lineDash=a?a.slice():Xn.defaultLineDash}else e.strokeColor=null,e.lineWidth=0;e.font=t.getFont()||Xn.defaultFont,e.scale=t.getScale()||1,this.text_=t.getText();var s=nn.TEXT_ALIGN[t.getTextAlign()],u=nn.TEXT_ALIGN[t.getTextBaseline()];this.textAlign_=void 0===s?Xn.defaultTextAlign:s,this.textBaseline_=void 0===u?Xn.defaultTextBaseline:u,this.offsetX_=t.getOffsetX()||0,this.offsetY_=t.getOffsetY()||0,this.rotateWithView=!!t.getRotateWithView(),this.rotation=t.getRotation()||0,this.currAtlas_=this.getAtlas_(e)}else this.text_=""},Ir.prototype.getAtlas_=function(t){var e,n=[];for(e in t)(t[e]||0===t[e])&&(Array.isArray(t[e])?n=n.concat(t[e]):n.push(t[e]));var r=this.calculateHash_(n);if(!this.atlases_[r]){var i=this.measureCanvas_.getContext("2d");i.font=t.font;var o=Math.ceil((1.5*i.measureText("M").width+t.lineWidth/2)*t.scale);this.atlases_[r]={atlas:new Or({space:t.lineWidth+1}),width:{},height:o}}return this.atlases_[r]},Ir.prototype.calculateHash_=function(t){var e,n,r="";for(e=0,n=t.length;e<n;++e)r+=t[e];return r},Ir.prototype.getTextures=function(t){return this.textures_},Ir.prototype.getHitDetectionTextures=function(){return this.textures_};var Pr=Ir,Ar=function(t,e,n){Ye.call(this),this.maxExtent_=e,this.tolerance_=t,this.renderBuffer_=n,this.replaysByZIndex_={}};r.a.inherits(Ar,Ye),Ar.prototype.addDeclutter=function(t,e){},Ar.prototype.getDeleteResourcesFunction=function(t){var e,n=[];for(e in this.replaysByZIndex_){var r,i=this.replaysByZIndex_[e];for(r in i)n.push(i[r].getDeleteResourcesFunction(t))}return function(){for(var t,e=n.length,r=0;r<e;r++)t=n[r].apply(this,arguments);return t}},Ar.prototype.finish=function(t){var e;for(e in this.replaysByZIndex_){var n,r=this.replaysByZIndex_[e];for(n in r)r[n].finish(t)}},Ar.prototype.getReplay=function(t,e){var n=void 0!==t?t.toString():"0",r=this.replaysByZIndex_[n];void 0===r&&(r={},this.replaysByZIndex_[n]=r);var i=r[e];void 0===i&&(i=new(0,Ar.BATCH_CONSTRUCTORS_[e])(this.tolerance_,this.maxExtent_),r[e]=i);return i},Ar.prototype.isEmpty=function(){return B.a.isEmpty(this.replaysByZIndex_)},Ar.prototype.replay=function(t,e,n,r,i,o,a,s){var u,l,c,h,p,f,d=Object.keys(this.replaysByZIndex_).map(Number);for(d.sort(I.a.numberSafeCompareFunction),u=0,l=d.length;u<l;++u)for(p=this.replaysByZIndex_[d[u].toString()],c=0,h=nn.ORDER.length;c<h;++c)void 0!==(f=p[nn.ORDER[c]])&&f.replay(t,e,n,r,i,o,a,s,void 0,!1)},Ar.prototype.replayHitDetection_=function(t,e,n,r,i,o,a,s,u,l,c){var h,p,f,d,g,y,v=Object.keys(this.replaysByZIndex_).map(Number);for(v.sort(function(t,e){return e-t}),h=0,p=v.length;h<p;++h)for(d=this.replaysByZIndex_[v[h].toString()],f=nn.ORDER.length-1;f>=0;--f)if(void 0!==(g=d[nn.ORDER[f]])&&(y=g.replay(t,e,n,r,i,o,a,s,u,l,c)))return y},Ar.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o,a,s,u,l){var c,h=e.getGL();return h.bindFramebuffer(h.FRAMEBUFFER,e.getHitDetectionFramebuffer()),void 0!==this.renderBuffer_&&(c=Z.a.buffer(Z.a.createOrUpdateFromCoordinate(t),r*this.renderBuffer_)),this.replayHitDetection_(e,t,r,i,Ar.HIT_DETECTION_SIZE_,a,s,u,function(t){var e=new Uint8Array(4);if(h.readPixels(0,0,1,1,h.RGBA,h.UNSIGNED_BYTE,e),e[3]>0){var n=l(t);if(n)return n}},!0,c)},Ar.prototype.hasFeatureAtCoordinate=function(t,e,n,r,i,o,a,s,u){var l=e.getGL();return l.bindFramebuffer(l.FRAMEBUFFER,e.getHitDetectionFramebuffer()),void 0!==this.replayHitDetection_(e,t,r,i,Ar.HIT_DETECTION_SIZE_,a,s,u,function(t){var e=new Uint8Array(4);return l.readPixels(0,0,1,1,l.RGBA,l.UNSIGNED_BYTE,e),e[3]>0},!1)},Ar.HIT_DETECTION_SIZE_=[1,1],Ar.BATCH_CONSTRUCTORS_={Circle:qn,Image:or,LineString:dr,Polygon:Tr,Text:Pr};var Lr=Ar,Mr=function(t,e,n,r,i,o,a){Te.call(this),this.context_=t,this.center_=e,this.extent_=o,this.pixelRatio_=a,this.size_=i,this.rotation_=r,this.resolution_=n,this.imageStyle_=null,this.fillStyle_=null,this.strokeStyle_=null,this.textStyle_=null};r.a.inherits(Mr,Te),Mr.prototype.drawText_=function(t,e){var n=this.context_,r=t.getReplay(0,Ke.TEXT);r.setTextStyle(this.textStyle_),r.drawText(e,null),r.finish(n);r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(n)()},Mr.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},Mr.prototype.drawGeometry=function(t){switch(t.getType()){case Ee.a.POINT:this.drawPoint(t,null);break;case Ee.a.LINE_STRING:this.drawLineString(t,null);break;case Ee.a.POLYGON:this.drawPolygon(t,null);break;case Ee.a.MULTI_POINT:this.drawMultiPoint(t,null);break;case Ee.a.MULTI_LINE_STRING:this.drawMultiLineString(t,null);break;case Ee.a.MULTI_POLYGON:this.drawMultiPolygon(t,null);break;case Ee.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(t,null);break;case Ee.a.CIRCLE:this.drawCircle(t,null)}},Mr.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&Z.a.intersects(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},Mr.prototype.drawGeometryCollection=function(t,e){var n,r,i=t.getGeometriesArray();for(n=0,r=i.length;n<r;++n)this.drawGeometry(i[n])},Mr.prototype.drawPoint=function(t,e){var n=this.context_,r=new Lr(1,this.extent_),i=r.getReplay(0,Ke.IMAGE);i.setImageStyle(this.imageStyle_),i.drawPoint(t,e),i.finish(n);i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(r,t)},Mr.prototype.drawMultiPoint=function(t,e){var n=this.context_,r=new Lr(1,this.extent_),i=r.getReplay(0,Ke.IMAGE);i.setImageStyle(this.imageStyle_),i.drawMultiPoint(t,e),i.finish(n);i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(r,t)},Mr.prototype.drawLineString=function(t,e){var n=this.context_,r=new Lr(1,this.extent_),i=r.getReplay(0,Ke.LINE_STRING);i.setFillStrokeStyle(null,this.strokeStyle_),i.drawLineString(t,e),i.finish(n);i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(r,t)},Mr.prototype.drawMultiLineString=function(t,e){var n=this.context_,r=new Lr(1,this.extent_),i=r.getReplay(0,Ke.LINE_STRING);i.setFillStrokeStyle(null,this.strokeStyle_),i.drawMultiLineString(t,e),i.finish(n);i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(r,t)},Mr.prototype.drawPolygon=function(t,e){var n=this.context_,r=new Lr(1,this.extent_),i=r.getReplay(0,Ke.POLYGON);i.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),i.drawPolygon(t,e),i.finish(n);i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(r,t)},Mr.prototype.drawMultiPolygon=function(t,e){var n=this.context_,r=new Lr(1,this.extent_),i=r.getReplay(0,Ke.POLYGON);i.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),i.drawMultiPolygon(t,e),i.finish(n);i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(r,t)},Mr.prototype.drawCircle=function(t,e){var n=this.context_,r=new Lr(1,this.extent_),i=r.getReplay(0,Ke.CIRCLE);i.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),i.drawCircle(t,e),i.finish(n);i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(r,t)},Mr.prototype.setImageStyle=function(t){this.imageStyle_=t},Mr.prototype.setFillStrokeStyle=function(t,e){this.fillStyle_=t,this.strokeStyle_=e},Mr.prototype.setTextStyle=function(t){this.textStyle_=t};var Dr=Mr,Nr={};Nr.fragment=new Dn(r.a.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n":"precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}"),Nr.vertex=new Fn(r.a.DEBUG_WEBGL?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}");var Fr=Nr,kr=function(t,e){this.u_texCoordMatrix=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_texCoordMatrix":"d"),this.u_projectionMatrix=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_projectionMatrix":"e"),this.u_opacity=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_opacity":"f"),this.u_texture=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_texture":"g"),this.a_position=t.getAttribLocation(e,r.a.DEBUG_WEBGL?"a_position":"b"),this.a_texCoord=t.getAttribLocation(e,r.a.DEBUG_WEBGL?"a_texCoord":"c")},jr=function(t,e){Ie.call(this,e),this.mapRenderer=t,this.arrayBuffer_=new Yn([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0,this.texCoordMatrix=st.a.create(),this.projectionMatrix=st.a.create(),this.tmpMat4_=Vn.create(),this.defaultLocations_=null};r.a.inherits(jr,Ie),jr.prototype.bindFramebuffer=function(t,e){var n=this.mapRenderer.getGL();if(void 0===this.framebufferDimension||this.framebufferDimension!=e){var r=(function(t,e,n){t.isContextLost()||(t.deleteFramebuffer(e),t.deleteTexture(n))}).bind(null,n,this.framebuffer,this.texture);t.postRenderFunctions.push(r);var i=er.createEmptyTexture(n,e,e),o=n.createFramebuffer();n.bindFramebuffer(Pn.a.FRAMEBUFFER,o),n.framebufferTexture2D(Pn.a.FRAMEBUFFER,Pn.a.COLOR_ATTACHMENT0,Pn.a.TEXTURE_2D,i,0),this.texture=i,this.framebuffer=o,this.framebufferDimension=e}else n.bindFramebuffer(Pn.a.FRAMEBUFFER,this.framebuffer)},jr.prototype.composeFrame=function(t,e,n){this.dispatchComposeEvent_(ve.a.PRECOMPOSE,n,t),n.bindBuffer(Pn.a.ARRAY_BUFFER,this.arrayBuffer_);var r,i=n.getGL(),o=Fr.fragment,a=Fr.vertex,s=n.getProgram(o,a);this.defaultLocations_?r=this.defaultLocations_:(r=new kr(i,s),this.defaultLocations_=r),n.useProgram(s)&&(i.enableVertexAttribArray(r.a_position),i.vertexAttribPointer(r.a_position,2,Pn.a.FLOAT,!1,16,0),i.enableVertexAttribArray(r.a_texCoord),i.vertexAttribPointer(r.a_texCoord,2,Pn.a.FLOAT,!1,16,8),i.uniform1i(r.u_texture,0)),i.uniformMatrix4fv(r.u_texCoordMatrix,!1,Vn.fromTransform(this.tmpMat4_,this.getTexCoordMatrix())),i.uniformMatrix4fv(r.u_projectionMatrix,!1,Vn.fromTransform(this.tmpMat4_,this.getProjectionMatrix())),i.uniform1f(r.u_opacity,e.opacity),i.bindTexture(Pn.a.TEXTURE_2D,this.getTexture()),i.drawArrays(Pn.a.TRIANGLE_STRIP,0,4),this.dispatchComposeEvent_(ve.a.POSTCOMPOSE,n,t)},jr.prototype.dispatchComposeEvent_=function(t,e,n){var r=this.getLayer();if(r.hasListener(t)){var i=n.viewState,o=i.resolution,a=n.pixelRatio,s=n.extent,u=i.center,l=i.rotation,c=n.size,h=new Dr(e,u,o,l,c,s,a),p=new ye(t,h,n,null,e);r.dispatchEvent(p)}},jr.prototype.getTexCoordMatrix=function(){return this.texCoordMatrix},jr.prototype.getTexture=function(){return this.texture},jr.prototype.getProjectionMatrix=function(){return this.projectionMatrix},jr.prototype.handleWebGLContextLost=function(){this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0},jr.prototype.prepareFrame=function(t,e,n){},jr.prototype.forEachLayerAtPixel=function(t,e,n,r){};var Ur=jr,Gr=function(t,e){Ur.call(this,t,e),this.image_=null,this.hitCanvasContext_=null,this.hitTransformationMatrix_=null};r.a.inherits(Gr,Ur),Gr.handles=function(t,e){return t===ot.WEBGL&&e.getType()===fe.a.IMAGE},Gr.create=function(t,e){return new Gr(t,e)},Gr.prototype.createTexture_=function(t){var e=t.getImage(),n=this.mapRenderer.getGL();return er.createTexture(n,e,Pn.a.CLAMP_TO_EDGE,Pn.a.CLAMP_TO_EDGE)},Gr.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){var o=this.getLayer(),a=o.getSource(),s=e.viewState.resolution,u=e.viewState.rotation,l=e.skippedFeatureUids;return a.forEachFeatureAtCoordinate(t,s,u,n,l,function(t){return r.call(i,t,o)})},Gr.prototype.prepareFrame=function(t,e,n){var i=this.mapRenderer.getGL(),o=t.pixelRatio,a=t.viewState,s=a.center,u=a.resolution,l=a.rotation,c=this.image_,h=this.texture,p=this.getLayer().getSource(),f=t.viewHints,d=t.extent;if(void 0!==e.extent&&(d=Z.a.getIntersection(d,e.extent)),!f[K.a.ANIMATING]&&!f[K.a.INTERACTING]&&!Z.a.isEmpty(d)){var g=a.projection;if(!r.a.ENABLE_RASTER_REPROJECTION){var y=p.getProjection();y&&(g=y)}var v=p.getImage(d,u,o,g);if(v)if(this.loadImage(v)&&(c=v,h=this.createTexture_(v),this.texture)){var _=(function(t,e){t.isContextLost()||t.deleteTexture(e)}).bind(null,i,this.texture);t.postRenderFunctions.push(_)}}if(c){var m=this.mapRenderer.getContext().getCanvas();this.updateProjectionMatrix_(m.width,m.height,o,s,u,l,c.getExtent()),this.hitTransformationMatrix_=null;var E=this.texCoordMatrix;st.a.reset(E),st.a.scale(E,1,-1),st.a.translate(E,0,-1),this.image_=c,this.texture=h,this.updateLogos(t,p)}return!!c},Gr.prototype.updateProjectionMatrix_=function(t,e,n,r,i,o,a){var s=t*i,u=e*i,l=this.projectionMatrix;st.a.reset(l),st.a.scale(l,2*n/s,2*n/u),st.a.rotate(l,-o),st.a.translate(l,a[0]-r[0],a[1]-r[1]),st.a.scale(l,(a[2]-a[0])/2,(a[3]-a[1])/2),st.a.translate(l,1,1)},Gr.prototype.hasFeatureAtCoordinate=function(t,e){return void 0!==this.forEachFeatureAtCoordinate(t,e,0,J.a.TRUE,this)},Gr.prototype.forEachLayerAtPixel=function(t,e,n,i){if(this.image_&&this.image_.getImage()){if(this.getLayer().getSource().forEachFeatureAtCoordinate!==r.a.nullFunction){var o=st.a.apply(e.pixelToCoordinateTransform,t.slice());return this.forEachFeatureAtCoordinate(o,e,0,J.a.TRUE,this)?n.call(i,this.getLayer(),null):void 0}var a=[this.image_.getImage().width,this.image_.getImage().height];this.hitTransformationMatrix_||(this.hitTransformationMatrix_=this.getHitTransformationMatrix_(e.size,a));var s=st.a.apply(this.hitTransformationMatrix_,t.slice());if(!(s[0]<0||s[0]>a[0]||s[1]<0||s[1]>a[1])){this.hitCanvasContext_||(this.hitCanvasContext_=q.a.createCanvasContext2D(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.image_.getImage(),s[0],s[1],1,1,0,0,1,1);var u=this.hitCanvasContext_.getImageData(0,0,1,1).data;return u[3]>0?n.call(i,this.getLayer(),u):void 0}}},Gr.prototype.getHitTransformationMatrix_=function(t,e){var n=st.a.create();st.a.translate(n,-1,-1),st.a.scale(n,2/t[0],2/t[1]),st.a.translate(n,0,t[1]),st.a.scale(n,1,-1);var r=st.a.invert(this.projectionMatrix.slice()),i=st.a.create();return st.a.translate(i,0,e[1]),st.a.scale(i,1,-1),st.a.scale(i,e[0]/2,e[1]/2),st.a.translate(i,1,1),st.a.multiply(i,r),st.a.multiply(i,n),i};var Vr=Gr,Br=n("7h3G"),Hr=function(t,e){je.call(this,t,e),this.canvas_=document.createElement("CANVAS"),this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=pt.a.CLASS_UNSELECTABLE,t.insertBefore(this.canvas_,t.childNodes[0]||null),this.clipTileCanvasWidth_=0,this.clipTileCanvasHeight_=0,this.clipTileContext_=q.a.createCanvasContext2D(),this.renderedVisible_=!0,this.gl_=Pn.a.getContext(this.canvas_,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.context_=new er(this.canvas_,this.gl_),y.a.listen(this.canvas_,$n.LOST,this.handleWebGLContextLost,this),y.a.listen(this.canvas_,$n.RESTORED,this.handleWebGLContextRestored,this),this.textureCache_=new Br.a,this.focus_=null,this.tileTextureQueue_=new W((function(t){var e=t[1],n=t[2],r=e[0]-this.focus_[0],i=e[1]-this.focus_[1];return 65536*Math.log(n)+Math.sqrt(r*r+i*i)/n}).bind(this),function(t){return t[0].getKey()}),this.loadNextTileTexture_=(function(t,e){if(!this.tileTextureQueue_.isEmpty()){this.tileTextureQueue_.reprioritize();var n=this.tileTextureQueue_.dequeue(),r=n[0],i=n[3],o=n[4];this.bindTileTexture(r,i,o,Pn.a.LINEAR,Pn.a.LINEAR)}return!1}).bind(this),this.textureCacheFrameMarkerCount_=0,this.initializeGL_()};r.a.inherits(Hr,je),Hr.handles=function(t){return h.a.WEBGL&&t===ot.WEBGL},Hr.create=function(t,e){return new Hr(t,e)},Hr.prototype.bindTileTexture=function(t,e,n,r,i){var o=this.getGL(),a=t.getKey();if(this.textureCache_.containsKey(a)){var s=this.textureCache_.get(a);o.bindTexture(Pn.a.TEXTURE_2D,s.texture),s.magFilter!=r&&(o.texParameteri(Pn.a.TEXTURE_2D,Pn.a.TEXTURE_MAG_FILTER,r),s.magFilter=r),s.minFilter!=i&&(o.texParameteri(Pn.a.TEXTURE_2D,Pn.a.TEXTURE_MIN_FILTER,i),s.minFilter=i)}else{var u=o.createTexture();if(o.bindTexture(Pn.a.TEXTURE_2D,u),n>0){var l=this.clipTileContext_.canvas,c=this.clipTileContext_;this.clipTileCanvasWidth_!==e[0]||this.clipTileCanvasHeight_!==e[1]?(l.width=e[0],l.height=e[1],this.clipTileCanvasWidth_=e[0],this.clipTileCanvasHeight_=e[1]):c.clearRect(0,0,e[0],e[1]),c.drawImage(t.getImage(),n,n,e[0],e[1],0,0,e[0],e[1]),o.texImage2D(Pn.a.TEXTURE_2D,0,Pn.a.RGBA,Pn.a.RGBA,Pn.a.UNSIGNED_BYTE,l)}else o.texImage2D(Pn.a.TEXTURE_2D,0,Pn.a.RGBA,Pn.a.RGBA,Pn.a.UNSIGNED_BYTE,t.getImage());o.texParameteri(Pn.a.TEXTURE_2D,Pn.a.TEXTURE_MAG_FILTER,r),o.texParameteri(Pn.a.TEXTURE_2D,Pn.a.TEXTURE_MIN_FILTER,i),o.texParameteri(Pn.a.TEXTURE_2D,Pn.a.TEXTURE_WRAP_S,Pn.a.CLAMP_TO_EDGE),o.texParameteri(Pn.a.TEXTURE_2D,Pn.a.TEXTURE_WRAP_T,Pn.a.CLAMP_TO_EDGE),this.textureCache_.set(a,{texture:u,magFilter:r,minFilter:i})}},Hr.prototype.dispatchComposeEvent_=function(t,e){var n=this.getMap();if(n.hasListener(t)){var r=this.context_,i=e.extent,o=e.size,a=e.viewState,s=e.pixelRatio,u=a.resolution,l=a.center,c=a.rotation,h=new Dr(r,l,u,c,o,i,s),p=new ye(t,h,e,null,r);n.dispatchEvent(p)}},Hr.prototype.disposeInternal=function(){var t=this.getGL();t.isContextLost()||this.textureCache_.forEach(function(e){e&&t.deleteTexture(e.texture)}),this.context_.dispose(),je.prototype.disposeInternal.call(this)},Hr.prototype.expireCache_=function(t,e){for(var n,i=this.getGL();this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>r.a.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK;){if(n=this.textureCache_.peekLast())i.deleteTexture(n.texture);else{if(+this.textureCache_.peekLastKey()==e.index)break;--this.textureCacheFrameMarkerCount_}this.textureCache_.pop()}},Hr.prototype.getContext=function(){return this.context_},Hr.prototype.getGL=function(){return this.gl_},Hr.prototype.getTileTextureQueue=function(){return this.tileTextureQueue_},Hr.prototype.getType=function(){return ot.WEBGL},Hr.prototype.handleWebGLContextLost=function(t){t.preventDefault(),this.textureCache_.clear(),this.textureCacheFrameMarkerCount_=0;var e=this.getLayerRenderers();for(var n in e){e[n].handleWebGLContextLost()}},Hr.prototype.handleWebGLContextRestored=function(){this.initializeGL_(),this.getMap().render()},Hr.prototype.initializeGL_=function(){var t=this.gl_;t.activeTexture(Pn.a.TEXTURE0),t.blendFuncSeparate(Pn.a.SRC_ALPHA,Pn.a.ONE_MINUS_SRC_ALPHA,Pn.a.ONE,Pn.a.ONE_MINUS_SRC_ALPHA),t.disable(Pn.a.CULL_FACE),t.disable(Pn.a.DEPTH_TEST),t.disable(Pn.a.SCISSOR_TEST),t.disable(Pn.a.STENCIL_TEST)},Hr.prototype.isTileTextureLoaded=function(t){return this.textureCache_.containsKey(t.getKey())},Hr.prototype.renderFrame=function(t){var e=this.getContext(),n=this.getGL();if(n.isContextLost())return!1;if(!t)return this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1),!1;this.focus_=t.focus,this.textureCache_.set((-t.index).toString(),null),++this.textureCacheFrameMarkerCount_,this.dispatchComposeEvent_(ve.a.PRECOMPOSE,t);var i=[],o=t.layerStatesArray;I.a.stableSort(o,je.sortByZIndex);var a,s,u,l=t.viewState.resolution;for(a=0,s=o.length;a<s;++a)u=o[a],ft.a.visibleAtResolution(u,l)&&u.sourceState==$.a.READY&&this.getLayerRenderer(u.layer).prepareFrame(t,u,e)&&i.push(u);var c=t.size[0]*t.pixelRatio,h=t.size[1]*t.pixelRatio;for(this.canvas_.width==c&&this.canvas_.height==h||(this.canvas_.width=c,this.canvas_.height=h),n.bindFramebuffer(Pn.a.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(Pn.a.COLOR_BUFFER_BIT),n.enable(Pn.a.BLEND),n.viewport(0,0,this.canvas_.width,this.canvas_.height),a=0,s=i.length;a<s;++a)u=i[a],this.getLayerRenderer(u.layer).composeFrame(t,u,e);this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.calculateMatrices2D(t),this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>r.a.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK&&t.postRenderFunctions.push(this.expireCache_.bind(this)),this.tileTextureQueue_.isEmpty()||(t.postRenderFunctions.push(this.loadNextTileTexture_),t.animate=!0),this.dispatchComposeEvent_(ve.a.POSTCOMPOSE,t),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)},Hr.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o,a){var s;if(this.getGL().isContextLost())return!1;var u,l=e.viewState,c=e.layerStatesArray;for(u=c.length-1;u>=0;--u){var h=c[u],p=h.layer;if(ft.a.visibleAtResolution(h,l.resolution)&&o.call(a,p))if(s=this.getLayerRenderer(p).forEachFeatureAtCoordinate(t,e,n,r,i))return s}},Hr.prototype.hasFeatureAtCoordinate=function(t,e,n,r,i){var o=!1;if(this.getGL().isContextLost())return!1;var a,s=e.viewState,u=e.layerStatesArray;for(a=u.length-1;a>=0;--a){var l=u[a],c=l.layer;if(ft.a.visibleAtResolution(l,s.resolution)&&r.call(i,c))if(o=this.getLayerRenderer(c).hasFeatureAtCoordinate(t,e))return!0}return o},Hr.prototype.forEachLayerAtPixel=function(t,e,n,r,i,o){if(this.getGL().isContextLost())return!1;var a,s,u=e.viewState,l=e.layerStatesArray;for(s=l.length-1;s>=0;--s){var c=l[s],h=c.layer;if(ft.a.visibleAtResolution(c,u.resolution)&&i.call(r,h))if(a=this.getLayerRenderer(h).forEachLayerAtPixel(t,e,n,r))return a}};var Wr=Hr,Xr={};Xr.fragment=new Dn(r.a.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  gl_FragColor = texture2D(u_texture, v_texCoord);\n}\n":"precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}"),Xr.vertex=new Fn(r.a.DEBUG_WEBGL?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec4 u_tileOffset;\n\nvoid main(void) {\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\n  v_texCoord = a_texCoord;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}");var zr=Xr,Yr=function(t,e){this.u_tileOffset=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_tileOffset":"d"),this.u_texture=t.getUniformLocation(e,r.a.DEBUG_WEBGL?"u_texture":"e"),this.a_position=t.getAttribLocation(e,r.a.DEBUG_WEBGL?"a_position":"b"),this.a_texCoord=t.getAttribLocation(e,r.a.DEBUG_WEBGL?"a_texCoord":"c")},Kr=function(t,e){Ur.call(this,t,e),this.fragmentShader_=zr.fragment,this.vertexShader_=zr.vertex,this.locations_=null,this.renderArrayBuffer_=new Yn([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,this.tmpSize_=[0,0]};r.a.inherits(Kr,Ur),Kr.handles=function(t,e){return t===ot.WEBGL&&e.getType()===fe.a.TILE},Kr.create=function(t,e){return new Kr(t,e)},Kr.prototype.disposeInternal=function(){this.mapRenderer.getContext().deleteBuffer(this.renderArrayBuffer_),Ur.prototype.disposeInternal.call(this)},Kr.prototype.createLoadedTileFinder=function(t,e,n){var r=this.mapRenderer;return function(i,o){return t.forEachLoadedTile(e,i,o,function(t){var e=r.isTileTextureLoaded(t);return e&&(n[i]||(n[i]={}),n[i][t.tileCoord.toString()]=t),e})}},Kr.prototype.handleWebGLContextLost=function(){Ur.prototype.handleWebGLContextLost.call(this),this.locations_=null},Kr.prototype.prepareFrame=function(t,e,n){var r,i=this.mapRenderer,o=n.getGL(),a=t.viewState,s=a.projection,u=this.getLayer(),l=u.getSource(),c=l.getTileGridForProjection(s),h=c.getZForResolution(a.resolution),p=c.getResolution(h),f=l.getTilePixelSize(h,t.pixelRatio,s),d=f[0]/at.a.toSize(c.getTileSize(h),this.tmpSize_)[0],g=p/d,y=l.getTilePixelRatio(d)*l.getGutter(s),v=a.center,_=t.extent,m=c.getTileRangeForExtentAndZ(_,h);if(this.renderedTileRange_&&this.renderedTileRange_.equals(m)&&this.renderedRevision_==l.getRevision())r=this.renderedFramebufferExtent_;else{var E=m.getSize(),C=Math.max(E[0]*f[0],E[1]*f[1]),b=Rt.a.roundUpToPowerOfTwo(C),x=g*b,T=c.getOrigin(h),w=T[0]+m.minX*f[0]*g,R=T[1]+m.minY*f[1]*g;r=[w,R,w+x,R+x],this.bindFramebuffer(t,b),o.viewport(0,0,b,b),o.clearColor(0,0,0,0),o.clear(Pn.a.COLOR_BUFFER_BIT),o.disable(Pn.a.BLEND);var S=n.getProgram(this.fragmentShader_,this.vertexShader_);n.useProgram(S),this.locations_||(this.locations_=new Yr(o,S)),n.bindBuffer(Pn.a.ARRAY_BUFFER,this.renderArrayBuffer_),o.enableVertexAttribArray(this.locations_.a_position),o.vertexAttribPointer(this.locations_.a_position,2,Pn.a.FLOAT,!1,16,0),o.enableVertexAttribArray(this.locations_.a_texCoord),o.vertexAttribPointer(this.locations_.a_texCoord,2,Pn.a.FLOAT,!1,16,8),o.uniform1i(this.locations_.u_texture,0);var O={};O[h]={};var P,A,L,M,D,N,F=this.createLoadedTileFinder(l,s,O),k=u.getUseInterimTilesOnError(),j=!0,U=Z.a.createEmpty(),V=new Ve.a(0,0,0,0);for(M=m.minX;M<=m.maxX;++M)for(D=m.minY;D<=m.maxY;++D)if(A=l.getTile(h,M,D,d,s),void 0===e.extent||(N=c.getTileCoordExtent(A.tileCoord,U),Z.a.intersects(N,e.extent))){if((L=A.getState())==G.a.LOADED||L==G.a.EMPTY||L==G.a.ERROR&&!k||(A=A.getInterimTile()),(L=A.getState())==G.a.LOADED){if(i.isTileTextureLoaded(A)){O[h][A.tileCoord.toString()]=A;continue}}else if(L==G.a.EMPTY||L==G.a.ERROR&&!k)continue;j=!1,c.forEachTileCoordParentTileRange(A.tileCoord,F,null,V,U)||(P=c.getTileCoordChildTileRange(A.tileCoord,V,U))&&F(h+1,P)}var B=Object.keys(O).map(Number);B.sort(I.a.numberSafeCompareFunction);var H,W,X,z,Y=new Float32Array(4);for(H=0,W=B.length;H<W;++H)for(X in z=O[B[H]])A=z[X],N=c.getTileCoordExtent(A.tileCoord,U),Y[0]=2*(N[2]-N[0])/x,Y[1]=2*(N[3]-N[1])/x,Y[2]=2*(N[0]-r[0])/x-1,Y[3]=2*(N[1]-r[1])/x-1,o.uniform4fv(this.locations_.u_tileOffset,Y),i.bindTileTexture(A,f,y*d,Pn.a.LINEAR,Pn.a.LINEAR),o.drawArrays(Pn.a.TRIANGLE_STRIP,0,4);j?(this.renderedTileRange_=m,this.renderedFramebufferExtent_=r,this.renderedRevision_=l.getRevision()):(this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,t.animate=!0)}this.updateUsedTiles(t.usedTiles,l,h,m);var K=i.getTileTextureQueue();this.manageTilePyramid(t,l,c,d,s,_,h,u.getPreload(),function(t){t.getState()!=G.a.LOADED||i.isTileTextureLoaded(t)||K.isKeyQueued(t.getKey())||K.enqueue([t,c.getTileCoordCenter(t.tileCoord),c.getResolution(t.tileCoord[0]),f,y*d])},this),this.scheduleExpireCache(t,l),this.updateLogos(t,l);var q=this.texCoordMatrix;return st.a.reset(q),st.a.translate(q,(Math.round(v[0]/p)*p-r[0])/(r[2]-r[0]),(Math.round(v[1]/p)*p-r[1])/(r[3]-r[1])),0!==a.rotation&&st.a.rotate(q,a.rotation),st.a.scale(q,t.size[0]*a.resolution/(r[2]-r[0]),t.size[1]*a.resolution/(r[3]-r[1])),st.a.translate(q,-.5,-.5),!0},Kr.prototype.forEachLayerAtPixel=function(t,e,n,r){if(this.framebuffer){var i=[t[0]/e.size[0],(e.size[1]-t[1])/e.size[1]],o=st.a.apply(this.texCoordMatrix,i.slice()),a=[o[0]*this.framebufferDimension,o[1]*this.framebufferDimension],s=this.mapRenderer.getContext().getGL();s.bindFramebuffer(s.FRAMEBUFFER,this.framebuffer);var u=new Uint8Array(4);return s.readPixels(a[0],a[1],1,1,s.RGBA,s.UNSIGNED_BYTE,u),u[3]>0?n.call(r,this.getLayer(),u):void 0}};var qr=Kr,Zr=function(t,e){Ur.call(this,t,e),this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Z.a.createEmpty(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.layerState_=null};r.a.inherits(Zr,Ur),Zr.handles=function(t,e){return t===ot.WEBGL&&e.getType()===fe.a.VECTOR},Zr.create=function(t,e){return new Zr(t,e)},Zr.prototype.composeFrame=function(t,e,n){this.layerState_=e;var r=t.viewState,i=this.replayGroup_,o=t.size,a=t.pixelRatio,s=this.mapRenderer.getGL();i&&!i.isEmpty()&&(s.enable(s.SCISSOR_TEST),s.scissor(0,0,o[0]*a,o[1]*a),i.replay(n,r.center,r.resolution,r.rotation,o,a,e.opacity,e.managed?t.skippedFeatureUids:{}),s.disable(s.SCISSOR_TEST))},Zr.prototype.disposeInternal=function(){var t=this.replayGroup_;if(t){var e=this.mapRenderer.getContext();t.getDeleteResourcesFunction(e)(),this.replayGroup_=null}Ur.prototype.disposeInternal.call(this)},Zr.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o){if(this.replayGroup_&&this.layerState_){var a=this.mapRenderer.getContext(),s=e.viewState,u=this.getLayer(),l=this.layerState_,c={};return this.replayGroup_.forEachFeatureAtCoordinate(t,a,s.center,s.resolution,s.rotation,e.size,e.pixelRatio,l.opacity,{},function(t){var e=r.a.getUid(t).toString();if(!(e in c))return c[e]=!0,i.call(o,t,u)})}},Zr.prototype.hasFeatureAtCoordinate=function(t,e){if(this.replayGroup_&&this.layerState_){var n=this.mapRenderer.getContext(),r=e.viewState,i=this.layerState_;return this.replayGroup_.hasFeatureAtCoordinate(t,n,r.center,r.resolution,r.rotation,e.size,e.pixelRatio,i.opacity,e.skippedFeatureUids)}return!1},Zr.prototype.forEachLayerAtPixel=function(t,e,n,r){var i=st.a.apply(e.pixelToCoordinateTransform,t.slice());return this.hasFeatureAtCoordinate(i,e)?n.call(r,this.getLayer(),null):void 0},Zr.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},Zr.prototype.prepareFrame=function(t,e,n){var r=this.getLayer(),i=r.getSource();this.updateLogos(t,i);var o=t.viewHints[K.a.ANIMATING],a=t.viewHints[K.a.INTERACTING],s=r.getUpdateWhileAnimating(),u=r.getUpdateWhileInteracting();if(!this.dirty_&&!s&&o||!u&&a)return!0;var l=t.extent,c=t.viewState,h=c.projection,p=c.resolution,f=t.pixelRatio,d=r.getRevision(),g=r.getRenderBuffer(),y=r.getRenderOrder();void 0===y&&(y=bn.defaultOrder);var v=Z.a.buffer(l,g*p);if(!this.dirty_&&this.renderedResolution_==p&&this.renderedRevision_==d&&this.renderedRenderOrder_==y&&Z.a.containsExtent(this.renderedExtent_,v))return!0;this.replayGroup_&&t.postRenderFunctions.push(this.replayGroup_.getDeleteResourcesFunction(n)),this.dirty_=!1;var _=new Lr(bn.getTolerance(p,f),v,r.getRenderBuffer());i.loadFeatures(v,p,h);var m=function(t){var e,n=t.getStyleFunction();if(n?e=n.call(t,p):(n=r.getStyleFunction())&&(e=n(t,p)),e){var i=this.renderFeature(t,p,f,e,_);this.dirty_=this.dirty_||i}};if(y){var E=[];i.forEachFeatureInExtent(v,function(t){E.push(t)},this),E.sort(y),E.forEach(m,this)}else i.forEachFeatureInExtent(v,m,this);return _.finish(n),this.renderedResolution_=p,this.renderedRevision_=d,this.renderedRenderOrder_=y,this.renderedExtent_=v,this.replayGroup_=_,!0},Zr.prototype.renderFeature=function(t,e,n,r,i){if(!r)return!1;var o=!1;if(Array.isArray(r))for(var a=r.length-1;a>=0;--a)o=bn.renderFeature(i,t,r[a],bn.getSquaredTolerance(e,n),this.handleStyleImageChange_,this)||o;else o=bn.renderFeature(i,t,r,bn.getSquaredTolerance(e,n),this.handleStyleImageChange_,this)||o;return o};var Jr=Zr;r.a.ENABLE_CANVAS&&(it.register(nt.MAP_RENDERER,Ge),it.registerMultiple(nt.LAYER_RENDERER,[Ne,He,Tn,In])),r.a.ENABLE_WEBGL&&(it.register(nt.MAP_RENDERER,Wr),it.registerMultiple(nt.LAYER_RENDERER,[Vr,qr,Jr]));var Qr=function(t){(t=B.a.assign({},t)).controls||(t.controls=bt.defaults()),t.interactions||(t.interactions=se.defaults()),lt.call(this,t)};r.a.inherits(Qr,lt);e.default=Qr},A6q1:function(t,e,n){"use strict";var r=n("CXX0"),i=n("sR3l"),o=n("/LWt"),a=n("V2dr"),s=n("RUSk"),u=n("yGLh"),l=n("Ae3H"),c=n("azsZ"),h=function(){i.a.call(this),this.extent_=o.a.createEmpty(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.tmpTransform_=c.a.create()};r.a.inherits(h,i.a),h.prototype.clone=function(){},h.prototype.closestPointXY=function(t,e,n,r){},h.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},h.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},h.prototype.computeExtent=function(t){},h.prototype.containsXY=a.a.FALSE,h.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),o.a.returnOrUpdate(this.extent_,t)},h.prototype.rotate=function(t,e){},h.prototype.scale=function(t,e,n){},h.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},h.prototype.getSimplifiedGeometry=function(t){},h.prototype.getType=function(){},h.prototype.applyTransform=function(t){},h.prototype.intersectsExtent=function(t){},h.prototype.translate=function(t,e){},h.prototype.transform=function(t,e){var n=this.tmpTransform_,r=(t=u.default.get(t)).getUnits()==l.a.TILE_PIXELS?function(r,i,a){var l=t.getExtent(),h=t.getWorldExtent(),p=o.a.getHeight(h)/o.a.getHeight(l);return c.a.compose(n,h[0],h[3],p,-p,0,0,0),s.a.transform2D(r,0,r.length,a,n,i),u.default.getTransform(t,e)(r,i,a)}:u.default.getTransform(t,e);return this.applyTransform(r),this},e.a=h},"AHF+":function(t,e,n){"use strict";e.a={IMAGE:"image",VECTOR:"vector"}},AMGY:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return o});var r="undefined"!=typeof window&&window,i="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,o=r||"undefined"!=typeof t&&t||i}).call(e,n("DuR2"))},Ae3H:function(t,e,n){"use strict";var r={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft",METERS_PER_UNIT:{}};r.METERS_PER_UNIT[r.DEGREES]=2*Math.PI*6370997/360,r.METERS_PER_UNIT[r.FEET]=.3048,r.METERS_PER_UNIT[r.METERS]=1,r.METERS_PER_UNIT[r.USFEET]=1200/3937,e.a=r},B1l7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CXX0"),i=n("LiKT"),o=n("sR3l"),a={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},s=n("CTDj"),u=n("w2Al"),l=n("6t+W"),c=n("/LWt"),h=function(t){o.a.call(this),this.options=t,this.id=t.id,this.insertFirst=void 0===t.insertFirst||t.insertFirst,this.stopEvent=void 0===t.stopEvent||t.stopEvent,this.element=document.createElement("DIV"),this.element.className=void 0!==t.className?t.className:"ol-overlay-container "+s.a.CLASS_SELECTABLE,this.element.style.position="absolute",this.autoPan=void 0!==t.autoPan&&t.autoPan,this.autoPanAnimation=t.autoPanAnimation||{},this.autoPanMargin=void 0!==t.autoPanMargin?t.autoPanMargin:20,this.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},this.mapPostrenderListenerKey=null,l.a.listen(this,o.a.getChangeEventType(h.Property.ELEMENT),this.handleElementChanged,this),l.a.listen(this,o.a.getChangeEventType(h.Property.MAP),this.handleMapChanged,this),l.a.listen(this,o.a.getChangeEventType(h.Property.OFFSET),this.handleOffsetChanged,this),l.a.listen(this,o.a.getChangeEventType(h.Property.POSITION),this.handlePositionChanged,this),l.a.listen(this,o.a.getChangeEventType(h.Property.POSITIONING),this.handlePositioningChanged,this),void 0!==t.element&&this.setElement(t.element),this.setOffset(void 0!==t.offset?t.offset:[0,0]),this.setPositioning(void 0!==t.positioning?t.positioning:a.TOP_LEFT),void 0!==t.position&&this.setPosition(t.position)};r.a.inherits(h,o.a),h.prototype.getElement=function(){return this.get(h.Property.ELEMENT)},h.prototype.getId=function(){return this.id},h.prototype.getMap=function(){return this.get(h.Property.MAP)},h.prototype.getOffset=function(){return this.get(h.Property.OFFSET)},h.prototype.getPosition=function(){return this.get(h.Property.POSITION)},h.prototype.getPositioning=function(){return this.get(h.Property.POSITIONING)},h.prototype.handleElementChanged=function(){u.a.removeChildren(this.element);var t=this.getElement();t&&this.element.appendChild(t)},h.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(u.a.removeNode(this.element),l.a.unlistenByKey(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=l.a.listen(t,i.a.POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element)}},h.prototype.render=function(){this.updatePixelPosition()},h.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},h.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(h.Property.POSITION)&&this.autoPan&&this.panIntoView()},h.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},h.prototype.setElement=function(t){this.set(h.Property.ELEMENT,t)},h.prototype.setMap=function(t){this.set(h.Property.MAP,t)},h.prototype.setOffset=function(t){this.set(h.Property.OFFSET,t)},h.prototype.setPosition=function(t){this.set(h.Property.POSITION,t)},h.prototype.panIntoView=function(){var t=this.getMap();if(t&&t.getTargetElement()){var e=this.getRect(t.getTargetElement(),t.getSize()),n=this.getElement(),r=this.getRect(n,[u.a.outerWidth(n),u.a.outerHeight(n)]),i=this.autoPanMargin;if(!c.a.containsExtent(e,r)){var o=r[0]-e[0],a=e[2]-r[2],s=r[1]-e[1],l=e[3]-r[3],h=[0,0];if(o<0?h[0]=o-i:a<0&&(h[0]=Math.abs(a)+i),s<0?h[1]=s-i:l<0&&(h[1]=Math.abs(l)+i),0!==h[0]||0!==h[1]){var p=t.getView().getCenter(),f=t.getPixelFromCoordinate(p),d=[f[0]+h[0],f[1]+h[1]];t.getView().animate({center:t.getCoordinateFromPixel(d),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},h.prototype.getRect=function(t,e){var n=t.getBoundingClientRect(),r=n.left+window.pageXOffset,i=n.top+window.pageYOffset;return[r,i,r+e[0],i+e[1]]},h.prototype.setPositioning=function(t){this.set(h.Property.POSITIONING,t)},h.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},h.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var n=t.getPixelFromCoordinate(e),r=t.getSize();this.updateRenderedPosition(n,r)}else this.setVisible(!1)},h.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,r=this.getOffset(),i=this.getPositioning();this.setVisible(!0);var o=r[0],s=r[1];if(i==a.BOTTOM_RIGHT||i==a.CENTER_RIGHT||i==a.TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_=n.left="");var u=Math.round(e[0]-t[0]-o)+"px";this.rendered.right_!=u&&(this.rendered.right_=n.right=u)}else{""!==this.rendered.right_&&(this.rendered.right_=n.right=""),i!=a.BOTTOM_CENTER&&i!=a.CENTER_CENTER&&i!=a.TOP_CENTER||(o-=this.element.offsetWidth/2);var l=Math.round(t[0]+o)+"px";this.rendered.left_!=l&&(this.rendered.left_=n.left=l)}if(i==a.BOTTOM_LEFT||i==a.BOTTOM_CENTER||i==a.BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_=n.top="");var c=Math.round(e[1]-t[1]-s)+"px";this.rendered.bottom_!=c&&(this.rendered.bottom_=n.bottom=c)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_=n.bottom=""),i!=a.CENTER_LEFT&&i!=a.CENTER_CENTER&&i!=a.CENTER_RIGHT||(s-=this.element.offsetHeight/2);var h=Math.round(t[1]+s)+"px";this.rendered.top_!=h&&(this.rendered.top_=n.top=h)}},h.prototype.getOptions=function(){return this.options},h.Property={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};e.default=h},BV9W:function(t,e,n){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3}},BX3T:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},CTDj:function(t,e,n){"use strict";var r,i,o={};o.CLASS_HIDDEN="ol-hidden",o.CLASS_SELECTABLE="ol-selectable",o.CLASS_UNSELECTABLE="ol-unselectable",o.CLASS_UNSUPPORTED="ol-unsupported",o.CLASS_CONTROL="ol-control",o.getFontFamilies=(i={},function(t){if(r||(r=document.createElement("div").style),!(t in i)){r.font=t;var e=r.fontFamily;if(r.font="",!e)return null;i[t]=e.split(/,\s?/)}return i[t]}),e.a=o},CXX0:function(t,e,n){"use strict";var r={ASSUME_TOUCH:!1,DEFAULT_MAX_ZOOM:42,DEFAULT_MIN_ZOOM:0,DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD:.5,DEFAULT_TILE_SIZE:256,DEFAULT_WMS_VERSION:"1.3.0",ENABLE_CANVAS:!0,ENABLE_PROJ4JS:!0,ENABLE_RASTER_REPROJECTION:!0,ENABLE_WEBGL:!0,DEBUG_WEBGL:!0,INITIAL_ATLAS_SIZE:256,MAX_ATLAS_SIZE:-1,MOUSEWHEELZOOM_MAXDELTA:1,OVERVIEWMAP_MAX_RATIO:.75,OVERVIEWMAP_MIN_RATIO:.1,RASTER_REPROJECTION_MAX_SOURCE_TILES:100,RASTER_REPROJECTION_MAX_SUBDIVISION:10,RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH:.25,SIMPLIFY_TOLERANCE:.5,WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK:1024,VERSION:"v4.6.5"};r.WEBGL_MAX_TEXTURE_SIZE,r.WEBGL_EXTENSIONS,r.inherits=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},r.nullFunction=function(){},r.getUid=function(t){return t.ol_uid||(t.ol_uid=++r.uidCounter_)},r.uidCounter_=0,e.a=r},DuR2:function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},"ECY+":function(t,e,n){"use strict";e.a={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"}},FeXB:function(t,e,n){"use strict";var r,i,o=n("OEyb"),a=n("o1z/"),s={};s.HEX_COLOR_RE_=/^#(?:[0-9a-f]{3,4}){1,2}$/i,s.NAMED_COLOR_RE_=/^([a-z]*)$/i,s.asArray=function(t){return Array.isArray(t)?t:s.fromString(t)},s.asString=function(t){return"string"==typeof t?t:s.toString(t)},s.fromNamed=function(t){var e=document.createElement("div");e.style.color=t,document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n},s.fromString=(r={},i=0,function(t){var e;if(r.hasOwnProperty(t))e=r[t];else{if(i>=1024){var n,o=0;for(n in r)0==(3&o++)&&(delete r[n],--i)}e=s.fromStringInternal_(t),r[t]=e,++i}return e}),s.fromStringInternal_=function(t){var e,n,r,i,a,u;if(s.NAMED_COLOR_RE_.exec(t)&&(t=s.fromNamed(t)),s.HEX_COLOR_RE_.exec(t)){var l,c=t.length-1;l=c<=4?1:2;var h=4===c||8===c;e=parseInt(t.substr(1+0*l,l),16),n=parseInt(t.substr(1+1*l,l),16),r=parseInt(t.substr(1+2*l,l),16),i=h?parseInt(t.substr(1+3*l,l),16):255,1==l&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,h&&(i=(i<<4)+i)),a=[e,n,r,i/255]}else 0==t.indexOf("rgba(")?(u=t.slice(5,-1).split(",").map(Number),a=s.normalize(u)):0==t.indexOf("rgb(")?((u=t.slice(4,-1).split(",").map(Number)).push(1),a=s.normalize(u)):o.a.assert(!1,14);return a},s.normalize=function(t,e){var n=e||[];return n[0]=a.a.clamp(t[0]+.5|0,0,255),n[1]=a.a.clamp(t[1]+.5|0,0,255),n[2]=a.a.clamp(t[2]+.5|0,0,255),n[3]=a.a.clamp(t[3],0,1),n},s.toString=function(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var r=t[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+e+","+n+","+r+","+(void 0===t[3]?1:t[3])+")"},e.a=s},Fzro:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"BrowserXhr",function(){return s}),n.d(e,"JSONPBackend",function(){return N}),n.d(e,"JSONPConnection",function(){return M}),n.d(e,"CookieXSRFStrategy",function(){return U}),n.d(e,"XHRBackend",function(){return G}),n.d(e,"XHRConnection",function(){return j}),n.d(e,"BaseRequestOptions",function(){return B}),n.d(e,"RequestOptions",function(){return V}),n.d(e,"BaseResponseOptions",function(){return g}),n.d(e,"ResponseOptions",function(){return d}),n.d(e,"ReadyState",function(){return l}),n.d(e,"RequestMethod",function(){return u}),n.d(e,"ResponseContentType",function(){return p}),n.d(e,"ResponseType",function(){return c}),n.d(e,"Headers",function(){return f}),n.d(e,"Http",function(){return J}),n.d(e,"Jsonp",function(){return Q}),n.d(e,"HttpModule",function(){return nt}),n.d(e,"JsonpModule",function(){return rt}),n.d(e,"Connection",function(){return v}),n.d(e,"ConnectionBackend",function(){return y}),n.d(e,"XSRFStrategy",function(){return _}),n.d(e,"Request",function(){return H}),n.d(e,"Response",function(){return w}),n.d(e,"QueryEncoder",function(){return C}),n.d(e,"URLSearchParams",function(){return x}),n.d(e,"VERSION",function(){return it}),n.d(e,"\u0275g",function(){return P}),n.d(e,"\u0275a",function(){return F}),n.d(e,"\u0275f",function(){return T}),n.d(e,"\u0275b",function(){return $}),n.d(e,"\u0275c",function(){return tt}),n.d(e,"\u0275d",function(){return et});var r=n("TToO"),i=n("3j3K"),o=n("YaPU"),a=n("Qbdm"),s=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t}();s.decorators=[{type:i.Injectable}],s.ctorParameters=function(){return[]};var u={Get:0,Post:1,Put:2,Delete:3,Options:4,Head:5,Patch:6};u[u.Get]="Get",u[u.Post]="Post",u[u.Put]="Put",u[u.Delete]="Delete",u[u.Options]="Options",u[u.Head]="Head",u[u.Patch]="Patch";var l={Unsent:0,Open:1,HeadersReceived:2,Loading:3,Done:4,Cancelled:5};l[l.Unsent]="Unsent",l[l.Open]="Open",l[l.HeadersReceived]="HeadersReceived",l[l.Loading]="Loading",l[l.Done]="Done",l[l.Cancelled]="Cancelled";var c={Basic:0,Cors:1,Default:2,Error:3,Opaque:4};c[c.Basic]="Basic",c[c.Cors]="Cors",c[c.Default]="Default",c[c.Error]="Error",c[c.Opaque]="Opaque";var h={NONE:0,JSON:1,FORM:2,FORM_DATA:3,TEXT:4,BLOB:5,ARRAY_BUFFER:6};h[h.NONE]="NONE",h[h.JSON]="JSON",h[h.FORM]="FORM",h[h.FORM_DATA]="FORM_DATA",h[h.TEXT]="TEXT",h[h.BLOB]="BLOB",h[h.ARRAY_BUFFER]="ARRAY_BUFFER";var p={Text:0,Json:1,ArrayBuffer:2,Blob:3};p[p.Text]="Text",p[p.Json]="Json",p[p.ArrayBuffer]="ArrayBuffer",p[p.Blob]="Blob";var f=function(){function t(e){var n=this;this._headers=new Map,this._normalizedNames=new Map,e&&(e instanceof t?e.forEach(function(t,e){t.forEach(function(t){return n.append(e,t)})}):Object.keys(e).forEach(function(t){var r=Array.isArray(e[t])?e[t]:[e[t]];n.delete(t),r.forEach(function(e){return n.append(t,e)})}))}return t.fromResponseHeaderString=function(e){var n=new t;return e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=t.slice(e+1).trim();n.set(r,i)}}),n},t.prototype.append=function(t,e){var n=this.getAll(t);null===n?this.set(t,e):n.push(e)},t.prototype.delete=function(t){var e=t.toLowerCase();this._normalizedNames.delete(e),this._headers.delete(e)},t.prototype.forEach=function(t){var e=this;this._headers.forEach(function(n,r){return t(n,e._normalizedNames.get(r),e._headers)})},t.prototype.get=function(t){var e=this.getAll(t);return null===e?null:e.length>0?e[0]:null},t.prototype.has=function(t){return this._headers.has(t.toLowerCase())},t.prototype.keys=function(){return Array.from(this._normalizedNames.values())},t.prototype.set=function(t,e){Array.isArray(e)?e.length&&this._headers.set(t.toLowerCase(),[e.join(",")]):this._headers.set(t.toLowerCase(),[e]),this.mayBeSetNormalizedName(t)},t.prototype.values=function(){return Array.from(this._headers.values())},t.prototype.toJSON=function(){var t=this,e={};return this._headers.forEach(function(n,r){var i=[];n.forEach(function(t){return i.push.apply(i,t.split(","))}),e[t._normalizedNames.get(r)]=i}),e},t.prototype.getAll=function(t){return this.has(t)&&this._headers.get(t.toLowerCase())||null},t.prototype.entries=function(){throw new Error('"entries" method is not implemented on Headers class')},t.prototype.mayBeSetNormalizedName=function(t){var e=t.toLowerCase();this._normalizedNames.has(e)||this._normalizedNames.set(e,t)},t}(),d=function(){function t(t){void 0===t&&(t={});var e=t.body,n=t.status,r=t.headers,i=t.statusText,o=t.type,a=t.url;this.body=null!=e?e:null,this.status=null!=n?n:null,this.headers=null!=r?r:null,this.statusText=null!=i?i:null,this.type=null!=o?o:null,this.url=null!=a?a:null}return t.prototype.merge=function(e){return new t({body:e&&null!=e.body?e.body:this.body,status:e&&null!=e.status?e.status:this.status,headers:e&&null!=e.headers?e.headers:this.headers,statusText:e&&null!=e.statusText?e.statusText:this.statusText,type:e&&null!=e.type?e.type:this.type,url:e&&null!=e.url?e.url:this.url})},t}(),g=function(t){function e(){return t.call(this,{status:200,statusText:"Ok",type:c.Default,headers:new f})||this}return r.a(e,t),e}(d);g.decorators=[{type:i.Injectable}],g.ctorParameters=function(){return[]};var y=function(){function t(){}return t.prototype.createConnection=function(t){},t}(),v=function(){return function(){}}(),_=function(){function t(){}return t.prototype.configureRequest=function(t){},t}();function m(t){if("string"!=typeof t)return t;switch(t.toUpperCase()){case"GET":return u.Get;case"POST":return u.Post;case"PUT":return u.Put;case"DELETE":return u.Delete;case"OPTIONS":return u.Options;case"HEAD":return u.Head;case"PATCH":return u.Patch}throw new Error('Invalid request method. The method "'+t+'" is not supported.')}var E=function(t){return t>=200&&t<300};var C=function(){function t(){}return t.prototype.encodeKey=function(t){return b(t)},t.prototype.encodeValue=function(t){return b(t)},t}();function b(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var x=function(){function t(t,e){void 0===t&&(t=""),void 0===e&&(e=new C),this.rawParams=t,this.queryEncoder=e,this.paramsMap=function(t){void 0===t&&(t="");var e=new Map;return t.length>0&&t.split("&").forEach(function(t){var n=t.indexOf("="),r=-1==n?[t,""]:[t.slice(0,n),t.slice(n+1)],i=r[0],o=r[1],a=e.get(i)||[];a.push(o),e.set(i,a)}),e}(t)}return t.prototype.clone=function(){var e=new t("",this.queryEncoder);return e.appendAll(this),e},t.prototype.has=function(t){return this.paramsMap.has(t)},t.prototype.get=function(t){var e=this.paramsMap.get(t);return Array.isArray(e)?e[0]:null},t.prototype.getAll=function(t){return this.paramsMap.get(t)||[]},t.prototype.set=function(t,e){if(void 0!==e&&null!==e){var n=this.paramsMap.get(t)||[];n.length=0,n.push(e),this.paramsMap.set(t,n)}else this.delete(t)},t.prototype.setAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){var r=e.paramsMap.get(n)||[];r.length=0,r.push(t[0]),e.paramsMap.set(n,r)})},t.prototype.append=function(t,e){if(void 0!==e&&null!==e){var n=this.paramsMap.get(t)||[];n.push(e),this.paramsMap.set(t,n)}},t.prototype.appendAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){for(var r=e.paramsMap.get(n)||[],i=0;i<t.length;++i)r.push(t[i]);e.paramsMap.set(n,r)})},t.prototype.replaceAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){var r=e.paramsMap.get(n)||[];r.length=0;for(var i=0;i<t.length;++i)r.push(t[i]);e.paramsMap.set(n,r)})},t.prototype.toString=function(){var t=this,e=[];return this.paramsMap.forEach(function(n,r){n.forEach(function(n){return e.push(t.queryEncoder.encodeKey(r)+"="+t.queryEncoder.encodeValue(n))})}),e.join("&")},t.prototype.delete=function(t){this.paramsMap.delete(t)},t}(),T=function(){function t(){}return t.prototype.json=function(){return"string"==typeof this._body?JSON.parse(this._body):this._body instanceof ArrayBuffer?JSON.parse(this.text()):this._body},t.prototype.text=function(t){if(void 0===t&&(t="legacy"),this._body instanceof x)return this._body.toString();if(this._body instanceof ArrayBuffer)switch(t){case"legacy":return String.fromCharCode.apply(null,new Uint16Array(this._body));case"iso-8859":return String.fromCharCode.apply(null,new Uint8Array(this._body));default:throw new Error("Invalid value for encodingHint: "+t)}return null==this._body?"":"object"==typeof this._body?JSON.stringify(this._body,null,2):this._body.toString()},t.prototype.arrayBuffer=function(){return this._body instanceof ArrayBuffer?this._body:function(t){for(var e=new Uint16Array(t.length),n=0,r=t.length;n<r;n++)e[n]=t.charCodeAt(n);return e.buffer}(this.text())},t.prototype.blob=function(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw new Error("The request body isn't either a blob or an array buffer")},t}(),w=function(t){function e(e){var n=t.call(this)||this;return n._body=e.body,n.status=e.status,n.ok=n.status>=200&&n.status<=299,n.statusText=e.statusText,n.headers=e.headers,n.type=e.type,n.url=e.url,n}return r.a(e,t),e.prototype.toString=function(){return"Response with status: "+this.status+" "+this.statusText+" for URL: "+this.url},e}(T),R=0,S="__ng_jsonp__",O=null;function I(){var t="object"==typeof window?window:{};return null===O&&(O=t[S]={}),O}var P=function(){function t(){}return t.prototype.build=function(t){var e=document.createElement("script");return e.src=t,e},t.prototype.nextRequestID=function(){return"__req"+R++},t.prototype.requestCallback=function(t){return S+"."+t+".finished"},t.prototype.exposeConnection=function(t,e){I()[t]=e},t.prototype.removeConnection=function(t){I()[t]=null},t.prototype.send=function(t){document.body.appendChild(t)},t.prototype.cleanup=function(t){t.parentNode&&t.parentNode.removeChild(t)},t}();P.decorators=[{type:i.Injectable}],P.ctorParameters=function(){return[]};var A="JSONP injected script did not invoke callback.",L="JSONP requests must use GET request method.",M=function(){function t(){}return t.prototype.finished=function(t){},t}(),D=function(t){function e(e,n,r){var i=t.call(this)||this;if(i._dom=n,i.baseResponseOptions=r,i._finished=!1,e.method!==u.Get)throw new TypeError(L);return i.request=e,i.response=new o.a(function(t){i.readyState=l.Loading;var o=i._id=n.nextRequestID();n.exposeConnection(o,i);var a=n.requestCallback(i._id),s=e.url;s.indexOf("=JSONP_CALLBACK&")>-1?s=s.replace("=JSONP_CALLBACK&","="+a+"&"):s.lastIndexOf("=JSONP_CALLBACK")===s.length-"=JSONP_CALLBACK".length&&(s=s.substring(0,s.length-"=JSONP_CALLBACK".length)+"="+a);var u=i._script=n.build(s),h=function(e){if(i.readyState!==l.Cancelled){if(i.readyState=l.Done,n.cleanup(u),!i._finished){var o=new d({body:A,type:c.Error,url:s});return r&&(o=r.merge(o)),void t.error(new w(o))}var a=new d({body:i._responseData,url:s});i.baseResponseOptions&&(a=i.baseResponseOptions.merge(a)),t.next(new w(a)),t.complete()}},p=function(e){if(i.readyState!==l.Cancelled){i.readyState=l.Done,n.cleanup(u);var o=new d({body:e.message,type:c.Error});r&&(o=r.merge(o)),t.error(new w(o))}};return u.addEventListener("load",h),u.addEventListener("error",p),n.send(u),function(){i.readyState=l.Cancelled,u.removeEventListener("load",h),u.removeEventListener("error",p),i._dom.cleanup(u)}}),i}return r.a(e,t),e.prototype.finished=function(t){this._finished=!0,this._dom.removeConnection(this._id),this.readyState!==l.Cancelled&&(this._responseData=t)},e}(M),N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e}(y),F=function(t){function e(e,n){var r=t.call(this)||this;return r._browserJSONP=e,r._baseResponseOptions=n,r}return r.a(e,t),e.prototype.createConnection=function(t){return new D(t,this._browserJSONP,this._baseResponseOptions)},e}(N);F.decorators=[{type:i.Injectable}],F.ctorParameters=function(){return[{type:P},{type:d}]};var k=/^\)\]\}',?\n/,j=function(){function t(t,e,n){var r=this;this.request=t,this.response=new o.a(function(i){var o=e.build();o.open(u[t.method].toUpperCase(),t.url),null!=t.withCredentials&&(o.withCredentials=t.withCredentials);var a=function(){var e=1223===o.status?204:o.status,r=null;204!==e&&"string"==typeof(r="undefined"==typeof o.response?o.responseText:o.response)&&(r=r.replace(k,"")),0===e&&(e=r?200:0);var a,s=f.fromResponseHeaderString(o.getAllResponseHeaders()),u=("responseURL"in(a=o)?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):null)||t.url,l=o.statusText||"OK",c=new d({body:r,status:e,headers:s,statusText:l,url:u});null!=n&&(c=n.merge(c));var h=new w(c);if(h.ok=E(e),h.ok)return i.next(h),void i.complete();i.error(h)},s=function(t){var e=new d({body:t,type:c.Error,status:o.status,statusText:o.statusText});null!=n&&(e=n.merge(e)),i.error(new w(e))};if(r.setDetectedContentType(t,o),null==t.headers&&(t.headers=new f),t.headers.has("Accept")||t.headers.append("Accept","application/json, text/plain, */*"),t.headers.forEach(function(t,e){return o.setRequestHeader(e,t.join(","))}),null!=t.responseType&&null!=o.responseType)switch(t.responseType){case p.ArrayBuffer:o.responseType="arraybuffer";break;case p.Json:o.responseType="json";break;case p.Text:o.responseType="text";break;case p.Blob:o.responseType="blob";break;default:throw new Error("The selected responseType is not supported")}return o.addEventListener("load",a),o.addEventListener("error",s),o.send(r.request.getBody()),function(){o.removeEventListener("load",a),o.removeEventListener("error",s),o.abort()}})}return t.prototype.setDetectedContentType=function(t,e){if(null==t.headers||null==t.headers.get("Content-Type"))switch(t.contentType){case h.NONE:break;case h.JSON:e.setRequestHeader("content-type","application/json");break;case h.FORM:e.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8");break;case h.TEXT:e.setRequestHeader("content-type","text/plain");break;case h.BLOB:var n=t.blob();n.type&&e.setRequestHeader("content-type",n.type)}},t}(),U=function(){function t(t,e){void 0===t&&(t="XSRF-TOKEN"),void 0===e&&(e="X-XSRF-TOKEN"),this._cookieName=t,this._headerName=e}return t.prototype.configureRequest=function(t){var e=Object(a["\u0275getDOM"])().getCookie(this._cookieName);e&&t.headers.set(this._headerName,e)},t}(),G=function(){function t(t,e,n){this._browserXHR=t,this._baseResponseOptions=e,this._xsrfStrategy=n}return t.prototype.createConnection=function(t){return this._xsrfStrategy.configureRequest(t),new j(t,this._browserXHR,this._baseResponseOptions)},t}();G.decorators=[{type:i.Injectable}],G.ctorParameters=function(){return[{type:s},{type:d},{type:_}]};var V=function(){function t(t){void 0===t&&(t={});var e=t.method,n=t.headers,r=t.body,i=t.url,o=t.search,a=t.params,s=t.withCredentials,u=t.responseType;this.method=null!=e?m(e):null,this.headers=null!=n?n:null,this.body=null!=r?r:null,this.url=null!=i?i:null,this.params=this._mergeSearchParams(a||o),this.withCredentials=null!=s?s:null,this.responseType=null!=u?u:null}return Object.defineProperty(t.prototype,"search",{get:function(){return this.params},set:function(t){this.params=t},enumerable:!0,configurable:!0}),t.prototype.merge=function(e){return new t({method:e&&null!=e.method?e.method:this.method,headers:e&&null!=e.headers?e.headers:new f(this.headers),body:e&&null!=e.body?e.body:this.body,url:e&&null!=e.url?e.url:this.url,params:e&&this._mergeSearchParams(e.params||e.search),withCredentials:e&&null!=e.withCredentials?e.withCredentials:this.withCredentials,responseType:e&&null!=e.responseType?e.responseType:this.responseType})},t.prototype._mergeSearchParams=function(t){return t?t instanceof x?t.clone():"string"==typeof t?new x(t):this._parseParams(t):this.params},t.prototype._parseParams=function(t){var e=this;void 0===t&&(t={});var n=new x;return Object.keys(t).forEach(function(r){var i=t[r];Array.isArray(i)?i.forEach(function(t){return e._appendParam(r,t,n)}):e._appendParam(r,i,n)}),n},t.prototype._appendParam=function(t,e,n){"string"!=typeof e&&(e=JSON.stringify(e)),n.append(t,e)},t}(),B=function(t){function e(){return t.call(this,{method:u.Get,headers:new f})||this}return r.a(e,t),e}(V);B.decorators=[{type:i.Injectable}],B.ctorParameters=function(){return[]};var H=function(t){function e(e){var n=t.call(this)||this,r=e.url;n.url=e.url;var i=e.params||e.search;if(i){var o=void 0;if((o="object"!=typeof i||i instanceof x?i.toString():function(t){var e=new x;return Object.keys(t).forEach(function(n){var r=t[n];r&&Array.isArray(r)?r.forEach(function(t){return e.append(n,t.toString())}):e.append(n,r.toString())}),e}(i).toString()).length>0){var a="?";-1!=n.url.indexOf("?")&&(a="&"==n.url[n.url.length-1]?"":"&"),n.url=r+a+o}}return n._body=e.body,n.method=m(e.method),n.headers=new f(e.headers),n.contentType=n.detectContentType(),n.withCredentials=e.withCredentials,n.responseType=e.responseType,n}return r.a(e,t),e.prototype.detectContentType=function(){switch(this.headers.get("content-type")){case"application/json":return h.JSON;case"application/x-www-form-urlencoded":return h.FORM;case"multipart/form-data":return h.FORM_DATA;case"text/plain":case"text/html":return h.TEXT;case"application/octet-stream":return this._body instanceof K?h.ARRAY_BUFFER:h.BLOB;default:return this.detectContentTypeFromBody()}},e.prototype.detectContentTypeFromBody=function(){return null==this._body?h.NONE:this._body instanceof x?h.FORM:this._body instanceof z?h.FORM_DATA:this._body instanceof Y?h.BLOB:this._body instanceof K?h.ARRAY_BUFFER:this._body&&"object"==typeof this._body?h.JSON:h.TEXT},e.prototype.getBody=function(){switch(this.contentType){case h.JSON:case h.FORM:return this.text();case h.FORM_DATA:return this._body;case h.TEXT:return this.text();case h.BLOB:return this.blob();case h.ARRAY_BUFFER:return this.arrayBuffer();default:return null}},e}(T);var W=function(){},X="object"==typeof window?window:W,z=X.FormData||W,Y=X.Blob||W,K=X.ArrayBuffer||W;function q(t,e){return t.createConnection(e).response}function Z(t,e,n,r){var i=t;return e?i.merge(new V({method:e.method||n,url:e.url||r,search:e.search,params:e.params,headers:e.headers,body:e.body,withCredentials:e.withCredentials,responseType:e.responseType})):i.merge(new V({method:n,url:r}))}var J=function(){function t(t,e){this._backend=t,this._defaultOptions=e}return t.prototype.request=function(t,e){var n;if("string"==typeof t)n=q(this._backend,new H(Z(this._defaultOptions,e,u.Get,t)));else{if(!(t instanceof H))throw new Error("First argument must be a url string or Request instance.");n=q(this._backend,t)}return n},t.prototype.get=function(t,e){return this.request(new H(Z(this._defaultOptions,e,u.Get,t)))},t.prototype.post=function(t,e,n){return this.request(new H(Z(this._defaultOptions.merge(new V({body:e})),n,u.Post,t)))},t.prototype.put=function(t,e,n){return this.request(new H(Z(this._defaultOptions.merge(new V({body:e})),n,u.Put,t)))},t.prototype.delete=function(t,e){return this.request(new H(Z(this._defaultOptions,e,u.Delete,t)))},t.prototype.patch=function(t,e,n){return this.request(new H(Z(this._defaultOptions.merge(new V({body:e})),n,u.Patch,t)))},t.prototype.head=function(t,e){return this.request(new H(Z(this._defaultOptions,e,u.Head,t)))},t.prototype.options=function(t,e){return this.request(new H(Z(this._defaultOptions,e,u.Options,t)))},t}();J.decorators=[{type:i.Injectable}],J.ctorParameters=function(){return[{type:y},{type:V}]};var Q=function(t){function e(e,n){return t.call(this,e,n)||this}return r.a(e,t),e.prototype.request=function(t,e){if("string"==typeof t&&(t=new H(Z(this._defaultOptions,e,u.Get,t))),!(t instanceof H))throw new Error("First argument must be a url string or Request instance.");if(t.method!==u.Get)throw new Error("JSONP requests must use GET request method.");return q(this._backend,t)},e}(J);function $(){return new U}function tt(t,e){return new J(t,e)}function et(t,e){return new Q(t,e)}Q.decorators=[{type:i.Injectable}],Q.ctorParameters=function(){return[{type:y},{type:V}]};var nt=function(){return function(){}}();nt.decorators=[{type:i.NgModule,args:[{providers:[{provide:J,useFactory:tt,deps:[G,V]},s,{provide:V,useClass:B},{provide:d,useClass:g},G,{provide:_,useFactory:$}]}]}],nt.ctorParameters=function(){return[]};var rt=function(){return function(){}}();rt.decorators=[{type:i.NgModule,args:[{providers:[{provide:Q,useFactory:et,deps:[N,V]},P,{provide:V,useClass:B},{provide:d,useClass:g},{provide:N,useClass:F}]}]}],rt.ctorParameters=function(){return[]};var it=new i.Version("4.4.6")},ILa1:function(t,e,n){"use strict";function r(t,e,n,r,a){!function t(e,n,r,o,a){for(;o>r;){if(o-r>600){var s=o-r+1,u=n-r+1,l=Math.log(s),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1),p=Math.max(r,Math.floor(n-u*c/s+h)),f=Math.min(o,Math.floor(n+(s-u)*c/s+h));t(e,n,p,f,a)}var d=e[n],g=r,y=o;for(i(e,r,n),a(e[o],d)>0&&i(e,r,o);g<y;){for(i(e,g,y),g++,y--;a(e[g],d)<0;)g++;for(;a(e[y],d)>0;)y--}0===a(e[r],d)?i(e,r,y):i(e,++y,o),y<=n&&(r=y+1),n<=y&&(o=y-1)}}(t,e,n||0,r||t.length-1,a||o)}function i(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function o(t,e){return t<e?-1:t>e?1:0}t.exports=r,t.exports.default=r},IZoy:function(t,e,n){"use strict";var r=n("o1z/"),i={padNumber:function(t,e,n){var r=void 0!==n?t.toFixed(n):""+t,i=r.indexOf(".");return(i=-1===i?r.length:i)>e?r:new Array(1+e-i).join("0")+r},compareVersions:function(t,e){for(var n=(""+t).split("."),r=(""+e).split("."),i=0;i<Math.max(n.length,r.length);i++){var o=parseInt(n[i]||"0",10),a=parseInt(r[i]||"0",10);if(o>a)return 1;if(a>o)return-1}return 0}},o=i,a={add:function(t,e){return t[0]+=e[0],t[1]+=e[1],t},closestOnCircle:function(t,e){var n=e.getRadius(),r=e.getCenter(),i=r[0],o=r[1],a=t[0]-i,s=t[1]-o;0===a&&0===s&&(a=1);var u=Math.sqrt(a*a+s*s);return[i+n*a/u,o+n*s/u]},closestOnSegment:function(t,e){var n,r,i=t[0],o=t[1],a=e[0],s=e[1],u=a[0],l=a[1],c=s[0],h=s[1],p=c-u,f=h-l,d=0===p&&0===f?0:(p*(i-u)+f*(o-l))/(p*p+f*f||0);return d<=0?(n=u,r=l):d>=1?(n=c,r=h):(n=u+d*p,r=l+d*f),[n,r]},createStringXY:function(t){return function(e){return a.toStringXY(e,t)}},degreesToStringHDMS:function(t,e,n){var i=r.a.modulo(e+180,360)-180,a=Math.abs(3600*i),s=n||0,u=Math.pow(10,s),l=Math.floor(a/3600),c=Math.floor((a-3600*l)/60),h=a-3600*l-60*c;return(h=Math.ceil(h*u)/u)>=60&&(h=0,c+=1),c>=60&&(c=0,l+=1),l+"\xb0 "+o.padNumber(c,2)+"\u2032 "+o.padNumber(h,2,s)+"\u2033"+(0==i?"":" "+t.charAt(i<0?1:0))},format:function(t,e,n){return t?e.replace("{x}",t[0].toFixed(n)).replace("{y}",t[1].toFixed(n)):""},equals:function(t,e){for(var n=!0,r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n},rotate:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=t[0]*n-t[1]*r,o=t[1]*n+t[0]*r;return t[0]=i,t[1]=o,t},scale:function(t,e){return t[0]*=e,t[1]*=e,t},sub:function(t,e){return t[0]-=e[0],t[1]-=e[1],t},squaredDistance:function(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r},distance:function(t,e){return Math.sqrt(a.squaredDistance(t,e))},squaredDistanceToSegment:function(t,e){return a.squaredDistance(t,a.closestOnSegment(t,e))},toStringHDMS:function(t,e){return t?a.degreesToStringHDMS("NS",t[1],e)+" "+a.degreesToStringHDMS("EW",t[0],e):""},toStringXY:function(t,e){return a.format(t,"{x}, {y}",e)}};e.a=a},J25b:function(t,e,n){"use strict";var r=function(t){this.propagationStopped,this.type=t,this.target=null};r.prototype.preventDefault=r.prototype.stopPropagation=function(){this.propagationStopped=!0},r.stopPropagation=function(t){t.stopPropagation()},r.preventDefault=function(t){t.preventDefault()},e.a=r},Jopg:function(t,e,n){"use strict";e.a={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render"}},JouG:function(t,e,n){"use strict";var r={ONE:1,SRC_ALPHA:770,COLOR_ATTACHMENT0:36064,COLOR_BUFFER_BIT:16384,TRIANGLES:4,TRIANGLE_STRIP:5,ONE_MINUS_SRC_ALPHA:771,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,CULL_FACE:2884,BLEND:3042,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_INT:5125,FLOAT:5126,RGBA:6408,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,LINK_STATUS:35714,LINEAR:9729,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE0:33984,CLAMP_TO_EDGE:33071,COMPILE_STATUS:35713,FRAMEBUFFER:36160,CONTEXT_IDS_:["experimental-webgl","webgl","webkit-3d","moz-webgl"],getContext:function(t,e){var n,i,o=r.CONTEXT_IDS_.length;for(i=0;i<o;++i)try{if(n=t.getContext(r.CONTEXT_IDS_[i],e))return n}catch(t){}return null}};e.a=r},KUw0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CXX0"),i=n("zF6X"),o=n("/LWt"),a=n("aStr"),s=n("U/IR"),u=n("f5c8"),l=n("bmSR"),c=n("hrLW"),h=n("wupX"),p=n("o1z/"),f={lineString:function(t,e,n,r,o,a){var s=NaN,u=NaN,l=(n-e)/r;if(1===l)s=t[e],u=t[e+1];else if(2==l)s=(1-o)*t[e]+o*t[e+r],u=(1-o)*t[e+1]+o*t[e+r+1];else if(0!==l){var c,h=t[e],f=t[e+1],d=0,g=[0];for(c=e+r;c<n;c+=r){var y=t[c],v=t[c+1];d+=Math.sqrt((y-h)*(y-h)+(v-f)*(v-f)),g.push(d),h=y,f=v}var _=o*d,m=i.a.binarySearch(g,_);if(m<0){var E=(_-g[-m-2])/(g[-m-1]-g[-m-2]),C=e+(-m-2)*r;s=p.a.lerp(t[C],t[C+r],E),u=p.a.lerp(t[C+1],t[C+r+1],E)}else s=t[e+m*r],u=t[e+m*r+1]}return a?(a[0]=s,a[1]=u,a):[s,u]},lineStringCoordinateAtM:function(t,e,n,r,i,o){if(n==e)return null;var a;if(i<t[e+r-1])return o?((a=t.slice(e,e+r))[r-1]=i,a):null;if(t[n-1]<i)return o?((a=t.slice(n-r,n))[r-1]=i,a):null;if(i==t[e+r-1])return t.slice(e,e+r);for(var s=e/r,u=n/r;s<u;){var l=s+u>>1;i<t[(l+1)*r-1]?u=l:s=l+1}var c=t[s*r-1];if(i==c)return t.slice((s-1)*r,(s-1)*r+r);var h,f=(i-c)/(t[(s+1)*r-1]-c);for(a=[],h=0;h<r-1;++h)a.push(p.a.lerp(t[(s-1)*r+h],t[s*r+h],f));return a.push(i),a},lineStringsCoordinateAtM:function(t,e,n,r,i,o,a){if(a)return f.lineStringCoordinateAtM(t,e,n[n.length-1],r,i,o);var s,u,l;if(i<t[r-1])return o?((s=t.slice(0,r))[r-1]=i,s):null;if(t[t.length-1]<i)return o?((s=t.slice(t.length-r))[r-1]=i,s):null;for(u=0,l=n.length;u<l;++u){var c=n[u];if(e!=c){if(i<t[e+r-1])return null;if(i<=t[c-1])return f.lineStringCoordinateAtM(t,e,c,r,i,!1);e=c}}return null}},d=f,g=n("pWpL"),y=n("3ahG"),v=n("vkQb"),_=n("LmAy"),m=function(t,e){u.a.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(t,e)};r.a.inherits(m,u.a),m.prototype.appendCoordinate=function(t){this.flatCoordinates?i.a.extend(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},m.prototype.clone=function(){var t=new m(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),t},m.prototype.closestPointXY=function(t,e,n,r){return r<o.a.closestSquaredDistanceXY(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(l.a.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),l.a.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,r))},m.prototype.forEachSegment=function(t,e){return v.a.forEach(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},m.prototype.getCoordinateAtM=function(t,e){if(this.layout!=a.a.XYM&&this.layout!=a.a.XYZM)return null;var n=void 0!==e&&e;return d.lineStringCoordinateAtM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},m.prototype.getCoordinates=function(){return h.a.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},m.prototype.getCoordinateAt=function(t,e){return d.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},m.prototype.getLength=function(){return y.a.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},m.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},m.prototype.getSimplifiedGeometryInternal=function(t){var e=[];e.length=_.a.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0);var n=new m(null);return n.setFlatCoordinates(a.a.XY,e),n},m.prototype.getType=function(){return s.a.LINE_STRING},m.prototype.intersectsExtent=function(t){return g.a.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},m.prototype.setCoordinates=function(t,e){t?(this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=c.a.coordinates(this.flatCoordinates,0,t,this.stride),this.changed()):this.setFlatCoordinates(a.a.XY,null)},m.prototype.setFlatCoordinates=function(t,e){this.setFlatCoordinatesInternal(t,e),this.changed()};e.default=m},KdFd:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"HttpBackend",function(){return p}),n.d(e,"HttpHandler",function(){return h}),n.d(e,"HttpClient",function(){return S}),n.d(e,"HttpHeaders",function(){return y}),n.d(e,"HTTP_INTERCEPTORS",function(){return I}),n.d(e,"JsonpClientBackend",function(){return M}),n.d(e,"JsonpInterceptor",function(){return D}),n.d(e,"HttpClientJsonpModule",function(){return K}),n.d(e,"HttpClientModule",function(){return Y}),n.d(e,"HttpClientXsrfModule",function(){return z}),n.d(e,"\u0275interceptingHandler",function(){return W}),n.d(e,"HttpParams",function(){return g}),n.d(e,"HttpUrlEncodingCodec",function(){return f}),n.d(e,"HttpRequest",function(){return E}),n.d(e,"HttpErrorResponse",function(){return w}),n.d(e,"HttpEventType",function(){return C}),n.d(e,"HttpHeaderResponse",function(){return x}),n.d(e,"HttpResponse",function(){return T}),n.d(e,"HttpResponseBase",function(){return b}),n.d(e,"HttpXhrBackend",function(){return j}),n.d(e,"XhrFactory",function(){return F}),n.d(e,"HttpXsrfTokenExtractor",function(){return V}),n.d(e,"\u0275a",function(){return P}),n.d(e,"\u0275b",function(){return L}),n.d(e,"\u0275c",function(){return X}),n.d(e,"\u0275d",function(){return k}),n.d(e,"\u0275g",function(){return B}),n.d(e,"\u0275h",function(){return H}),n.d(e,"\u0275e",function(){return U}),n.d(e,"\u0275f",function(){return G});var r=n("TToO"),i=n("3j3K"),o=n("YWe0"),a=n("z+iw"),s=n("Uw6n"),u=n("gL+p"),l=n("2Je8"),c=n("YaPU"),h=function(){function t(){}return t.prototype.handle=function(t){},t}(),p=function(){function t(){}return t.prototype.handle=function(t){},t}(),f=function(){function t(){}return t.prototype.encodeKey=function(t){return d(t)},t.prototype.encodeValue=function(t){return d(t)},t.prototype.decodeKey=function(t){return decodeURIComponent(t)},t.prototype.decodeValue=function(t){return decodeURIComponent(t)},t}();function d(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var g=function(){function t(t){var e,n,r;void 0===t&&(t={}),this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new f,this.map=t.fromString?(e=t.fromString,n=this.encoder,r=new Map,e.length>0&&e.split("&").forEach(function(t){var e=t.indexOf("="),i=-1==e?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,e)),n.decodeValue(t.slice(e+1))],o=i[0],a=i[1],s=r.get(o)||[];s.push(a),r.set(o,s)}),r):null}return t.prototype.has=function(t){return this.init(),this.map.has(t)},t.prototype.get=function(t){this.init();var e=this.map.get(t);return e?e[0]:null},t.prototype.getAll=function(t){return this.init(),this.map.get(t)||null},t.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},t.prototype.append=function(t,e){return this.clone({param:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({param:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({param:t,value:e,op:"d"})},t.prototype.toString=function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).join("&")},t.prototype.clone=function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n},t.prototype.init=function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}}),this.cloneFrom=null)},t}(),y=function(){function t(t){var e=this;this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){e.headers=new Map,t.split("\n").forEach(function(t){var n=t.indexOf(":");if(n>0){var r=t.slice(0,n),i=r.toLowerCase(),o=t.slice(n+1).trim();e.maybeSetNormalizedName(r,i),e.headers.has(i)?e.headers.get(i).push(o):e.headers.set(i,[o])}})}:function(){e.headers=new Map,Object.keys(t).forEach(function(n){var r=t[n],i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(e.headers.set(i,r),e.maybeSetNormalizedName(n,i))})}:this.headers=new Map}return t.prototype.has=function(t){return this.init(),this.headers.has(t.toLowerCase())},t.prototype.get=function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null},t.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},t.prototype.getAll=function(t){return this.init(),this.headers.get(t.toLowerCase())||null},t.prototype.append=function(t,e){return this.clone({name:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({name:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({name:t,value:e,op:"d"})},t.prototype.maybeSetNormalizedName=function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)},t.prototype.init=function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))},t.prototype.copyFrom=function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})},t.prototype.clone=function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n},t.prototype.applyUpdate=function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,n),this.headers.set(e,r);break;case"d":var i=t.value;if(i){var o=this.headers.get(e);if(!o)return;0===(o=o.filter(function(t){return-1===i.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}},t.prototype.forEach=function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})},t}();function v(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function _(t){return"undefined"!=typeof Blob&&t instanceof Blob}function m(t){return"undefined"!=typeof FormData&&t instanceof FormData}var E=function(){function t(t,e,n,r){var i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=n||null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new y),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{var a=e.indexOf("?"),s=-1===a?"?":a<e.length-1?"&":"";this.urlWithParams=e+s+o}}else this.params=new g,this.urlWithParams=e}return t.prototype.serializeBody=function(){return null===this.body?null:v(this.body)||_(this.body)||m(this.body)||"string"==typeof this.body?this.body:this.body instanceof g?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},t.prototype.detectContentTypeHeader=function(){return null===this.body?null:m(this.body)?null:_(this.body)?this.body.type||null:v(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof g?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null},t.prototype.clone=function(e){void 0===e&&(e={});var n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce(function(t,n){return t.set(n,e.setHeaders[n])},u)),e.setParams&&(l=Object.keys(e.setParams).reduce(function(t,n){return t.set(n,e.setParams[n])},l)),new t(n,r,o,{params:l,headers:u,reportProgress:s,responseType:i,withCredentials:a})},t}(),C={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};C[C.Sent]="Sent",C[C.UploadProgress]="UploadProgress",C[C.ResponseHeader]="ResponseHeader",C[C.DownloadProgress]="DownloadProgress",C[C.Response]="Response",C[C.User]="User";var b=function(){return function(t,e,n){void 0===e&&(e=200),void 0===n&&(n="OK"),this.headers=t.headers||new y,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}(),x=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=C.ResponseHeader,n}return r.a(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(b),T=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=C.Response,n.body=e.body||null,n}return r.a(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(b),w=function(t){function e(e){var n=t.call(this,e,0,"Unknown Error")||this;return n.name="HttpErrorResponse",n.ok=!1,n.status>=200&&n.status<300?n.message="Http failure during parsing for "+(e.url||"(unknown url)"):n.message="Http failure response for "+(e.url||"(unknown url)")+": "+e.status+" "+e.statusText,n.error=e.error||null,n}return r.a(e,t),e}(b);function R(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var S=function(){function t(t){this.handler=t}return t.prototype.request=function(t,e,n){var r,i=this;void 0===n&&(n={}),r=t instanceof E?t:new E(t,e,n.body||null,{headers:n.headers,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials});var l=a.a.call(Object(o.a)(r),function(t){return i.handler.handle(t)});if(t instanceof E||"events"===n.observe)return l;var c=s.a.call(l,function(t){return t instanceof T});switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return u.a.call(c,function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body});case"blob":return u.a.call(c,function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body});case"text":return u.a.call(c,function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body});case"json":default:return u.a.call(c,function(t){return t.body})}case"response":return c;default:throw new Error("Unreachable: unhandled observe type "+n.observe+"}")}},t.prototype.delete=function(t,e){return void 0===e&&(e={}),this.request("DELETE",t,e)},t.prototype.get=function(t,e){return void 0===e&&(e={}),this.request("GET",t,e)},t.prototype.head=function(t,e){return void 0===e&&(e={}),this.request("HEAD",t,e)},t.prototype.jsonp=function(t,e){return this.request("JSONP",t,{params:(new g).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},t.prototype.options=function(t,e){return void 0===e&&(e={}),this.request("OPTIONS",t,e)},t.prototype.patch=function(t,e,n){return void 0===n&&(n={}),this.request("PATCH",t,R(n,e))},t.prototype.post=function(t,e,n){return void 0===n&&(n={}),this.request("POST",t,R(n,e))},t.prototype.put=function(t,e,n){return void 0===n&&(n={}),this.request("PUT",t,R(n,e))},t}();S.decorators=[{type:i.Injectable}],S.ctorParameters=function(){return[{type:h}]};var O=function(){function t(t,e){this.next=t,this.interceptor=e}return t.prototype.handle=function(t){return this.interceptor.intercept(t,this.next)},t}(),I=new i.InjectionToken("HTTP_INTERCEPTORS"),P=function(){function t(){}return t.prototype.intercept=function(t,e){return e.handle(t)},t}();P.decorators=[{type:i.Injectable}],P.ctorParameters=function(){return[]};var A=0,L=function(){return function(){}}(),M=function(){function t(t,e){this.callbackMap=t,this.document=e}return t.prototype.nextCallback=function(){return"ng_jsonp_callback_"+A++},t.prototype.handle=function(t){var e=this;if("JSONP"!==t.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==t.responseType)throw new Error("JSONP requests must use Json response type.");return new c.a(function(n){var r=e.nextCallback(),i=t.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,"="+r+"$1"),o=e.document.createElement("script");o.src=i;var a=null,s=!1,u=!1;e.callbackMap[r]=function(t){delete e.callbackMap[r],u||(a=t,s=!0)};var l=function(){o.parentNode&&o.parentNode.removeChild(o),delete e.callbackMap[r]},c=function(t){u||(l(),s?(n.next(new T({body:a,status:200,statusText:"OK",url:i})),n.complete()):n.error(new w({url:i,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")})))},h=function(t){u||(l(),n.error(new w({error:t,status:0,statusText:"JSONP Error",url:i})))};return o.addEventListener("load",c),o.addEventListener("error",h),e.document.body.appendChild(o),n.next({type:C.Sent}),function(){u=!0,o.removeEventListener("load",c),o.removeEventListener("error",h),l()}})},t}();M.decorators=[{type:i.Injectable}],M.ctorParameters=function(){return[{type:L},{type:void 0,decorators:[{type:i.Inject,args:[l.DOCUMENT]}]}]};var D=function(){function t(t){this.jsonp=t}return t.prototype.intercept=function(t,e){return"JSONP"===t.method?this.jsonp.handle(t):e.handle(t)},t}();D.decorators=[{type:i.Injectable}],D.ctorParameters=function(){return[{type:M}]};var N=/^\)\]\}',?\n/;var F=function(){function t(){}return t.prototype.build=function(){},t}(),k=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t}();k.decorators=[{type:i.Injectable}],k.ctorParameters=function(){return[]};var j=function(){function t(t){this.xhrFactory=t}return t.prototype.handle=function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new c.a(function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach(function(t,e){return r.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,u=function(){if(null!==s)return s;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new y(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new x({headers:i,status:e,statusText:n,url:o})},l=function(){var e=u(),i=e.headers,o=e.status,a=e.statusText,s=e.url,l=null;204!==o&&(l="undefined"==typeof r.response?r.responseText:r.response),0===o&&(o=l?200:0);var c=o>=200&&o<300;if(c&&"json"===t.responseType&&"string"==typeof l){l=l.replace(N,"");try{l=JSON.parse(l)}catch(t){c=!1,l={error:t,text:l}}}else if(!c&&"json"===t.responseType&&"string"==typeof l)try{l=JSON.parse(l)}catch(t){}c?(n.next(new T({body:l,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new w({error:l,headers:i,status:o,statusText:a,url:s||void 0}))},c=function(t){var e=new w({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error"});n.error(e)},h=!1,p=function(e){h||(n.next(u()),h=!0);var i={type:C.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},f=function(t){var e={type:C.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",l),r.addEventListener("error",c),t.reportProgress&&(r.addEventListener("progress",p),null!==a&&r.upload&&r.upload.addEventListener("progress",f)),r.send(a),n.next({type:C.Sent}),function(){r.removeEventListener("error",c),r.removeEventListener("load",l),t.reportProgress&&(r.removeEventListener("progress",p),null!==a&&r.upload&&r.upload.removeEventListener("progress",f)),r.abort()}})},t}();j.decorators=[{type:i.Injectable}],j.ctorParameters=function(){return[{type:F}]};var U=new i.InjectionToken("XSRF_COOKIE_NAME"),G=new i.InjectionToken("XSRF_HEADER_NAME"),V=function(){function t(){}return t.prototype.getToken=function(){},t}(),B=function(){function t(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return t.prototype.getToken=function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(l["\u0275parseCookieValue"])(t,this.cookieName),this.lastCookieString=t),this.lastToken},t}();B.decorators=[{type:i.Injectable}],B.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:[l.DOCUMENT]}]},{type:void 0,decorators:[{type:i.Inject,args:[i.PLATFORM_ID]}]},{type:void 0,decorators:[{type:i.Inject,args:[U]}]}]};var H=function(){function t(t,e){this.tokenService=t,this.headerName=e}return t.prototype.intercept=function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)},t}();function W(t,e){return void 0===e&&(e=[]),e?e.reduceRight(function(t,e){return new O(t,e)},t):t}function X(){return"object"==typeof window?window:{}}H.decorators=[{type:i.Injectable}],H.ctorParameters=function(){return[{type:V},{type:void 0,decorators:[{type:i.Inject,args:[G]}]}]};var z=function(){function t(){}return t.disable=function(){return{ngModule:t,providers:[{provide:H,useClass:P}]}},t.withOptions=function(e){return void 0===e&&(e={}),{ngModule:t,providers:[e.cookieName?{provide:U,useValue:e.cookieName}:[],e.headerName?{provide:G,useValue:e.headerName}:[]]}},t}();z.decorators=[{type:i.NgModule,args:[{providers:[H,{provide:I,useExisting:H,multi:!0},{provide:V,useClass:B},{provide:U,useValue:"XSRF-TOKEN"},{provide:G,useValue:"X-XSRF-TOKEN"}]}]}],z.ctorParameters=function(){return[]};var Y=function(){return function(){}}();Y.decorators=[{type:i.NgModule,args:[{imports:[z.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})],providers:[S,{provide:h,useFactory:W,deps:[p,[new i.Optional,new i.Inject(I)]]},j,{provide:p,useExisting:j},k,{provide:F,useExisting:k}]}]}],Y.ctorParameters=function(){return[]};var K=function(){return function(){}}();K.decorators=[{type:i.NgModule,args:[{providers:[M,{provide:L,useFactory:X},{provide:I,useClass:D,multi:!0}]}]}],K.ctorParameters=function(){return[]}},L2CZ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CXX0"),i=n("ECY+"),o=n("bHOE"),a={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"},s=n("tFCN"),u=function(t){var e=t||{},n=s.a.assign({},e);delete n.preload,delete n.useInterimTilesOnError,o.a.call(this,n),this.setPreload(void 0!==e.preload?e.preload:0),this.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError),this.type=i.a.TILE};r.a.inherits(u,o.a),u.prototype.getPreload=function(){return this.get(a.PRELOAD)},u.prototype.getSource,u.prototype.setPreload=function(t){this.set(a.PRELOAD,t)},u.prototype.getUseInterimTilesOnError=function(){return this.get(a.USE_INTERIM_TILES_ON_ERROR)},u.prototype.setUseInterimTilesOnError=function(t){this.set(a.USE_INTERIM_TILES_ON_ERROR,t)};e.default=u},LaVj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CXX0"),i=n("BV9W"),o=n("OEyb"),a=n("FeXB"),s=n("6t+W"),u=n("ZVo0"),l={FRACTION:"fraction",PIXELS:"pixels"},c=n("w2Al"),h=n("dDPv"),p=n("beD/"),f=function(t,e,n,r,o,a){h.a.call(this),this.hitDetectionImage_=null,this.image_=t||new Image,null!==r&&(this.image_.crossOrigin=r),this.canvas_=a?document.createElement("CANVAS"):null,this.color_=a,this.imageListenerKeys_=null,this.imageState_=o,this.size_=n,this.src_=e,this.tainting_=!1,this.imageState_==i.a.LOADED&&this.determineTainting_()};r.a.inherits(f,h.a),f.get=function(t,e,n,r,i,o){var a=p.a.iconImageCache,s=a.get(e,r,o);return s||(s=new f(t,e,n,r,i,o),a.set(e,r,o,s)),s},f.prototype.determineTainting_=function(){var t=c.a.createCanvasContext2D(1,1);try{t.drawImage(this.image_,0,0),t.getImageData(0,0,1,1)}catch(t){this.tainting_=!0}},f.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(u.a.CHANGE)},f.prototype.handleImageError_=function(){this.imageState_=i.a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},f.prototype.handleImageLoad_=function(){this.imageState_=i.a.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.determineTainting_(),this.replaceColor_(),this.dispatchChangeEvent_()},f.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},f.prototype.getImageState=function(){return this.imageState_},f.prototype.getHitDetectionImage=function(t){if(!this.hitDetectionImage_)if(this.tainting_){var e=this.size_[0],n=this.size_[1],r=c.a.createCanvasContext2D(e,n);r.fillRect(0,0,e,n),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},f.prototype.getSize=function(){return this.size_},f.prototype.getSrc=function(){return this.src_},f.prototype.load=function(){if(this.imageState_==i.a.IDLE){this.imageState_=i.a.LOADING,this.imageListenerKeys_=[s.a.listenOnce(this.image_,u.a.ERROR,this.handleImageError_,this),s.a.listenOnce(this.image_,u.a.LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(t){this.handleImageError_()}}},f.prototype.replaceColor_=function(){if(!this.tainting_&&null!==this.color_){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");t.drawImage(this.image_,0,0);for(var e=t.getImageData(0,0,this.image_.width,this.image_.height),n=e.data,r=this.color_[0]/255,i=this.color_[1]/255,o=this.color_[2]/255,a=0,s=n.length;a<s;a+=4)n[a]*=r,n[a+1]*=i,n[a+2]*=o;t.putImageData(e,0,0)}},f.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(s.a.unlistenByKey),this.imageListenerKeys_=null};var d=f,g={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},y=n("t6Ve"),v=function(t){var e=t||{};this.anchor_=void 0!==e.anchor?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==e.anchorOrigin?e.anchorOrigin:g.TOP_LEFT,this.anchorXUnits_=void 0!==e.anchorXUnits?e.anchorXUnits:l.FRACTION,this.anchorYUnits_=void 0!==e.anchorYUnits?e.anchorYUnits:l.FRACTION,this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null;var n=void 0!==e.img?e.img:null,s=void 0!==e.imgSize?e.imgSize:null,u=e.src;o.a.assert(!(void 0!==u&&n),4),o.a.assert(!n||n&&s,5),void 0!==u&&0!==u.length||!n||(u=n.src||r.a.getUid(n).toString()),o.a.assert(void 0!==u&&u.length>0,6);var c=void 0!==e.src?i.a.IDLE:i.a.LOADED;this.color_=void 0!==e.color?a.a.asArray(e.color):null,this.iconImage_=d.get(n,u,s,this.crossOrigin_,c,this.color_),this.offset_=void 0!==e.offset?e.offset:[0,0],this.offsetOrigin_=void 0!==e.offsetOrigin?e.offsetOrigin:g.TOP_LEFT,this.origin_=null,this.size_=void 0!==e.size?e.size:null;var h=void 0!==e.opacity?e.opacity:1,p=void 0!==e.rotateWithView&&e.rotateWithView,f=void 0!==e.rotation?e.rotation:0,v=void 0!==e.scale?e.scale:1,_=void 0===e.snapToPixel||e.snapToPixel;y.a.call(this,{opacity:h,rotation:f,scale:v,snapToPixel:_,rotateWithView:p})};r.a.inherits(v,y.a),v.prototype.clone=function(){return new v({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),snapToPixel:this.getSnapToPixel(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},v.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==l.FRACTION||this.anchorYUnits_==l.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==l.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==l.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=g.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=g.TOP_RIGHT&&this.anchorOrigin_!=g.BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=g.BOTTOM_LEFT&&this.anchorOrigin_!=g.BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},v.prototype.getColor=function(){return this.color_},v.prototype.getImage=function(t){return this.iconImage_.getImage(t)},v.prototype.getImageSize=function(){return this.iconImage_.getSize()},v.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},v.prototype.getImageState=function(){return this.iconImage_.getImageState()},v.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},v.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=g.TOP_LEFT){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),this.offsetOrigin_!=g.TOP_RIGHT&&this.offsetOrigin_!=g.BOTTOM_RIGHT||(t[0]=n[0]-e[0]-t[0]),this.offsetOrigin_!=g.BOTTOM_LEFT&&this.offsetOrigin_!=g.BOTTOM_RIGHT||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_},v.prototype.getSrc=function(){return this.iconImage_.getSrc()},v.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},v.prototype.listenImageChange=function(t,e){return s.a.listen(this.iconImage_,u.a.CHANGE,t,e)},v.prototype.load=function(){this.iconImage_.load()},v.prototype.unlistenImageChange=function(t,e){s.a.unlisten(this.iconImage_,u.a.CHANGE,t,e)};e.default=v},LiKT:function(t,e,n){"use strict";e.a={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},LmAy:function(t,e,n){"use strict";var r=n("o1z/"),i={lineString:function(t,e,n,r,o,a,s){var u=void 0!==s?s:[];return a||(n=i.radialDistance(t,e,n,r,o,u,0),t=u,e=0,r=2),u.length=i.douglasPeucker(t,e,n,r,o,u,0),u},douglasPeucker:function(t,e,n,i,o,a,s){var u=(n-e)/i;if(u<3){for(;e<n;e+=i)a[s++]=t[e],a[s++]=t[e+1];return s}var l=new Array(u);l[0]=1,l[u-1]=1;for(var c,h=[e,n-i],p=0;h.length>0;){var f=h.pop(),d=h.pop(),g=0,y=t[d],v=t[d+1],_=t[f],m=t[f+1];for(c=d+i;c<f;c+=i){var E=t[c],C=t[c+1],b=r.a.squaredSegmentDistance(E,C,y,v,_,m);b>g&&(p=c,g=b)}g>o&&(l[(p-e)/i]=1,d+i<p&&h.push(d,p),p+i<f&&h.push(p,f))}for(c=0;c<u;++c)l[c]&&(a[s++]=t[e+c*i],a[s++]=t[e+c*i+1]);return s},douglasPeuckers:function(t,e,n,r,o,a,s,u){var l,c;for(l=0,c=n.length;l<c;++l){var h=n[l];s=i.douglasPeucker(t,e,h,r,o,a,s),u.push(s),e=h}return s},douglasPeuckerss:function(t,e,n,r,o,a,s,u){var l,c;for(l=0,c=n.length;l<c;++l){var h=n[l],p=[];s=i.douglasPeuckers(t,e,h,r,o,a,s,p),u.push(p),e=h[h.length-1]}return s},radialDistance:function(t,e,n,i,o,a,s){if(n<=e+i){for(;e<n;e+=i)a[s++]=t[e],a[s++]=t[e+1];return s}var u=t[e],l=t[e+1];a[s++]=u,a[s++]=l;var c=u,h=l;for(e+=i;e<n;e+=i)c=t[e],h=t[e+1],r.a.squaredDistance(u,l,c,h)>o&&(a[s++]=c,a[s++]=h,u=c,l=h);return c==u&&h==l||(a[s++]=c,a[s++]=h),s},snap:function(t,e){return e*Math.round(t/e)},quantize:function(t,e,n,r,o,a,s){if(e==n)return s;var u,l,c=i.snap(t[e],o),h=i.snap(t[e+1],o);e+=r,a[s++]=c,a[s++]=h;do{if(u=i.snap(t[e],o),l=i.snap(t[e+1],o),(e+=r)==n)return a[s++]=u,a[s++]=l,s}while(u==c&&l==h);for(;e<n;){var p,f;if(p=i.snap(t[e],o),f=i.snap(t[e+1],o),e+=r,p!=u||f!=l){var d=u-c,g=l-h,y=p-c,v=f-h;d*v==g*y&&(d<0&&y<d||d==y||d>0&&y>d)&&(g<0&&v<g||g==v||g>0&&v>g)?(u=p,l=f):(a[s++]=u,a[s++]=l,c=u,h=l,u=p,l=f)}}return a[s++]=u,a[s++]=l,s},quantizes:function(t,e,n,r,o,a,s,u){var l,c;for(l=0,c=n.length;l<c;++l){var h=n[l];s=i.quantize(t,e,h,r,o,a,s),u.push(s),e=h}return s},quantizess:function(t,e,n,r,o,a,s,u){var l,c;for(l=0,c=n.length;l<c;++l){var h=n[l],p=[];s=i.quantizes(t,e,h,r,o,a,s,p),u.push(p),e=h[h.length-1]}return s}};e.a=i},N4j0:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length}},NVOs:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("TToO"),i=n("3j3K"),o=n("YaPU"),a=n("+3/4"),s=n("BX3T"),u=n("PIsA"),l=n("tZ2B"),c=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},h=function(t){function e(e,n){t.call(this),this.sources=e,this.resultSelector=n}return c(e,t),e.create=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];if(null===t||0===arguments.length)return new a.a;var r=null;return"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&Object(s.a)(t[0])&&(t=t[0]),0===t.length?new a.a:new e(t,r)},e.prototype._subscribe=function(t){return new p(t,this.sources,this.resultSelector)},e}(o.a),p=function(t){function e(e,n,r){t.call(this,e),this.sources=n,this.resultSelector=r,this.completed=0,this.haveValues=0;var i=n.length;this.total=i,this.values=new Array(i);for(var o=0;o<i;o++){var a=n[o],s=Object(u.a)(this,a,null,o);s&&(s.outerIndex=o,this.add(s))}}return c(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this.haveValues,r=this.resultSelector,i=this.values,o=i.length;if(t._hasValue){if(this.completed++,this.completed===o){if(n===o){var a=r?r.apply(this,i):i;e.next(a)}e.complete()}}else e.complete()},e}(l.a),f=h.create,d=n("i9s7"),g=n("gL+p"),y=n("Qbdm");n.d(e,"AbstractControlDirective",function(){return v}),n.d(e,"AbstractFormGroupDirective",function(){return ut}),n.d(e,"CheckboxControlValueAccessor",function(){return I}),n.d(e,"ControlContainer",function(){return _}),n.d(e,"NG_VALUE_ACCESSOR",function(){return S}),n.d(e,"COMPOSITION_BUFFER_MODE",function(){return A}),n.d(e,"DefaultValueAccessor",function(){return L}),n.d(e,"NgControl",function(){return j}),n.d(e,"NgControlStatus",function(){return ht}),n.d(e,"NgControlStatusGroup",function(){return pt}),n.d(e,"NgForm",function(){return Ct}),n.d(e,"NgModel",function(){return Lt}),n.d(e,"NgModelGroup",function(){return It}),n.d(e,"RadioControlValueAccessor",function(){return V}),n.d(e,"FormControlDirective",function(){return Nt}),n.d(e,"FormControlName",function(){return Wt}),n.d(e,"FormGroupDirective",function(){return kt}),n.d(e,"FormArrayName",function(){return Vt}),n.d(e,"FormGroupName",function(){return Ut}),n.d(e,"NgSelectOption",function(){return Y}),n.d(e,"SelectControlValueAccessor",function(){return z}),n.d(e,"SelectMultipleControlValueAccessor",function(){return Z}),n.d(e,"CheckboxRequiredValidator",function(){return Kt}),n.d(e,"EmailValidator",function(){return Zt}),n.d(e,"MaxLengthValidator",function(){return te}),n.d(e,"MinLengthValidator",function(){return Qt}),n.d(e,"PatternValidator",function(){return ne}),n.d(e,"RequiredValidator",function(){return Yt}),n.d(e,"FormBuilder",function(){return re}),n.d(e,"AbstractControl",function(){return gt}),n.d(e,"FormArray",function(){return _t}),n.d(e,"FormControl",function(){return yt}),n.d(e,"FormGroup",function(){return vt}),n.d(e,"NG_ASYNC_VALIDATORS",function(){return C}),n.d(e,"NG_VALIDATORS",function(){return E}),n.d(e,"Validators",function(){return x}),n.d(e,"VERSION",function(){return ie}),n.d(e,"FormsModule",function(){return ce}),n.d(e,"ReactiveFormsModule",function(){return he}),n.d(e,"\u0275ba",function(){return le}),n.d(e,"\u0275z",function(){return ue}),n.d(e,"\u0275x",function(){return ae}),n.d(e,"\u0275y",function(){return se}),n.d(e,"\u0275a",function(){return O}),n.d(e,"\u0275b",function(){return P}),n.d(e,"\u0275c",function(){return lt}),n.d(e,"\u0275d",function(){return ct}),n.d(e,"\u0275e",function(){return mt}),n.d(e,"\u0275f",function(){return Pt}),n.d(e,"\u0275g",function(){return Ot}),n.d(e,"\u0275bf",function(){return oe}),n.d(e,"\u0275bb",function(){return N}),n.d(e,"\u0275bc",function(){return F}),n.d(e,"\u0275h",function(){return U}),n.d(e,"\u0275i",function(){return G}),n.d(e,"\u0275bd",function(){return B}),n.d(e,"\u0275be",function(){return H}),n.d(e,"\u0275j",function(){return Dt}),n.d(e,"\u0275k",function(){return Ht}),n.d(e,"\u0275l",function(){return Ft}),n.d(e,"\u0275n",function(){return Gt}),n.d(e,"\u0275m",function(){return jt}),n.d(e,"\u0275o",function(){return W}),n.d(e,"\u0275q",function(){return J}),n.d(e,"\u0275p",function(){return K}),n.d(e,"\u0275s",function(){return zt}),n.d(e,"\u0275t",function(){return qt}),n.d(e,"\u0275v",function(){return $t}),n.d(e,"\u0275u",function(){return Jt}),n.d(e,"\u0275w",function(){return ee}),n.d(e,"\u0275r",function(){return Xt});var v=function(){function t(){}return t.prototype.control=function(){},Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t}(),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(v);function m(t){return null==t||0===t.length}var E=new i.InjectionToken("NgValidators"),C=new i.InjectionToken("NgAsyncValidators"),b=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,x=function(){function t(){}return t.min=function(t){return function(e){if(m(e.value)||m(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(m(e.value)||m(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return m(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return b.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(m(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){return e?("string"==typeof e?(r="^"+e+"$",n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(m(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(T);return 0==e.length?null:function(t){return R(function(t,e){return e.map(function(e){return e(t)})}(t,e))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(T);return 0==e.length?null:function(t){var n=function(t,e){return e.map(function(e){return e(t)})}(t,e).map(w);return g.a.call(f(n),R)}},t}();function T(t){return null!=t}function w(t){var e=Object(i["\u0275isPromise"])(t)?Object(d.a)(t):t;if(!Object(i["\u0275isObservable"])(e))throw new Error("Expected validator to return Promise or Observable.");return e}function R(t){var e=t.reduce(function(t,e){return null!=e?Object.assign({},t,e):t},{});return 0===Object.keys(e).length?null:e}var S=new i.InjectionToken("NgValueAccessor"),O={provide:S,useExisting:Object(i.forwardRef)(function(){return I}),multi:!0},I=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();I.decorators=[{type:i.Directive,args:[{selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[O]}]}],I.ctorParameters=function(){return[{type:i.Renderer2},{type:i.ElementRef}]};var P={provide:S,useExisting:Object(i.forwardRef)(function(){return L}),multi:!0};var A=new i.InjectionToken("CompositionEventMode"),L=function(){function t(t,e,n){var r;this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=Object(y["\u0275getDOM"])()?Object(y["\u0275getDOM"])().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return t.prototype.writeValue=function(t){var e=null==t?"":t;this._renderer.setProperty(this._elementRef.nativeElement,"value",e)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t}();function M(t){return t.validate?function(e){return t.validate(e)}:t}function D(t){return t.validate?function(e){return t.validate(e)}:t}L.decorators=[{type:i.Directive,args:[{selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"_handleInput($event.target.value)","(blur)":"onTouched()","(compositionstart)":"_compositionStart()","(compositionend)":"_compositionEnd($event.target.value)"},providers:[P]}]}],L.ctorParameters=function(){return[{type:i.Renderer2},{type:i.ElementRef},{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[A]}]}]};var N={provide:S,useExisting:Object(i.forwardRef)(function(){return F}),multi:!0},F=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){var e=null==t?"":t;this._renderer.setProperty(this._elementRef.nativeElement,"value",e)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();function k(){throw new Error("unimplemented")}F.decorators=[{type:i.Directive,args:[{selector:"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[N]}]}],F.ctorParameters=function(){return[{type:i.Renderer2},{type:i.ElementRef}]};var j=function(t){function e(){var e=t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return r.a(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return k()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return k()},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){},e}(v),U={provide:S,useExisting:Object(i.forwardRef)(function(){return V}),multi:!0},G=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&(t[0]._parent===e._control._parent&&t[1].name===e.name)},t}();G.decorators=[{type:i.Injectable}],G.ctorParameters=function(){return[]};var V=function(){function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(j),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t}();V.decorators=[{type:i.Directive,args:[{selector:"input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[U]}]}],V.ctorParameters=function(){return[{type:i.Renderer2},{type:i.ElementRef},{type:G},{type:i.Injector}]},V.propDecorators={name:[{type:i.Input}],formControlName:[{type:i.Input}],value:[{type:i.Input}]};var B={provide:S,useExisting:Object(i.forwardRef)(function(){return H}),multi:!0},H=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();H.decorators=[{type:i.Directive,args:[{selector:"input[type=range][formControlName],input[type=range][formControl],input[type=range][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[B]}]}],H.ctorParameters=function(){return[{type:i.Renderer2},{type:i.ElementRef}]};var W={provide:S,useExisting:Object(i.forwardRef)(function(){return z}),multi:!0};function X(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}var z=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=i["\u0275looseIdentical"]}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=X(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t}();z.decorators=[{type:i.Directive,args:[{selector:"select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]",host:{"(change)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[W]}]}],z.ctorParameters=function(){return[{type:i.Renderer2},{type:i.ElementRef}]},z.propDecorators={compareWith:[{type:i.Input}]};var Y=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(X(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}();Y.decorators=[{type:i.Directive,args:[{selector:"option"}]}],Y.ctorParameters=function(){return[{type:i.ElementRef},{type:i.Renderer2},{type:z,decorators:[{type:i.Optional},{type:i.Host}]}]},Y.propDecorators={ngValue:[{type:i.Input,args:["ngValue"]}],value:[{type:i.Input,args:["value"]}]};var K={provide:S,useExisting:Object(i.forwardRef)(function(){return Z}),multi:!0};function q(t,e){return null==t?""+e:("string"==typeof e&&(e="'"+e+"'"),e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}var Z=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=i["\u0275looseIdentical"]}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map(function(t){return n._getOptionId(t)});e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(i=n.options,o=0;o<i.length;o++){if((a=i.item(o)).selected){s=e._getOptionValue(a.value);r.push(s)}}e.value=r,t(r)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t}();Z.decorators=[{type:i.Directive,args:[{selector:"select[multiple][formControlName],select[multiple][formControl],select[multiple][ngModel]",host:{"(change)":"onChange($event.target)","(blur)":"onTouched()"},providers:[K]}]}],Z.ctorParameters=function(){return[{type:i.Renderer2},{type:i.ElementRef}]},Z.propDecorators={compareWith:[{type:i.Input}]};var J=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._value=t,this._setElementValue(q(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._select?(this._value=t,this._setElementValue(q(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype._setSelected=function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}();function Q(t,e){return e.path.concat([t])}function $(t,e){t||nt(e,"Cannot find control with"),e.valueAccessor||nt(e,"No value accessor for form control with"),t.validator=x.compose([t.validator,e.validator]),t.asyncValidator=x.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),e.valueAccessor.registerOnChange(function(n){e.viewToModelUpdate(n),t.markAsDirty(),t.setValue(n,{emitModelToViewChange:!1})}),e.valueAccessor.registerOnTouched(function(){return t.markAsTouched()}),t.registerOnChange(function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function tt(t,e){null==t&&nt(e,"Cannot find control with"),t.validator=x.compose([t.validator,e.validator]),t.asyncValidator=x.composeAsync([t.asyncValidator,e.asyncValidator])}function et(t){return nt(t,"There is no FormControl instance attached to form control element with")}function nt(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function rt(t){return null!=t?x.compose(t.map(M)):null}function it(t){return null!=t?x.composeAsync(t.map(D)):null}function ot(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(i["\u0275looseIdentical"])(e,n.currentValue)}J.decorators=[{type:i.Directive,args:[{selector:"option"}]}],J.ctorParameters=function(){return[{type:i.ElementRef},{type:i.Renderer2},{type:Z,decorators:[{type:i.Optional},{type:i.Host}]}]},J.propDecorators={ngValue:[{type:i.Input,args:["ngValue"]}],value:[{type:i.Input,args:["value"]}]};var at=[I,H,F,z,Z,V];function st(t,e){if(!e)return null;var n=void 0,r=void 0,i=void 0;return e.forEach(function(e){var o;e.constructor===L?n=e:(o=e,at.some(function(t){return o.constructor===t})?(r&&nt(t,"More than one built-in value accessor matches form control with"),r=e):(i&&nt(t,"More than one custom value accessor matches form control with"),i=e))}),i||(r||(n||(nt(t,"No valid value accessor for form control with"),null)))}var ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return Q(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return rt(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return it(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(_),lt=function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}(),ct={"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid","[class.ng-pending]":"ngClassPending"},ht=function(t){function e(e){return t.call(this,e)||this}return r.a(e,t),e}(lt);ht.decorators=[{type:i.Directive,args:[{selector:"[formControlName],[ngModel],[formControl]",host:ct}]}],ht.ctorParameters=function(){return[{type:j,decorators:[{type:i.Self}]}]};var pt=function(t){function e(e){return t.call(this,e)||this}return r.a(e,t),e}(lt);pt.decorators=[{type:i.Directive,args:[{selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]",host:ct}]}],pt.ctorParameters=function(){return[{type:_,decorators:[{type:i.Self}]}]};function ft(t){return Array.isArray(t)?rt(t):t||null}function dt(t){return Array.isArray(t)?it(t):t||null}var gt=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this._pristine=!0,this._touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this._pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this._valueChanges},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this._statusChanges},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=ft(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=dt(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this._touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this._touched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this._pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this._pristine=!0,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this._status="PENDING",this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={}),this._status="DISABLED",this._errors=null,this._forEachChild(function(t){t.disable({onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this._valueChanges.emit(this._value),this._statusChanges.emit(this._status)),this._updateAncestors(!!t.onlySelf),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){void 0===t&&(t={}),this._status="VALID",this._forEachChild(function(t){t.enable({onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(!!t.onlySelf),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t&&(this._parent.updateValueAndValidity(),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.setValue=function(t,e){},t.prototype.patchValue=function(t,e){},t.prototype.reset=function(t,e){},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this._errors=this._runValidator(),this._status=this._calculateStatus(),"VALID"!==this._status&&"PENDING"!==this._status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this._valueChanges.emit(this._value),this._statusChanges.emit(this._status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this._status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this._status="PENDING";var n=w(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this._errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(n)),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof vt?t.controls[e]||null:t instanceof _t&&t.at(e)||null},t))}(this,t,".")},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n._errors?n._errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this._status=this._calculateStatus(),t&&this._statusChanges.emit(this._status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this._valueChanges=new i.EventEmitter,this._statusChanges=new i.EventEmitter},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this._errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._updateValue=function(){},t.prototype._forEachChild=function(t){},t.prototype._anyControls=function(t){},t.prototype._allControlsDisabled=function(){},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this._pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this._touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t}(),yt=function(t){function e(e,n,r){void 0===e&&(e=null);var i=t.call(this,ft(n),dt(r))||this;return i._onChange=[],i._applyFormState(e),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i._initObservables(),i}return r.a(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._value=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(function(t){return t(n._value,!1!==e.emitViewToModelChange)}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this._value,e)},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this._value=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this._value=t},e}(gt),vt=function(t){function e(e,n,r){var i=t.call(this,n||null,r||null)||this;return i.controls=e,i._initObservables(),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return r.a(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){n._throwIfControlMissing(r),n.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach(function(r){n.controls[r]&&n.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof yt?e.value:e.getRawValue(),t})},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this._value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(r,i){n=n||e.contains(i)&&t(r)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n},e.prototype._allControlsDisabled=function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(gt),_t=function(t){function e(e,n,r){var i=t.call(this,n||null,r||null)||this;return i.controls=e,i._initObservables(),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return r.a(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach(function(t,r){n._throwIfControlMissing(r),n.at(r).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach(function(t,r){n.at(r)&&n.at(r).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof yt?t.value:t.getRawValue()})},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this._value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){for(var t=0,e=this.controls;t<e.length;t++){if(e[t].enabled)return!1}return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(gt),mt={provide:_,useExisting:Object(i.forwardRef)(function(){return Ct})},Et=Promise.resolve(null),Ct=function(t){function e(e,n){var r=t.call(this)||this;return r._submitted=!1,r.ngSubmit=new i.EventEmitter,r.form=new vt({},rt(e),it(n)),r}return r.a(e,t),Object.defineProperty(e.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;Et.then(function(){var n=e._findContainer(t.path);t._control=n.registerControl(t.name,t.control),$(t.control,t),t.control.updateValueAndValidity({emitEvent:!1})})},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;Et.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.addFormGroup=function(t){var e=this;Et.then(function(){var n=e._findContainer(t.path),r=new vt({});tt(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeFormGroup=function(t){var e=this;Et.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;Et.then(function(){n.form.get(t.path).setValue(e)})},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this._submitted=!0,this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this._submitted=!1},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e}(_);Ct.decorators=[{type:i.Directive,args:[{selector:"form:not([ngNoForm]):not([formGroup]),ngForm,[ngForm]",providers:[mt],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],Ct.ctorParameters=function(){return[{type:Array,decorators:[{type:i.Optional},{type:i.Self},{type:i.Inject,args:[E]}]},{type:Array,decorators:[{type:i.Optional},{type:i.Self},{type:i.Inject,args:[C]}]}]};var bt='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',xt='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Tt='\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',wt='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',Rt='\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ',St=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '+bt+"\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      "+Rt)},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+xt+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+wt)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+xt+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+wt)},t}(),Ot={provide:_,useExisting:Object(i.forwardRef)(function(){return It})},It=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}return r.a(e,t),e.prototype._checkParentType=function(){this._parent instanceof e||this._parent instanceof Ct||St.modelGroupParentException()},e}(ut);It.decorators=[{type:i.Directive,args:[{selector:"[ngModelGroup]",providers:[Ot],exportAs:"ngModelGroup"}]}],It.ctorParameters=function(){return[{type:_,decorators:[{type:i.Host},{type:i.SkipSelf}]},{type:Array,decorators:[{type:i.Optional},{type:i.Self},{type:i.Inject,args:[E]}]},{type:Array,decorators:[{type:i.Optional},{type:i.Self},{type:i.Inject,args:[C]}]}]},It.propDecorators={name:[{type:i.Input,args:["ngModelGroup"]}]};var Pt={provide:j,useExisting:Object(i.forwardRef)(function(){return Lt})},At=Promise.resolve(null),Lt=function(t){function e(e,n,r,o){var a=t.call(this)||this;return a._control=new yt,a._registered=!1,a.update=new i.EventEmitter,a._parent=e,a._rawValidators=n||[],a._rawAsyncValidators=r||[],a.valueAccessor=st(a,o),a}return r.a(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),ot(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?Q(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return rt(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return it(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){$(this._control,this),this._control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof It)&&this._parent instanceof ut?St.formGroupNameException():this._parent instanceof It||this._parent instanceof Ct||St.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||St.missingNameException()},e.prototype._updateValue=function(t){var e=this;At.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;At.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})},e}(j);Lt.decorators=[{type:i.Directive,args:[{selector:"[ngModel]:not([formControlName]):not([formControl])",providers:[Pt],exportAs:"ngModel"}]}],Lt.ctorParameters=function(){return[{type:_,decorators:[{type:i.Optional},{type:i.Host}]},{type:Array,decorators:[{type:i.Optional},{type:i.Self},{type:i.Inject,args:[E]}]},{type:Array,decorators:[{type:i.Optional},{type:i.Self},{type:i.Inject,args:[C]}]},{type:Array,decorators:[{type:i.Optional},{type:i.Self},{type:i.Inject,args:[S]}]}]},Lt.propDecorators={name:[{type:i.Input}],isDisabled:[{type:i.Input,args:["disabled"]}],model:[{type:i.Input,args:["ngModel"]}],options:[{type:i.Input,args:["ngModelOptions"]}],update:[{type:i.Output,args:["ngModelChange"]}]};var Mt=function(){function t(){}return t.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+bt)},t.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+xt+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+wt)},t.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+bt)},t.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+xt)},t.arrayParentException=function(){throw new Error("formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        "+Tt)},t.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")},t}(),Dt={provide:j,useExisting:Object(i.forwardRef)(function(){return Nt})},Nt=function(t){function e(e,n,r){var o=t.call(this)||this;return o.update=new i.EventEmitter,o._rawValidators=e||[],o._rawAsyncValidators=n||[],o.valueAccessor=st(o,r),o}return r.a(e,t),Object.defineProperty(e.prototype,"isDisabled",{set:function(t){Mt.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._isControlChanged(t)&&($(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),ot(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)},Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return rt(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return it(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._isControlChanged=function(t){return t.hasOwnProperty("form")},e}(j);Nt.decorators=[{type:i.Directive,args:[{selector:"[formControl]",providers:[Dt],exportAs:"ngForm"}]}],Nt.ctorParameters=function(){return[{type:Array,decorators:[{type:i.Optional},{type:i.Self},{type:i.Inject,args:[E]}]},{type:Array,decorators:[{type:i.Optional},{type:i.Self},{type:i.Inject,args:[C]}]},{type:Array,decorators:[{type:i.Optional},{type:i.Self},{type:i.Inject,args:[S]}]}]},Nt.propDecorators={form:[{type:i.Input,args:["formControl"]}],model:[{type:i.Input,args:["ngModel"]}],update:[{type:i.Output,args:["ngModelChange"]}],isDisabled:[{type:i.Input,args:["disabled"]}]};var Ft={provide:_,useExisting:Object(i.forwardRef)(function(){return kt})},kt=function(t){function e(e,n){var r=t.call(this)||this;return r._validators=e,r._asyncValidators=n,r._submitted=!1,r.directives=[],r.form=null,r.ngSubmit=new i.EventEmitter,r}return r.a(e,t),e.prototype.ngOnChanges=function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())},Object.defineProperty(e.prototype,"submitted",{get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this.form.get(t.path);return $(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e,n,r;e=this.directives,n=t,(r=e.indexOf(n))>-1&&e.splice(r,1)},e.prototype.addFormGroup=function(t){var e=this.form.get(t.path);tt(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormGroup=function(t){},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.addFormArray=function(t){var e=this.form.get(t.path);tt(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormArray=function(t){},e.prototype.getFormArray=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){this.form.get(t.path).setValue(e)},e.prototype.onSubmit=function(t){return this._submitted=!0,this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this._submitted=!1},e.prototype._updateDomValue=function(){var t=this;this.directives.forEach(function(e){var n=t.form.get(e.path);e._control!==n&&(!function(t,e){e.valueAccessor.registerOnChange(function(){return et(e)}),e.valueAccessor.registerOnTouched(function(){return et(e)}),e._rawValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(e._control,e),n&&$(n,e),e._control=n)}),this.form._updateTreeValidity({emitEvent:!1})},e.prototype._updateRegistrations=function(){var t=this;this.form._registerOnCollectionChange(function(){return t._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){}),this._oldForm=this.form},e.prototype._updateValidators=function(){var t=rt(this._validators);this.form.validator=x.compose([this.form.validator,t]);var e=it(this._asyncValidators);this.form.asyncValidator=x.composeAsync([this.form.asyncValidator,e])},e.prototype._checkFormPresent=function(){this.form||Mt.missingFormException()},e}(_);kt.decorators=[{type:i.Directive,args:[{selector:"[formGroup]",providers:[Ft],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},exportAs:"ngForm"}]}],kt.ctorParameters=function(){return[{type:Array,decorators:[{type:i.Optional},{type:i.Self},{type:i.Inject,args:[E]}]},{type:Array,decorators:[{type:i.Optional},{type:i.Self},{type:i.Inject,args:[C]}]}]},kt.propDecorators={form:[{type:i.Input,args:["formGroup"]}],ngSubmit:[{type:i.Output}]};var jt={provide:_,useExisting:Object(i.forwardRef)(function(){return Ut})},Ut=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}return r.a(e,t),e.prototype._checkParentType=function(){Bt(this._parent)&&Mt.groupParentException()},e}(ut);Ut.decorators=[{type:i.Directive,args:[{selector:"[formGroupName]",providers:[jt]}]}],Ut.ctorParameters=function(){return[{type:_,decorators:[{type:i.Optional},{type:i.Host},{type:i.SkipSelf}]},{type:Array,decorators:[{type:i.Optional},{type:i.Self},{type:i.Inject,args:[E]}]},{type:Array,decorators:[{type:i.Optional},{type:i.Self},{type:i.Inject,args:[C]}]}]},Ut.propDecorators={name:[{type:i.Input,args:["formGroupName"]}]};var Gt={provide:_,useExisting:Object(i.forwardRef)(function(){return Vt})},Vt=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}return r.a(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormArray(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormArray(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormArray(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return Q(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return rt(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return it(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){Bt(this._parent)&&Mt.arrayParentException()},e}(_);function Bt(t){return!(t instanceof Ut||t instanceof kt||t instanceof Vt)}Vt.decorators=[{type:i.Directive,args:[{selector:"[formArrayName]",providers:[Gt]}]}],Vt.ctorParameters=function(){return[{type:_,decorators:[{type:i.Optional},{type:i.Host},{type:i.SkipSelf}]},{type:Array,decorators:[{type:i.Optional},{type:i.Self},{type:i.Inject,args:[E]}]},{type:Array,decorators:[{type:i.Optional},{type:i.Self},{type:i.Inject,args:[C]}]}]},Vt.propDecorators={name:[{type:i.Input,args:["formArrayName"]}]};var Ht={provide:j,useExisting:Object(i.forwardRef)(function(){return Wt})},Wt=function(t){function e(e,n,r,o){var a=t.call(this)||this;return a._added=!1,a.update=new i.EventEmitter,a._parent=e,a._rawValidators=n||[],a._rawAsyncValidators=r||[],a.valueAccessor=st(a,o),a}return r.a(e,t),Object.defineProperty(e.prototype,"isDisabled",{set:function(t){Mt.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._added||this._setUpControl(),ot(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},Object.defineProperty(e.prototype,"path",{get:function(){return Q(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return rt(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return it(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){!(this._parent instanceof Ut)&&this._parent instanceof ut?Mt.ngModelGroupException():this._parent instanceof Ut||this._parent instanceof kt||this._parent instanceof Vt||Mt.controlParentException()},e.prototype._setUpControl=function(){this._checkParentType(),this._control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0},e}(j);Wt.decorators=[{type:i.Directive,args:[{selector:"[formControlName]",providers:[Ht]}]}],Wt.ctorParameters=function(){return[{type:_,decorators:[{type:i.Optional},{type:i.Host},{type:i.SkipSelf}]},{type:Array,decorators:[{type:i.Optional},{type:i.Self},{type:i.Inject,args:[E]}]},{type:Array,decorators:[{type:i.Optional},{type:i.Self},{type:i.Inject,args:[C]}]},{type:Array,decorators:[{type:i.Optional},{type:i.Self},{type:i.Inject,args:[S]}]}]},Wt.propDecorators={name:[{type:i.Input,args:["formControlName"]}],model:[{type:i.Input,args:["ngModel"]}],update:[{type:i.Output,args:["ngModelChange"]}],isDisabled:[{type:i.Input,args:["disabled"]}]};var Xt={provide:E,useExisting:Object(i.forwardRef)(function(){return Yt}),multi:!0},zt={provide:E,useExisting:Object(i.forwardRef)(function(){return Kt}),multi:!0},Yt=function(){function t(){}return Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this.required?x.required(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}();Yt.decorators=[{type:i.Directive,args:[{selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",providers:[Xt],host:{"[attr.required]":'required ? "" : null'}}]}],Yt.ctorParameters=function(){return[]},Yt.propDecorators={required:[{type:i.Input}]};var Kt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype.validate=function(t){return this.required?x.requiredTrue(t):null},e}(Yt);Kt.decorators=[{type:i.Directive,args:[{selector:"input[type=checkbox][required][formControlName],input[type=checkbox][required][formControl],input[type=checkbox][required][ngModel]",providers:[zt],host:{"[attr.required]":'required ? "" : null'}}]}],Kt.ctorParameters=function(){return[]};var qt={provide:E,useExisting:Object(i.forwardRef)(function(){return Zt}),multi:!0},Zt=function(){function t(){}return Object.defineProperty(t.prototype,"email",{set:function(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this._enabled?x.email(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}();Zt.decorators=[{type:i.Directive,args:[{selector:"[email][formControlName],[email][formControl],[email][ngModel]",providers:[qt]}]}],Zt.ctorParameters=function(){return[]},Zt.propDecorators={email:[{type:i.Input}]};var Jt={provide:E,useExisting:Object(i.forwardRef)(function(){return Qt}),multi:!0},Qt=function(){function t(){}return t.prototype.ngOnChanges=function(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null==this.minlength?null:this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=x.minLength(parseInt(this.minlength,10))},t}();Qt.decorators=[{type:i.Directive,args:[{selector:"[minlength][formControlName],[minlength][formControl],[minlength][ngModel]",providers:[Jt],host:{"[attr.minlength]":"minlength ? minlength : null"}}]}],Qt.ctorParameters=function(){return[]},Qt.propDecorators={minlength:[{type:i.Input}]};var $t={provide:E,useExisting:Object(i.forwardRef)(function(){return te}),multi:!0},te=function(){function t(){}return t.prototype.ngOnChanges=function(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null!=this.maxlength?this._validator(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=x.maxLength(parseInt(this.maxlength,10))},t}();te.decorators=[{type:i.Directive,args:[{selector:"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]",providers:[$t],host:{"[attr.maxlength]":"maxlength ? maxlength : null"}}]}],te.ctorParameters=function(){return[]},te.propDecorators={maxlength:[{type:i.Input}]};var ee={provide:E,useExisting:Object(i.forwardRef)(function(){return ne}),multi:!0},ne=function(){function t(){}return t.prototype.ngOnChanges=function(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=x.pattern(this.pattern)},t}();ne.decorators=[{type:i.Directive,args:[{selector:"[pattern][formControlName],[pattern][formControl],[pattern][ngModel]",providers:[ee],host:{"[attr.pattern]":"pattern ? pattern : null"}}]}],ne.ctorParameters=function(){return[]},ne.propDecorators={pattern:[{type:i.Input}]};var re=function(){function t(){}return t.prototype.group=function(t,e){void 0===e&&(e=null);var n=this._reduceControls(t),r=null!=e?e.validator:null,i=null!=e?e.asyncValidator:null;return new vt(n,r,i)},t.prototype.control=function(t,e,n){return new yt(t,e,n)},t.prototype.array=function(t,e,n){var r=this,i=t.map(function(t){return r._createControl(t)});return new _t(i,e,n)},t.prototype._reduceControls=function(t){var e=this,n={};return Object.keys(t).forEach(function(r){n[r]=e._createControl(t[r])}),n},t.prototype._createControl=function(t){if(t instanceof yt||t instanceof vt||t instanceof _t)return t;if(Array.isArray(t)){var e=t[0],n=t.length>1?t[1]:null,r=t.length>2?t[2]:null;return this.control(e,n,r)}return this.control(t)},t}();re.decorators=[{type:i.Injectable}],re.ctorParameters=function(){return[]};var ie=new i.Version("4.4.6"),oe=function(){return function(){}}();oe.decorators=[{type:i.Directive,args:[{selector:"form:not([ngNoForm]):not([ngNativeValidate])",host:{novalidate:""}}]}],oe.ctorParameters=function(){return[]};var ae=[oe,Y,J,L,F,H,I,z,Z,V,ht,pt,Yt,Qt,te,ne,Kt,Zt],se=[Lt,It,Ct],ue=[Nt,kt,Wt,Ut,Vt],le=function(){return function(){}}();le.decorators=[{type:i.NgModule,args:[{declarations:ae,exports:ae}]}],le.ctorParameters=function(){return[]};var ce=function(){return function(){}}();ce.decorators=[{type:i.NgModule,args:[{declarations:se,providers:[G],exports:[le,se]}]}],ce.ctorParameters=function(){return[]};var he=function(){return function(){}}();he.decorators=[{type:i.NgModule,args:[{declarations:[ue],providers:[re,G],exports:[le,ue]}]}],he.ctorParameters=function(){return[]}},OEyb:function(t,e,n){"use strict";var r=n("omE/"),i={assert:function(t,e){if(!t)throw new r.a(e)}};e.a=i},OVmG:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("/iUD"),i=n("VwZZ"),o=n("t7NR"),a=n("tLDX"),s=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},u=function(t){function e(n,r,i){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=o.a;break;case 1:if(!n){this.destination=o.a;break}if("object"==typeof n){n instanceof e?(this.syncErrorThrowable=n.syncErrorThrowable,this.destination=n,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,n,r,i)}}return s(e,t),e.prototype[a.a]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(i.a),l=function(t){function e(e,n,i,a){var s;t.call(this),this._parentSubscriber=e;var u=this;Object(r.a)(n)?s=n:n&&(s=n.next,i=n.error,a=n.complete,n!==o.a&&(u=Object.create(n),Object(r.a)(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=i,this._complete=a}return s(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,n){try{e.call(this._context,n)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(u)},Oeue:function(t,e,n){"use strict";var r,i,o=n("CTDj"),a=n("w2Al"),s=n("tFCN"),u=n("7h3G"),l=n("azsZ"),c={};c.defaultFont="10px sans-serif",c.defaultFillStyle=[0,0,0,1],c.defaultLineCap="round",c.defaultLineDash=[],c.defaultLineDashOffset=0,c.defaultLineJoin="round",c.defaultMiterLimit=10,c.defaultStrokeStyle=[0,0,0,1],c.defaultTextAlign="center",c.defaultTextBaseline="middle",c.defaultPadding=[0,0,0,0],c.defaultLineWidth=1,c.labelCache=new u.a,c.checkedFonts_={},c.measureContext_=null,c.textHeights_={},c.checkFont=function(){var t,e,n=60,r=c.checkedFonts_,i=c.labelCache,a="32px monospace",u="wmytzilWMYTZIL@#/&?$%10";function l(t){var n=c.getMeasureContext();n.font=a,e=n.measureText(u).width;var r=!0;"monospace"!=t&&(n.font="32px "+t+",monospace",r=n.measureText(u).width!=e);return r}function h(){var e=!0;for(var o in r)r[o]<n&&(l(o)?(r[o]=n,s.a.clear(c.textHeights_),c.measureContext_=null,i.clear()):(++r[o],e=!1));e&&(window.clearInterval(t),t=void 0)}return function(e){var i=o.a.getFontFamilies(e);if(i)for(var a=0,s=i.length;a<s;++a){var u=i[a];u in r||(r[u]=n,l(u)||(r[u]=0,void 0===t&&(t=window.setInterval(h,32))))}}}(),c.getMeasureContext=function(){var t=c.measureContext_;return t||(t=c.measureContext_=a.a.createCanvasContext2D(1,1)),t},c.measureTextHeight=(i=c.textHeights_,function(t){var e=i[t];return void 0==e&&(r||((r=document.createElement("span")).textContent="M",r.style.margin=r.style.padding="0 !important",r.style.position="absolute !important",r.style.left="-99999px !important"),r.style.font=t,document.body.appendChild(r),e=i[t]=r.offsetHeight,document.body.removeChild(r)),e}),c.measureTextWidth=function(t,e){var n=c.getMeasureContext();return t!=n.font&&(n.font=t),n.measureText(e).width},c.rotateAtOffset=function(t,e,n,r){0!==e&&(t.translate(n,r),t.rotate(e),t.translate(-n,-r))},c.resetTransform_=l.a.create(),c.drawImage=function(t,e,n,r,i,o,a,s,u,l,h){var p;1!=n&&(p=t.globalAlpha,t.globalAlpha=p*n),e&&t.setTransform.apply(t,e),t.drawImage(r,i,o,a,s,u,l,a*h,s*h),p&&(t.globalAlpha=p),e&&t.setTransform.apply(t,c.resetTransform_)},e.a=c},PIsA:function(t,e,n){"use strict";var r=n("AMGY"),i=n("N4j0"),o=n("cQXm"),a=n("dgOU"),s=n("YaPU"),u=n("etqZ"),l=n("OVmG"),c=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},h=function(t){function e(e,n,r){t.call(this),this.parent=e,this.outerValue=n,this.outerIndex=r,this.index=0}return c(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(l.a),p=n("+CnV");e.a=function(t,e,n,l){var c=new h(t,n,l);if(c.closed)return null;if(e instanceof s.a)return e._isScalar?(c.next(e.value),c.complete(),null):(c.syncErrorThrowable=!0,e.subscribe(c));if(Object(i.a)(e)){for(var f=0,d=e.length;f<d&&!c.closed;f++)c.next(e[f]);c.closed||c.complete()}else{if(Object(o.a)(e))return e.then(function(t){c.closed||(c.next(t),c.complete())},function(t){return c.error(t)}).then(null,function(t){r.a.setTimeout(function(){throw t})}),c;if(e&&"function"==typeof e[u.a])for(var g=e[u.a]();;){var y=g.next();if(y.done){c.complete();break}if(c.next(y.value),c.closed)break}else if(e&&"function"==typeof e[p.a]){var v=e[p.a]();if("function"==typeof v.subscribe)return v.subscribe(new h(t,n,l));c.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var _=Object(a.a)(e)?"an invalid object":"'"+e+"'",m="You provided "+_+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";c.error(new TypeError(m))}}return null}},QBya:function(t,e,n){"use strict";var r=n("FeXB"),i={asColorLike:function(t){return i.isColorLike(t)?t:r.a.asString(t)},isColorLike:function(t){return"string"==typeof t||t instanceof CanvasPattern||t instanceof CanvasGradient}};e.a=i},Qbdm:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"BrowserModule",function(){return Zt}),n.d(e,"platformBrowser",function(){return zt}),n.d(e,"Meta",function(){return C}),n.d(e,"Title",function(){return S}),n.d(e,"disableDebugTools",function(){return ne}),n.d(e,"enableDebugTools",function(){return ee}),n.d(e,"By",function(){return re}),n.d(e,"NgProbeToken",function(){return M}),n.d(e,"DOCUMENT",function(){return _}),n.d(e,"EVENT_MANAGER_PLUGINS",function(){return F}),n.d(e,"EventManager",function(){return k}),n.d(e,"HAMMER_GESTURE_CONFIG",function(){return rt}),n.d(e,"HammerGestureConfig",function(){return it}),n.d(e,"DomSanitizer",function(){return Ft}),n.d(e,"VERSION",function(){return ie}),n.d(e,"\u0275BROWSER_SANITIZATION_PROVIDERS",function(){return Xt}),n.d(e,"\u0275INTERNAL_BROWSER_PLATFORM_PROVIDERS",function(){return Wt}),n.d(e,"\u0275initDomAdapter",function(){return Yt}),n.d(e,"\u0275BrowserDomAdapter",function(){return y}),n.d(e,"\u0275BrowserPlatformLocation",function(){return E}),n.d(e,"\u0275TRANSITION_ID",function(){return b}),n.d(e,"\u0275BrowserGetTestability",function(){return R}),n.d(e,"\u0275ELEMENT_PROBE_PROVIDERS",function(){return N}),n.d(e,"\u0275DomAdapter",function(){return c}),n.d(e,"\u0275getDOM",function(){return s}),n.d(e,"\u0275setRootDomAdapter",function(){return u}),n.d(e,"\u0275DomRendererFactory2",function(){return q}),n.d(e,"\u0275NAMESPACE_URIS",function(){return V}),n.d(e,"\u0275flattenStyles",function(){return Y}),n.d(e,"\u0275shimContentAttribute",function(){return X}),n.d(e,"\u0275shimHostAttribute",function(){return z}),n.d(e,"\u0275DomEventsPlugin",function(){return et}),n.d(e,"\u0275HammerGesturesPlugin",function(){return ot}),n.d(e,"\u0275KeyEventsPlugin",function(){return ut}),n.d(e,"\u0275DomSharedStylesHost",function(){return G}),n.d(e,"\u0275SharedStylesHost",function(){return U}),n.d(e,"\u0275b",function(){return qt}),n.d(e,"\u0275a",function(){return Kt}),n.d(e,"\u0275h",function(){return h}),n.d(e,"\u0275g",function(){return w}),n.d(e,"\u0275f",function(){return x}),n.d(e,"\u0275c",function(){return D}),n.d(e,"\u0275d",function(){return j}),n.d(e,"\u0275e",function(){return kt});var r=n("TToO"),i=n("2Je8"),o=n("3j3K"),a=null;function s(){return a}function u(t){a||(a=t)}var l,c=function(){function t(){this.resourceLoaderType=null}return t.prototype.hasProperty=function(t,e){},t.prototype.setProperty=function(t,e,n){},t.prototype.getProperty=function(t,e){},t.prototype.invoke=function(t,e,n){},t.prototype.logError=function(t){},t.prototype.log=function(t){},t.prototype.logGroup=function(t){},t.prototype.logGroupEnd=function(){},Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t.prototype.contains=function(t,e){},t.prototype.parse=function(t){},t.prototype.querySelector=function(t,e){},t.prototype.querySelectorAll=function(t,e){},t.prototype.on=function(t,e,n){},t.prototype.onAndCancel=function(t,e,n){},t.prototype.dispatchEvent=function(t,e){},t.prototype.createMouseEvent=function(t){},t.prototype.createEvent=function(t){},t.prototype.preventDefault=function(t){},t.prototype.isPrevented=function(t){},t.prototype.getInnerHTML=function(t){},t.prototype.getTemplateContent=function(t){},t.prototype.getOuterHTML=function(t){},t.prototype.nodeName=function(t){},t.prototype.nodeValue=function(t){},t.prototype.type=function(t){},t.prototype.content=function(t){},t.prototype.firstChild=function(t){},t.prototype.nextSibling=function(t){},t.prototype.parentElement=function(t){},t.prototype.childNodes=function(t){},t.prototype.childNodesAsList=function(t){},t.prototype.clearNodes=function(t){},t.prototype.appendChild=function(t,e){},t.prototype.removeChild=function(t,e){},t.prototype.replaceChild=function(t,e,n){},t.prototype.remove=function(t){},t.prototype.insertBefore=function(t,e,n){},t.prototype.insertAllBefore=function(t,e,n){},t.prototype.insertAfter=function(t,e,n){},t.prototype.setInnerHTML=function(t,e){},t.prototype.getText=function(t){},t.prototype.setText=function(t,e){},t.prototype.getValue=function(t){},t.prototype.setValue=function(t,e){},t.prototype.getChecked=function(t){},t.prototype.setChecked=function(t,e){},t.prototype.createComment=function(t){},t.prototype.createTemplate=function(t){},t.prototype.createElement=function(t,e){},t.prototype.createElementNS=function(t,e,n){},t.prototype.createTextNode=function(t,e){},t.prototype.createScriptTag=function(t,e,n){},t.prototype.createStyleElement=function(t,e){},t.prototype.createShadowRoot=function(t){},t.prototype.getShadowRoot=function(t){},t.prototype.getHost=function(t){},t.prototype.getDistributedNodes=function(t){},t.prototype.clone=function(t){},t.prototype.getElementsByClassName=function(t,e){},t.prototype.getElementsByTagName=function(t,e){},t.prototype.classList=function(t){},t.prototype.addClass=function(t,e){},t.prototype.removeClass=function(t,e){},t.prototype.hasClass=function(t,e){},t.prototype.setStyle=function(t,e,n){},t.prototype.removeStyle=function(t,e){},t.prototype.getStyle=function(t,e){},t.prototype.hasStyle=function(t,e,n){},t.prototype.tagName=function(t){},t.prototype.attributeMap=function(t){},t.prototype.hasAttribute=function(t,e){},t.prototype.hasAttributeNS=function(t,e,n){},t.prototype.getAttribute=function(t,e){},t.prototype.getAttributeNS=function(t,e,n){},t.prototype.setAttribute=function(t,e,n){},t.prototype.setAttributeNS=function(t,e,n,r){},t.prototype.removeAttribute=function(t,e){},t.prototype.removeAttributeNS=function(t,e,n){},t.prototype.templateAwareRoot=function(t){},t.prototype.createHtmlDocument=function(){},t.prototype.getBoundingClientRect=function(t){},t.prototype.getTitle=function(t){},t.prototype.setTitle=function(t,e){},t.prototype.elementMatches=function(t,e){},t.prototype.isTemplateElement=function(t){},t.prototype.isTextNode=function(t){},t.prototype.isCommentNode=function(t){},t.prototype.isElementNode=function(t){},t.prototype.hasShadowRoot=function(t){},t.prototype.isShadowRoot=function(t){},t.prototype.importIntoDoc=function(t){},t.prototype.adoptNode=function(t){},t.prototype.getHref=function(t){},t.prototype.getEventKey=function(t){},t.prototype.resolveAndSetHref=function(t,e,n){},t.prototype.supportsDOMEvents=function(){},t.prototype.supportsNativeShadowDOM=function(){},t.prototype.getGlobalEventTarget=function(t,e){},t.prototype.getHistory=function(){},t.prototype.getLocation=function(){},t.prototype.getBaseHref=function(t){},t.prototype.resetBaseElement=function(){},t.prototype.getUserAgent=function(){},t.prototype.setData=function(t,e,n){},t.prototype.getComputedStyle=function(t){},t.prototype.getData=function(t,e){},t.prototype.supportsWebAnimation=function(){},t.prototype.performanceNow=function(){},t.prototype.getAnimationPrefix=function(){},t.prototype.getTransitionEnd=function(){},t.prototype.supportsAnimation=function(){},t.prototype.supportsCookies=function(){},t.prototype.getCookie=function(t){},t.prototype.setCookie=function(t,e){},t}(),h=function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=e.getStyle(n,r[i]+"AnimationName")){e._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])})}catch(t){e._animationPrefix=null,e._transitionEnd=null}return e}return r.a(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(c),p={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},f={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},d={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};o["\u0275global"].Node&&(l=o["\u0275global"].Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var g,y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){u(new e)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){t[e].apply(t,n)},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return p},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return l.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=document.createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&t instanceof HTMLTemplateElement?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return document.createComment(t)},e.prototype.createTemplate=function(t){var e=document.createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return void 0===e&&(e=document),e.createElement(t)},e.prototype.createElementNS=function(t,e,n){return void 0===n&&(n=document),n.createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return void 0===e&&(e=document),e.createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){void 0===n&&(n=document);var r=n.createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){void 0===e&&(e=document);var n=e.createElement("style");return this.appendChild(n,this.createTextNode(t)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n[r];e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return document.title},e.prototype.setTitle=function(t,e){document.title=e||""},e.prototype.elementMatches=function(t,e){return t instanceof HTMLElement&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return t instanceof HTMLElement&&"TEMPLATE"==t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.href},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&d.hasOwnProperty(e)&&(e=d[e]))}return f[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?document:"body"===e?document.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e=function(){if(!v&&!(v=document.querySelector("base")))return null;return v.getAttribute("href")}();return null==e?null:function(t){g||(g=document.createElement("a"));return g.setAttribute("href",t),"/"===g.pathname.charAt(0)?g.pathname:"/"+g.pathname}(e)},e.prototype.resetBaseElement=function(){v=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return Object(i["\u0275parseCookieValue"])(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(h),v=null;var _=i.DOCUMENT;function m(){return!!window.history.pushState}var E=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return r.a(e,t),e.prototype._init=function(){this._location=s().getLocation(),this._history=s().getHistory()},Object.defineProperty(e.prototype,"location",{get:function(){return this._location},enumerable:!0,configurable:!0}),e.prototype.getBaseHrefFromDOM=function(){return s().getBaseHref(this._doc)},e.prototype.onPopState=function(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this._location.pathname},set:function(t){this._location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this._location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this._location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){m()?this._history.pushState(t,e,n):this._location.hash=n},e.prototype.replaceState=function(t,e,n){m()?this._history.replaceState(t,e,n):this._location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e}(i.PlatformLocation);E.decorators=[{type:o.Injectable}],E.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.Inject,args:[_]}]}]};var C=function(){function t(t){this._doc=t,this._dom=s()}return t.prototype.addTag=function(t,e){return void 0===e&&(e=!1),t?this._getOrCreateElement(t,e):null},t.prototype.addTags=function(t,e){var n=this;return void 0===e&&(e=!1),t?t.reduce(function(t,r){return r&&t.push(n._getOrCreateElement(r,e)),t},[]):[]},t.prototype.getTag=function(t){return t?this._dom.querySelector(this._doc,"meta["+t+"]"):null},t.prototype.getTags=function(t){if(!t)return[];var e=this._dom.querySelectorAll(this._doc,"meta["+t+"]");return e?[].slice.call(e):[]},t.prototype.updateTag=function(t,e){if(!t)return null;e=e||this._parseSelector(t);var n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)},t.prototype.removeTag=function(t){this.removeTagElement(this.getTag(t))},t.prototype.removeTagElement=function(t){t&&this._dom.remove(t)},t.prototype._getOrCreateElement=function(t,e){if(void 0===e&&(e=!1),!e){var n=this._parseSelector(t),r=this.getTag(n);if(r&&this._containsAttributes(t,r))return r}var i=this._dom.createElement("meta");this._setMetaElementAttributes(t,i);var o=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(o,i),i},t.prototype._setMetaElementAttributes=function(t,e){var n=this;return Object.keys(t).forEach(function(r){return n._dom.setAttribute(e,r,t[r])}),e},t.prototype._parseSelector=function(t){var e=t.name?"name":"property";return e+'="'+t[e]+'"'},t.prototype._containsAttributes=function(t,e){var n=this;return Object.keys(t).every(function(r){return n._dom.getAttribute(e,r)===t[r]})},t}();C.decorators=[{type:o.Injectable}],C.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.Inject,args:[_]}]}]};var b=new o.InjectionToken("TRANSITION_ID");function x(t,e,n){return function(){n.get(o.ApplicationInitStatus).donePromise.then(function(){var n=s();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}}var T,w=[{provide:o.APP_INITIALIZER,useFactory:x,deps:[b,_,o.Injector],multi:!0}],R=function(){function t(){}return t.init=function(){Object(o.setTestabilityGetter)(new t)},t.prototype.addToWindow=function(t){o["\u0275global"].getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},o["\u0275global"].getAllAngularTestabilities=function(){return t.getAllTestabilities()},o["\u0275global"].getAllAngularRootElements=function(){return t.getAllRootElements()};o["\u0275global"].frameworkStabilizers||(o["\u0275global"].frameworkStabilizers=[]),o["\u0275global"].frameworkStabilizers.push(function(t){var e=o["\u0275global"].getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,s().getHost(e),!0):this.findTestabilityInTree(t,s().parentElement(e),!0):null},t}(),S=function(){function t(t){this._doc=t}return t.prototype.getTitle=function(){return s().getTitle(this._doc)},t.prototype.setTitle=function(t){s().setTitle(this._doc,t)},t}();function O(t,e){T||(o["\u0275global"].ng=T=o["\u0275global"].ng||{}),T[t]=e}S.decorators=[{type:o.Injectable}],S.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.Inject,args:[_]}]}]};var I={ApplicationRef:o.ApplicationRef,NgZone:o.NgZone},P="probe",A="coreTokens";function L(t){return Object(o.getDebugNode)(t)}var M=function(){return function(t,e){this.name=t,this.token=e}}();function D(t,e){var n=(t||[]).concat(e||[]);return O(P,L),O(A,Object.assign({},I,function(t){return t.reduce(function(t,e){return t[e.name]=e.token,t},{})}(n||[]))),function(){return L}}var N=[{provide:o.APP_INITIALIZER,useFactory:D,deps:[[M,new o.Optional],[o.NgProbeToken,new o.Optional]],multi:!0}],F=new o.InjectionToken("EventManagerPlugins"),k=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},t}();k.decorators=[{type:o.Injectable}],k.ctorParameters=function(){return[{type:Array,decorators:[{type:o.Inject,args:[F]}]},{type:o.NgZone}]};var j=function(){function t(t){this._doc=t}return t.prototype.supports=function(t){},t.prototype.addEventListener=function(t,e,n){},t.prototype.addGlobalEventListener=function(t,e,n){var r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,n)},t}(),U=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}();U.decorators=[{type:o.Injectable}],U.ctorParameters=function(){return[]};var G=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return r.a(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return s().remove(t)})},e}(U);G.decorators=[{type:o.Injectable}],G.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.Inject,args:[_]}]}]};var V={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},B=/%COMP%/g,H="_nghost-%COMP%",W="_ngcontent-%COMP%";function X(t){return W.replace(B,t)}function z(t){return H.replace(B,t)}function Y(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?Y(t,i,n):(i=i.replace(B,t),n.push(i))}return n}function K(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var q=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new Z(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case o.ViewEncapsulation.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new $(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case o.ViewEncapsulation.Native:return new tt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=Y(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}();q.decorators=[{type:o.Injectable}],q.ctorParameters=function(){return[{type:k},{type:G}]};var Z=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(V[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t){var e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error('The selector "'+t+'" did not match any elements');return e.textContent="",e},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var i=V[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=V[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,r){r&o.RendererStyleFlags2.DashCase?t.style.setProperty(e,n,r&o.RendererStyleFlags2.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&o.RendererStyleFlags2.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){Q(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return Q(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,K(n)):this.eventManager.addEventListener(t,e,K(n))},t}(),J="@".charCodeAt(0);function Q(t,e){if(t.charCodeAt(0)===J)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var $=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.component=r;var o=Y(r.id,r.styles,[]);return n.addStyles(o),i.contentAttr=X(r.id),i.hostAttr=z(r.id),i}return r.a(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(Z),tt=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;o.sharedStylesHost=n,o.hostEl=r,o.component=i,o.shadowRoot=r.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var a=Y(i.id,i.styles,[]),s=0;s<a.length;s++){var u=document.createElement("style");u.textContent=a[s],o.shadowRoot.appendChild(u)}return o}return r.a(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(Z),et=function(t){function e(e){return t.call(this,e)||this}return r.a(e,t),e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){return t.addEventListener(e,n,!1),function(){return t.removeEventListener(e,n,!1)}},e}(j);et.decorators=[{type:o.Injectable}],et.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.Inject,args:[_]}]}]};var nt={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},rt=new o.InjectionToken("HammerGestureConfig"),it=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e},t}();it.decorators=[{type:o.Injectable}],it.ctorParameters=function(){return[]};var ot=function(t){function e(e,n){var r=t.call(this,e)||this;return r._config=n,r}return r.a(e,t),e.prototype.supports=function(t){if(!nt.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t))return!1;if(!window.Hammer)throw new Error("Hammer.js is not loaded, can not bind "+t+" event");return!0},e.prototype.addEventListener=function(t,e,n){var r=this,i=this.manager.getZone();return e=e.toLowerCase(),i.runOutsideAngular(function(){var o=r._config.buildHammer(t),a=function(t){i.runGuarded(function(){n(t)})};return o.on(e,a),function(){return o.off(e,a)}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(j);ot.decorators=[{type:o.Injectable}],ot.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.Inject,args:[_]}]},{type:it,decorators:[{type:o.Inject,args:[rt]}]}]};var at=["alt","control","meta","shift"],st={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},ut=function(t){function e(e){return t.call(this,e)||this}return r.a(e,t),e.prototype.supports=function(t){return null!=e.parseEventName(t)},e.prototype.addEventListener=function(t,n,r){var i=e.parseEventName(n),o=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return s().onAndCancel(t,i.domEventName,o)})},e.parseEventName=function(t){var n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var i=e._normalizeKey(n.pop()),o="";if(at.forEach(function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a},e.getEventFullKey=function(t){var e="",n=s().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),at.forEach(function(r){r!=n&&((0,st[r])(t)&&(e+=r+"."))}),e+=n},e.eventCallback=function(t,n,r){return function(i){e.getEventFullKey(i)===t&&r.runGuarded(function(){return n(i)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(j);ut.decorators=[{type:o.Injectable}],ut.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.Inject,args:[_]}]}]};var lt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,ct=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ht(t){return(t=String(t)).match(lt)||t.match(ct)?t:(Object(o.isDevMode)()&&s().log("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}var pt=null,ft=null;function dt(t){for(var e={},n=0,r=t.split(",");n<r.length;n++){e[r[n]]=!0}return e}function gt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},r=0,i=t;r<i.length;r++){var o=i[r];for(var a in o)o.hasOwnProperty(a)&&(n[a]=!0)}return n}var yt=dt("area,br,col,hr,img,wbr"),vt=dt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_t=dt("rp,rt"),mt=gt(_t,vt),Et=gt(vt,dt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ct=gt(_t,dt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),bt=gt(yt,Et,Ct,mt),xt=dt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Tt=dt("srcset"),wt=dt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Rt=gt(xt,Tt,wt),St=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild;e;)if(ft.isElementNode(e)?this.startElement(e):ft.isTextNode(e)?this.chars(ft.nodeValue(e)):this.sanitizedSomething=!0,ft.firstChild(e))e=ft.firstChild(e);else for(;e;){ft.isElementNode(e)&&this.endElement(e);var n=Ot(e,ft.nextSibling(e));if(n){e=n;break}e=Ot(e,ft.parentElement(e))}return this.buf.join("")},t.prototype.startElement=function(t){var e=this,n=ft.nodeName(t).toLowerCase();bt.hasOwnProperty(n)?(this.buf.push("<"),this.buf.push(n),ft.attributeMap(t).forEach(function(t,n){var r,i=n.toLowerCase();Rt.hasOwnProperty(i)?(xt[i]&&(t=ht(t)),Tt[i]&&(r=t,t=(r=String(r)).split(",").map(function(t){return ht(t.trim())}).join(", ")),e.buf.push(" "),e.buf.push(n),e.buf.push('="'),e.buf.push(At(t)),e.buf.push('"')):e.sanitizedSomething=!0}),this.buf.push(">")):this.sanitizedSomething=!0},t.prototype.endElement=function(t){var e=ft.nodeName(t).toLowerCase();bt.hasOwnProperty(e)&&!yt.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(At(t))},t}();function Ot(t,e){if(e&&ft.contains(t,e))throw new Error("Failed to sanitize html because the element is clobbered: "+ft.getOuterHTML(t));return e}var It=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Pt=/([^\#-~ |!])/g;function At(t){return t.replace(/&/g,"&amp;").replace(It,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Pt,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Lt(t){ft.attributeMap(t).forEach(function(e,n){"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||ft.removeAttribute(t,n)});for(var e=0,n=ft.childNodesAsList(t);e<n.length;e++){var r=n[e];ft.isElementNode(r)&&Lt(r)}}function Mt(t,e){try{var n=function(){if(pt)return pt;var t=(ft=s()).createElement("template");if("content"in t)return t;var e=ft.createHtmlDocument();if(null==(pt=ft.querySelector(e,"body"))){var n=ft.createElement("html",e);pt=ft.createElement("body",e),ft.appendChild(n,pt),ft.appendChild(e,n)}return pt}(),r=e?String(e):"",i=5,a=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=a,ft.setInnerHTML(n,r),t.documentMode&&Lt(n),a=ft.getInnerHTML(n)}while(r!==a);for(var u=new St,l=u.sanitizeChildren(ft.getTemplateContent(n)||n),c=ft.getTemplateContent(n)||n,h=0,p=ft.childNodesAsList(c);h<p.length;h++){var f=p[h];ft.removeChild(c,f)}return Object(o.isDevMode)()&&u.sanitizedSomething&&ft.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),l}catch(t){throw pt=null,t}}var Dt=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Nt=/^url\(([^)]+)\)$/;var Ft=function(){function t(){}return t.prototype.sanitize=function(t,e){},t.prototype.bypassSecurityTrustHtml=function(t){},t.prototype.bypassSecurityTrustStyle=function(t){},t.prototype.bypassSecurityTrustScript=function(t){},t.prototype.bypassSecurityTrustUrl=function(t){},t.prototype.bypassSecurityTrustResourceUrl=function(t){},t}(),kt=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return r.a(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case o.SecurityContext.NONE:return e;case o.SecurityContext.HTML:return e instanceof Ut?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),Mt(this._doc,String(e)));case o.SecurityContext.STYLE:return e instanceof Gt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";var e=t.match(Nt);return e&&ht(e[1])===e[1]||t.match(Dt)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Object(o.isDevMode)()&&s().log("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}(e));case o.SecurityContext.SCRIPT:if(e instanceof Vt)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case o.SecurityContext.URL:return e instanceof Ht||e instanceof Bt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),ht(String(e)));case o.SecurityContext.RESOURCE_URL:if(e instanceof Ht)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof jt)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new Ut(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new Gt(t)},e.prototype.bypassSecurityTrustScript=function(t){return new Vt(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new Bt(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new Ht(t)},e}(Ft);kt.decorators=[{type:o.Injectable}],kt.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.Inject,args:[_]}]}]};var jt=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.getTypeName=function(){},t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),Ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(jt),Gt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype.getTypeName=function(){return"Style"},e}(jt),Vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype.getTypeName=function(){return"Script"},e}(jt),Bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype.getTypeName=function(){return"URL"},e}(jt),Ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(jt),Wt=[{provide:o.PLATFORM_ID,useValue:i["\u0275PLATFORM_BROWSER_ID"]},{provide:o.PLATFORM_INITIALIZER,useValue:Yt,multi:!0},{provide:i.PlatformLocation,useClass:E},{provide:_,useFactory:qt,deps:[]}],Xt=[{provide:o.Sanitizer,useExisting:Ft},{provide:Ft,useClass:kt}],zt=Object(o.createPlatformFactory)(o.platformCore,"browser",Wt);function Yt(){y.makeCurrent(),R.init()}function Kt(){return new o.ErrorHandler}function qt(){return document}var Zt=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return t.withServerTransition=function(e){return{ngModule:t,providers:[{provide:o.APP_ID,useValue:e.appId},{provide:b,useExisting:o.APP_ID},w]}},t}();Zt.decorators=[{type:o.NgModule,args:[{providers:[Xt,{provide:o.ErrorHandler,useFactory:Kt,deps:[]},{provide:F,useClass:et,multi:!0},{provide:F,useClass:ut,multi:!0},{provide:F,useClass:ot,multi:!0},{provide:rt,useClass:it},q,{provide:o.RendererFactory2,useExisting:q},{provide:U,useExisting:G},G,o.Testability,k,N,C,S],exports:[i.CommonModule,o.ApplicationModule]}]}],Zt.ctorParameters=function(){return[{type:Zt,decorators:[{type:o.Optional},{type:o.SkipSelf}]}]};var Jt="undefined"!=typeof window&&window||{},Qt=function(){return function(t,e){this.msPerTick=t,this.numTicks=e}}(),$t=function(){function t(t){this.appRef=t.injector.get(o.ApplicationRef)}return t.prototype.timeChangeDetection=function(t){var e=t&&t.record,n=null!=Jt.console.profile;e&&n&&Jt.console.profile("Change Detection");for(var r=s().performanceNow(),i=0;i<5||s().performanceNow()-r<500;)this.appRef.tick(),i++;var o=s().performanceNow();e&&n&&Jt.console.profileEnd("Change Detection");var a=(o-r)/i;return Jt.console.log("ran "+i+" change detection cycles"),Jt.console.log(a.toFixed(2)+" ms per check"),new Qt(a,i)},t}(),te="profiler";function ee(t){return O(te,new $t(t)),t}function ne(){O(te,null)}var re=function(){function t(){}return t.all=function(){return function(t){return!0}},t.css=function(t){return function(e){return null!=e.nativeElement&&s().elementMatches(e.nativeElement,t)}},t.directive=function(t){return function(e){return-1!==e.providerTokens.indexOf(t)}},t}(),ie=new o.Version("4.4.6")},Qnch:function(t,e,n){"use strict";e.a=function(t,e,n){void 0===n&&(n=Number.POSITIVE_INFINITY);return function(r){return"number"==typeof e&&(n=e,e=null),r.lift(new a(t,e,n))}};var r=n("PIsA"),i=n("tZ2B"),o=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)};var a=function(){function t(t,e,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.resultSelector,this.concurrent))},t}(),s=function(t){function e(e,n,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.project=n,this.resultSelector=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return o(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(Object(r.a)(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.resultSelector?this._notifyResultSelector(t,e,n,r):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,n,r){var i;try{i=this.resultSelector(t,e,n,r)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(i.a)},RUSk:function(t,e,n){"use strict";var r={transform2D:function(t,e,n,r,i,o){var a,s=o||[],u=0;for(a=e;a<n;a+=r){var l=t[a],c=t[a+1];s[u++]=i[0]*l+i[2]*c+i[4],s[u++]=i[1]*l+i[3]*c+i[5]}return o&&s.length!=u&&(s.length=u),s},rotate:function(t,e,n,r,i,o,a){for(var s=a||[],u=Math.cos(i),l=Math.sin(i),c=o[0],h=o[1],p=0,f=e;f<n;f+=r){var d=t[f]-c,g=t[f+1]-h;s[p++]=c+d*u-g*l,s[p++]=h+d*l+g*u;for(var y=f+2;y<f+r;++y)s[p++]=t[y]}return a&&s.length!=p&&(s.length=p),s},scale:function(t,e,n,r,i,o,a,s){for(var u=s||[],l=a[0],c=a[1],h=0,p=e;p<n;p+=r){var f=t[p]-l,d=t[p+1]-c;u[h++]=l+i*f,u[h++]=c+o*d;for(var g=p+2;g<p+r;++g)u[h++]=t[g]}return s&&u.length!=h&&(u.length=h),u},translate:function(t,e,n,r,i,o,a){var s,u,l=a||[],c=0;for(s=e;s<n;s+=r)for(l[c++]=t[s]+i,l[c++]=t[s+1]+o,u=s+2;u<s+r;++u)l[c++]=t[u];return a&&l.length!=c&&(l.length=c),l}};e.a=r},Rf9G:function(t,e,n){"use strict";var r=n("g5jc"),i=n("YaPU"),o=n("OVmG"),a=n("VwZZ"),s=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)};function u(){return function(t){return t.lift(new l(t))}}var l=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new c(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),c=function(t){function e(e,n){t.call(this,e),this.connectable=n}return s(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(o.a),h=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},p=function(t){function e(e,n){t.call(this),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}return h(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.a).add(this.source.subscribe(new d(this.getSubject(),this))),t.closed?(this._connection=null,t=a.a.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return u()(this)},e}(i.a).prototype,f={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:p._subscribe},_isComplete:{value:p._isComplete,writable:!0},getSubject:{value:p.getSubject},connect:{value:p.connect},refCount:{value:p.refCount}},d=function(t){function e(e,n){t.call(this,e),this.connectable=n}return h(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(r.b);o.a;var g=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i},t}();function y(){return new r.a}function v(){return function(t){return u()((e=y,function(t){var r;if(r="function"==typeof e?e:function(){return e},"function"==typeof n)return t.lift(new g(r,n));var i=Object.create(t,f);return i.source=t,i.subjectFactory=r,i})(t));var e,n}}e.a=function(){return v()(this)}},SHxT:function(t,e,n){"use strict";e.a={PROPERTYCHANGE:"propertychange"}},T4j3:function(t,e,n){"use strict";e.a={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},TILf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("YaPU"),i=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=function(t){function e(e,n){t.call(this),this.value=e,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return i(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.done,n=t.value,r=t.subscriber;e?r.complete():(r.next(n),r.closed||(t.done=!0,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.value,r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{done:!1,value:n,subscriber:t});t.next(n),t.closed||t.complete()},e}(r.a)},TToO:function(t,e,n){"use strict";e.a=function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};Object.assign},"U/IR":function(t,e,n){"use strict";e.a={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},Uw6n:function(t,e,n){"use strict";var r=n("OVmG"),i=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)};var o=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.predicate=n,this.thisArg=r,this.count=0}return i(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(r.a);e.a=function(t,e){return function(t,e){return function(n){return n.lift(new o(t,e))}}(t,e)(this)}},V2dr:function(t,e,n){"use strict";var r={TRUE:function(){return!0},FALSE:function(){return!1}};e.a=r},Veqx:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("YaPU"),i=n("TILf"),o=n("+3/4"),a=n("1Q68"),s=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},u=function(t){function e(e,n){t.call(this),this.array=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return s(e,t),e.create=function(t,n){return new e(t,n)},e.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=t[t.length-1];Object(a.a)(r)?t.pop():r=null;var s=t.length;return s>1?new e(t,r):1===s?new i.a(t[0],r):new o.a(r)},e.dispatch=function(t){var e=t.array,n=t.index,r=t.count,i=t.subscriber;n>=r?i.complete():(i.next(e[n]),i.closed||(t.index=n+1,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.array,r=n.length,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{array:n,index:0,count:r,subscriber:t});for(var o=0;o<r&&!t.closed;o++)t.next(n[o]);t.complete()},e}(r.a)},VwZZ:function(t,e,n){"use strict";var r,i=n("BX3T"),o=n("dgOU"),a=n("/iUD"),s={e:{}};function u(){try{return r.apply(this,arguments)}catch(t){return s.e=t,s}}function l(t){return r=t,u}var c=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},h=function(t){function e(e){t.call(this),this.errors=e;var n=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return c(e,t),e}(Error);n.d(e,"a",function(){return p});var p=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,r=this._parents,u=this._unsubscribe,c=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var p=-1,d=r?r.length:0;n;)n.remove(this),n=++p<d&&r[p]||null;if(Object(a.a)(u))l(u).call(this)===s&&(e=!0,t=t||(s.e instanceof h?f(s.e.errors):[s.e]));if(Object(i.a)(c))for(p=-1,d=c.length;++p<d;){var g=c[p];if(Object(o.a)(g))if(l(g.unsubscribe).call(g)===s){e=!0,t=t||[];var y=s.e;y instanceof h?t=t.concat(f(y.errors)):t.push(y)}}if(e)throw new h(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function f(t){return t.reduce(function(t,e){return t.concat(e instanceof h?e.errors:e)},[])}},WTDv:function(t,e,n){"use strict";e.a={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},YWe0:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=n("Veqx").a.of},YaPU:function(t,e,n){"use strict";var r=n("AMGY"),i=n("OVmG"),o=n("tLDX"),a=n("t7NR");var s=n("+CnV"),u=n("f9aG");n.d(e,"a",function(){return l});var l=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,s=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(a.a)}(t,e,n);if(r?r.call(s,this.source):s.add(this.source||!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var n=this;if(e||(r.a.Rx&&r.a.Rx.config&&r.a.Rx.config.Promise?e=r.a.Rx.config.Promise:r.a.Promise&&(e=r.a.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,r){var i;i=n.subscribe(function(e){if(i)try{t(e)}catch(t){r(t),i.unsubscribe()}else t(e)},r,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[s.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 0===t.length?this:Object(u.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;if(t||(r.a.Rx&&r.a.Rx.config&&r.a.Rx.config.Promise?t=r.a.Rx.config.Promise:r.a.Promise&&(t=r.a.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}()},ZDkq:function(t,e,n){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},ZVo0:function(t,e,n){"use strict";e.a={CHANGE:"change",CLEAR:"clear",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"}},ZXW8:function(t,e,n){"use strict";var r=n("/LWt"),i={linearRingContainsExtent:function(t,e,n,o,a){return!r.a.forEachCorner(a,function(r){return!i.linearRingContainsXY(t,e,n,o,r[0],r[1])})},linearRingContainsXY:function(t,e,n,r,i,o){for(var a=0,s=t[n-r],u=t[n-r+1];e<n;e+=r){var l=t[e],c=t[e+1];u<=o?c>o&&(l-s)*(o-u)-(i-s)*(c-u)>0&&a++:c<=o&&(l-s)*(o-u)-(i-s)*(c-u)<0&&a--,s=l,u=c}return 0!==a},linearRingsContainsXY:function(t,e,n,r,o,a){if(0===n.length)return!1;if(!i.linearRingContainsXY(t,e,n[0],r,o,a))return!1;var s,u;for(s=1,u=n.length;s<u;++s)if(i.linearRingContainsXY(t,n[s-1],n[s],r,o,a))return!1;return!0},linearRingssContainsXY:function(t,e,n,r,o,a){if(0===n.length)return!1;var s,u;for(s=0,u=n.length;s<u;++s){var l=n[s];if(i.linearRingsContainsXY(t,e,l,r,o,a))return!0;e=l[l.length-1]}return!1}};e.a=i},aC3Q:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CXX0"),i=n("ECY+"),o=n("bHOE"),a=n("AHF+"),s=n("tFCN"),u=n("tOEd"),l=function(t){var e=t||{},n=s.a.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,o.a.call(this,n),this.declutter_=void 0!==e.declutter&&e.declutter,this.renderBuffer_=void 0!==e.renderBuffer?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=void 0!==e.updateWhileAnimating&&e.updateWhileAnimating,this.updateWhileInteracting_=void 0!==e.updateWhileInteracting&&e.updateWhileInteracting,this.renderMode_=e.renderMode||a.a.VECTOR,this.type=i.a.VECTOR};r.a.inherits(l,o.a),l.prototype.getDeclutter=function(){return this.declutter_},l.prototype.setDeclutter=function(t){this.declutter_=t},l.prototype.getRenderBuffer=function(){return this.renderBuffer_},l.prototype.getRenderOrder=function(){return this.get(l.Property_.RENDER_ORDER)},l.prototype.getSource,l.prototype.getStyle=function(){return this.style_},l.prototype.getStyleFunction=function(){return this.styleFunction_},l.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},l.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},l.prototype.setRenderOrder=function(t){this.set(l.Property_.RENDER_ORDER,t)},l.prototype.setStyle=function(t){this.style_=void 0!==t?t:u.default.defaultFunction,this.styleFunction_=null===t?void 0:u.default.createFunction(this.style_),this.changed()},l.prototype.getRenderMode=function(){return this.renderMode_},l.Property_={RENDER_ORDER:"renderOrder"},e.default=l},aStr:function(t,e,n){"use strict";e.a={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},azsZ:function(t,e,n){"use strict";var r=n("OEyb"),i={};i.tmp_=new Array(6),i.create=function(){return[1,0,0,1,0,0]},i.reset=function(t){return i.set(t,1,0,0,1,0,0)},i.multiply=function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=e[0],l=e[1],c=e[2],h=e[3],p=e[4],f=e[5];return t[0]=n*u+i*l,t[1]=r*u+o*l,t[2]=n*c+i*h,t[3]=r*c+o*h,t[4]=n*p+i*f+a,t[5]=r*p+o*f+s,t},i.set=function(t,e,n,r,i,o,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t},i.setFromArray=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},i.apply=function(t,e){var n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e},i.rotate=function(t,e){var n=Math.cos(e),r=Math.sin(e);return i.multiply(t,i.set(i.tmp_,n,r,-r,n,0,0))},i.scale=function(t,e,n){return i.multiply(t,i.set(i.tmp_,e,0,0,n,0,0))},i.translate=function(t,e,n){return i.multiply(t,i.set(i.tmp_,1,0,0,1,e,n))},i.compose=function(t,e,n,r,i,o,a,s){var u=Math.sin(o),l=Math.cos(o);return t[0]=r*l,t[1]=i*u,t[2]=-r*u,t[3]=i*l,t[4]=a*r*l-s*r*u+e,t[5]=a*i*u+s*i*l+n,t},i.invert=function(t){var e=i.determinant(t);r.a.assert(0!==e,32);var n=t[0],o=t[1],a=t[2],s=t[3],u=t[4],l=t[5];return t[0]=s/e,t[1]=-o/e,t[2]=-a/e,t[3]=n/e,t[4]=(a*l-s*u)/e,t[5]=-(n*l-o*u)/e,t},i.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},e.a=i},bHOE:function(t,e,n){"use strict";var r=n("6t+W"),i=n("ZVo0"),o=n("CXX0"),a=n("sR3l"),s=n("mLRC"),u=n("8gh8"),l=n("tFCN"),c=n("Jopg"),h=n("T4j3"),p=function(t){var e=l.a.assign({},t);delete e.source,s.a.call(this,e),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,t.map&&this.setMap(t.map),r.a.listen(this,a.a.getChangeEventType(u.a.SOURCE),this.handleSourcePropertyChange_,this);var n=t.source?t.source:null;this.setSource(n)};o.a.inherits(p,s.a),p.visibleAtResolution=function(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution},p.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},p.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},p.prototype.getSource=function(){return this.get(u.a.SOURCE)||null},p.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():h.a.UNDEFINED},p.prototype.handleSourceChange_=function(){this.changed()},p.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(r.a.unlistenByKey(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=r.a.listen(t,i.a.CHANGE,this.handleSourceChange_,this)),this.changed()},p.prototype.setMap=function(t){this.mapPrecomposeKey_&&(r.a.unlistenByKey(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(r.a.unlistenByKey(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=r.a.listen(t,c.a.PRECOMPOSE,function(t){var e=this.getLayerState();e.managed=!1,e.zIndex=1/0,t.frameState.layerStatesArray.push(e),t.frameState.layerStates[o.a.getUid(this)]=e},this),this.mapRenderKey_=r.a.listen(this,i.a.CHANGE,t.render,t),this.changed())},p.prototype.setSource=function(t){this.set(u.a.SOURCE,t)},e.a=p},"beD/":function(t,e,n){"use strict";var r=n("FeXB"),i=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};i.getKey=function(t,e,n){return e+":"+t+":"+(n?r.a.asString(n):"null")},i.prototype.clear=function(){this.cache_={},this.cacheSize_=0},i.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t,e,n=0;for(t in this.cache_)e=this.cache_[t],0!=(3&n++)||e.hasListener()||(delete this.cache_[t],--this.cacheSize_)}},i.prototype.get=function(t,e,n){var r=i.getKey(t,e,n);return r in this.cache_?this.cache_[r]:null},i.prototype.set=function(t,e,n,r){var o=i.getKey(t,e,n);this.cache_[o]=r,++this.cacheSize_},i.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()};var o=i,a={};a.iconImageCache=new o;e.a=a},bmSR:function(t,e,n){"use strict";var r=n("o1z/"),i={point:function(t,e,n,i,o,a,s){var u,l,c=t[e],h=t[e+1],p=t[n]-c,f=t[n+1]-h;if(0===p&&0===f)l=e;else{var d=((o-c)*p+(a-h)*f)/(p*p+f*f);if(d>1)l=n;else{if(d>0){for(u=0;u<i;++u)s[u]=r.a.lerp(t[e+u],t[n+u],d);return void(s.length=i)}l=e}}for(u=0;u<i;++u)s[u]=t[l+u];s.length=i},getMaxSquaredDelta:function(t,e,n,i,o){var a=t[e],s=t[e+1];for(e+=i;e<n;e+=i){var u=t[e],l=t[e+1],c=r.a.squaredDistance(a,s,u,l);c>o&&(o=c),a=u,s=l}return o},getsMaxSquaredDelta:function(t,e,n,r,o){var a,s;for(a=0,s=n.length;a<s;++a){var u=n[a];o=i.getMaxSquaredDelta(t,e,u,r,o),e=u}return o},getssMaxSquaredDelta:function(t,e,n,r,o){var a,s;for(a=0,s=n.length;a<s;++a){var u=n[a];o=i.getsMaxSquaredDelta(t,e,u,r,o),e=u[u.length-1]}return o},getClosestPoint:function(t,e,n,o,a,s,u,l,c,h,p){if(e==n)return h;var f,d;if(0===a){if((d=r.a.squaredDistance(u,l,t[e],t[e+1]))<h){for(f=0;f<o;++f)c[f]=t[e+f];return c.length=o,d}return h}for(var g=p||[NaN,NaN],y=e+o;y<n;)if(i.point(t,y-o,y,o,u,l,g),(d=r.a.squaredDistance(u,l,g[0],g[1]))<h){for(h=d,f=0;f<o;++f)c[f]=g[f];c.length=o,y+=o}else y+=o*Math.max((Math.sqrt(d)-Math.sqrt(h))/a|0,1);if(s&&(i.point(t,n-o,e,o,u,l,g),(d=r.a.squaredDistance(u,l,g[0],g[1]))<h)){for(h=d,f=0;f<o;++f)c[f]=g[f];c.length=o}return h},getsClosestPoint:function(t,e,n,r,o,a,s,u,l,c,h){var p,f,d=h||[NaN,NaN];for(p=0,f=n.length;p<f;++p){var g=n[p];c=i.getClosestPoint(t,e,g,r,o,a,s,u,l,c,d),e=g}return c},getssClosestPoint:function(t,e,n,r,o,a,s,u,l,c,h){var p,f,d=h||[NaN,NaN];for(p=0,f=n.length;p<f;++p){var g=n[p];c=i.getsClosestPoint(t,e,g,r,o,a,s,u,l,c,d),e=g[g.length-1]}return c}};e.a=i},cQXm:function(t,e,n){"use strict";e.a=function(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}},dDPv:function(t,e,n){"use strict";var r=n("CXX0"),i=n("mkUQ"),o=n("6t+W"),a=n("J25b"),s=function(){i.a.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}};r.a.inherits(s,i.a),s.prototype.addEventListener=function(t,e){var n=this.listeners_[t];n||(n=this.listeners_[t]=[]),-1===n.indexOf(e)&&n.push(e)},s.prototype.dispatchEvent=function(t){var e="string"==typeof t?new a.a(t):t,n=e.type;e.target=this;var i,o=this.listeners_[n];if(o){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var s=0,u=o.length;s<u;++s)if(!1===o[s].call(this,e)||e.propagationStopped){i=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var l=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];l--;)this.removeEventListener(n,r.a.nullFunction);delete this.dispatching_[n]}return i}},s.prototype.disposeInternal=function(){o.a.unlistenAll(this)},s.prototype.getListeners=function(t){return this.listeners_[t]},s.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},s.prototype.removeEventListener=function(t,e){var n=this.listeners_[t];if(n){var i=n.indexOf(e);t in this.pendingRemovals_?(n[i]=r.a.nullFunction,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t])}},e.a=s},dgOU:function(t,e,n){"use strict";e.a=function(t){return null!=t&&"object"==typeof t}},emf4:function(t,e,n){"use strict";t.exports=i;var r=n("ILa1");function i(t,e){if(!(this instanceof i))return new i(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function a(t,e){s(t,0,t.children.length,e,t)}function s(t,e,n,r,i){i||(i=g(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,a=e;a<n;a++)o=t.children[a],u(i,t.leaf?r(o):o);return i}function u(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function p(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function d(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function g(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(t,e,n,i,o){for(var a,s=[e,n];s.length;)(n=s.pop())-(e=s.pop())<=i||(a=e+Math.ceil((n-e)/i/2)*i,r(t,a,e,n,o),s.push(e,a,a,n))}i.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!d(t,e))return n;for(var i,o,a,s,u=[];e;){for(i=0,o=e.children.length;i<o;i++)a=e.children[i],d(t,s=e.leaf?r(a):a)&&(e.leaf?n.push(a):f(t,s)?this._all(a,n):u.push(a));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!d(t,e))return!1;for(var r,i,o,a,s=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],d(t,a=e.leaf?n(o):o)){if(e.leaf||f(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,a,s=this.data,u=this.toBBox(t),l=[],c=[];s||l.length;){if(s||(s=l.pop(),r=l[l.length-1],n=c.pop(),a=!0),s.leaf&&-1!==(i=o(t,s.children,e)))return s.children.splice(i,1),l.push(s),this._condense(l),this;a||s.leaf||!f(s,u)?r?(n++,s=r.children[n],a=!1):s=null:(l.push(s),c.push(n),n=0,r=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:l,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,s=this._maxEntries;if(o<=s)return a(i=g(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),(i=g([])).leaf=!1,i.height=r;var u,l,c,h,p=Math.ceil(o/s),f=p*Math.ceil(Math.sqrt(s));for(y(t,e,n,f,this.compareMinX),u=e;u<=n;u+=f)for(y(t,u,c=Math.min(u+f-1,n),p,this.compareMinY),l=u;l<=c;l+=p)h=Math.min(l+p-1,c),i.children.push(this._build(t,l,h,r-1));return a(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,a,s,u,l,c,p,f,d;r.push(e),!e.leaf&&r.length-1!==n;){for(c=p=1/0,i=0,o=e.children.length;i<o;i++)u=h(a=e.children[i]),f=t,d=a,(l=(Math.max(d.maxX,f.maxX)-Math.min(d.minX,f.minX))*(Math.max(d.maxY,f.maxY)-Math.min(d.minY,f.minY))-u)<p?(p=l,c=u<c?u:c,s=a):l===p&&u<c&&(c=u,s=a);e=s||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,i=n?t:r(t),o=[],a=this._chooseSubtree(i,this.data,e,o);for(a.children.push(t),u(a,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),s=g(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,a(n,this.toBBox),a(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(t,e){this.data=g([t,e]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,a,u,l,c,p,f,d,g,y,v,_;for(l=c=1/0,r=e;r<=n-e;r++)i=s(t,0,r,this.toBBox),o=s(t,r,n,this.toBBox),f=i,d=o,void 0,void 0,void 0,void 0,g=Math.max(f.minX,d.minX),y=Math.max(f.minY,d.minY),v=Math.min(f.maxX,d.maxX),_=Math.min(f.maxY,d.maxY),a=Math.max(0,v-g)*Math.max(0,_-y),u=h(i)+h(o),a<l?(l=a,p=r,c=u<c?u:c):a===l&&u<c&&(c=u,p=r);return p},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:l,i=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,a=this.toBBox,l=s(t,0,e,a),c=s(t,n-e,n,a),h=p(l)+p(c);for(i=e;i<n-e;i++)o=t.children[i],u(l,t.leaf?a(o):o),h+=p(l);for(i=n-e-1;i>=e;i--)o=t.children[i],u(c,t.leaf?a(o):o),h+=p(c);return h},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)u(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():a(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},etqZ:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var n=t.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=t.Map;if(r)for(var i=Object.getOwnPropertyNames(r.prototype),o=0;o<i.length;++o){var a=i[o];if("entries"!==a&&"size"!==a&&r.prototype[a]===r.prototype.entries)return a}return"@@iterator"}(n("AMGY").a)},f5c8:function(t,e,n){"use strict";var r=n("CXX0"),i=n("V2dr"),o=n("/LWt"),a=n("A6q1"),s=n("aStr"),u=n("RUSk"),l=n("tFCN"),c=function(){a.a.call(this),this.layout=s.a.XY,this.stride=2,this.flatCoordinates=null};r.a.inherits(c,a.a),c.getLayoutForStride_=function(t){var e;return 2==t?e=s.a.XY:3==t?e=s.a.XYZ:4==t&&(e=s.a.XYZM),e},c.getStrideForLayout=function(t){var e;return t==s.a.XY?e=2:t==s.a.XYZ||t==s.a.XYM?e=3:t==s.a.XYZM&&(e=4),e},c.prototype.containsXY=i.a.FALSE,c.prototype.computeExtent=function(t){return o.a.createOrUpdateFromFlatCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},c.prototype.getCoordinates=function(){},c.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},c.prototype.getFlatCoordinates=function(){return this.flatCoordinates},c.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},c.prototype.getLayout=function(){return this.layout},c.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(l.a.clear(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[e]=n,n):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},c.prototype.getSimplifiedGeometryInternal=function(t){return this},c.prototype.getStride=function(){return this.stride},c.prototype.setFlatCoordinatesInternal=function(t,e){this.stride=c.getStrideForLayout(t),this.layout=t,this.flatCoordinates=e},c.prototype.setCoordinates=function(t,e){},c.prototype.setLayout=function(t,e,n){var r;if(t)r=c.getStrideForLayout(t);else{var i;for(i=0;i<n;++i){if(0===e.length)return this.layout=s.a.XY,void(this.stride=2);e=e[0]}r=e.length,t=c.getLayoutForStride_(r)}this.layout=t,this.stride=r},c.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},c.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();u.a.rotate(n,0,n.length,r,t,e,n),this.changed()}},c.prototype.scale=function(t,e,n){var r=e;void 0===r&&(r=t);var i=n;i||(i=o.a.getCenter(this.getExtent()));var a=this.getFlatCoordinates();if(a){var s=this.getStride();u.a.scale(a,0,a.length,s,t,r,i,a),this.changed()}},c.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();u.a.translate(n,0,n.length,r,t,e,n),this.changed()}},c.transform2D=function(t,e,n){var r=t.getFlatCoordinates();if(r){var i=t.getStride();return u.a.transform2D(r,0,r.length,i,e,n)}return null},e.a=c},f9aG:function(t,e,n){"use strict";function r(){}function i(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:r}e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return i(t)},e.b=i},fGqn:function(t,e,n){"use strict";var r={createOrUpdate:function(t,e,n,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]},getKeyZXY:function(t,e,n){return t+"/"+e+"/"+n},getKey:function(t){return r.getKeyZXY(t[0],t[1],t[2])},fromKey:function(t){return t.split("/").map(Number)},hash:function(t){return(t[1]<<t[0])+t[2]},quadKey:function(t){var e,n,r=t[0],i=new Array(r),o=1<<r-1;for(e=0;e<r;++e)n=48,t[1]&o&&(n+=1),t[2]&o&&(n+=2),i[e]=String.fromCharCode(n),o>>=1;return i.join("")},withinExtentAndZ:function(t,e){var n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var o,a=e.getExtent();return!(o=a?e.getTileRangeForExtentAndZ(a,n):e.getFullTileRange(n))||o.containsXY(r,i)}};e.a=r},g5jc:function(t,e,n){"use strict";var r=n("YaPU"),i=n("OVmG"),o=n("VwZZ"),a=n("x6VL"),s=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},u=function(t){function e(e,n){t.call(this),this.subject=e,this.subscriber=n,this.closed=!1}return s(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(o.a),l=n("tLDX");n.d(e,"b",function(){return h}),n.d(e,"a",function(){return p});var c=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},h=function(t){function e(e){t.call(this,e),this.destination=e}return c(e,t),e}(i.a),p=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return c(e,t),e.prototype[l.a]=function(){return new h(this)},e.prototype.lift=function(t){var e=new f(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new a.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new u(this,t))},e.prototype.asObservable=function(){var t=new r.a;return t.source=this,t},e.create=function(t,e){return new f(t,e)},e}(r.a),f=function(t){function e(e,n){t.call(this),this.destination=e,this.source=n}return c(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):o.a.EMPTY},e}(p)},gCHX:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CXX0"),i=n("o1z/"),o={createExtent:function(t){return function(e){return e?[i.a.clamp(e[0],t[0],t[2]),i.a.clamp(e[1],t[1],t[3])]:void 0}},none:function(t){return t}},a=o,s=n("sR3l"),u=n("zF6X"),l={createSnapToResolutions:function(t){return function(e,n,r){if(void 0!==e){var o=u.a.linearFindNearest(t,e,r);o=i.a.clamp(o+n,0,t.length-1);var a=Math.floor(o);if(o!=a&&a<t.length-1){var s=t[a]/t[a+1];return t[a]/Math.pow(s,o-a)}return t[a]}}},createSnapToPower:function(t,e,n){return function(r,i,o){if(void 0!==r){var a=-o/2+.5,s=Math.floor(Math.log(e/r)/Math.log(t)+a),u=Math.max(s+i,0);return void 0!==n&&(u=Math.min(u,n)),e/Math.pow(t,u)}}}},c=l,h=n("xek4"),p=n("kfRt"),f={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},d=n("OEyb"),g=n("IZoy"),y=n("2S6f"),v=n("/LWt"),_=n("U/IR"),m=n("xL0k"),E=n("f5c8"),C=n("tFCN"),b=n("yGLh"),x=n("Ae3H"),T=function(t){s.a.call(this);var e=C.a.assign({},t);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=b.default.createProjection(e.projection,"EPSG:3857"),this.applyOptions_(e)};r.a.inherits(T,s.a),T.prototype.applyOptions_=function(t){var e={};e[f.CENTER]=void 0!==t.center?t.center:null;var n=T.createResolutionConstraint_(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=n.minZoom;var r=T.createCenterConstraint_(t),o=n.constraint,a=T.createRotationConstraint_(t);this.constraints_={center:r,resolution:o,rotation:a},void 0!==t.resolution?e[f.RESOLUTION]=t.resolution:void 0!==t.zoom&&(e[f.RESOLUTION]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(e[f.RESOLUTION]=i.a.clamp(Number(this.getResolution()||e[f.RESOLUTION]),this.minResolution_,this.maxResolution_))),e[f.ROTATION]=void 0!==t.rotation?t.rotation:0,this.setProperties(e),this.options_=t},T.prototype.getUpdatedOptions_=function(t){var e=C.a.assign({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),C.a.assign({},e,t)},T.prototype.animate=function(t){var e,n=arguments.length;if(n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n),!this.isDef()){var r=arguments[n-1];return r.center&&this.setCenter(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(e&&e(!0))}for(var o=Date.now(),a=this.getCenter().slice(),s=this.getResolution(),u=this.getRotation(),l=[],c=0;c<n;++c){var h=arguments[c],f={start:o,complete:!1,anchor:h.anchor,duration:void 0!==h.duration?h.duration:1e3,easing:h.easing||y.a.inAndOut};if(h.center&&(f.sourceCenter=a,f.targetCenter=h.center,a=f.targetCenter),void 0!==h.zoom?(f.sourceResolution=s,f.targetResolution=this.constrainResolution(this.maxResolution_,h.zoom-this.minZoom_,0),s=f.targetResolution):h.resolution&&(f.sourceResolution=s,f.targetResolution=h.resolution,s=f.targetResolution),void 0!==h.rotation){f.sourceRotation=u;var d=i.a.modulo(h.rotation-u+Math.PI,2*Math.PI)-Math.PI;f.targetRotation=u+d,u=f.targetRotation}f.callback=e,T.isNoopAnimation(f)?f.complete=!0:o+=f.duration,l.push(f)}this.animations_.push(l),this.setHint(p.a.ANIMATING,1),this.updateAnimations_()},T.prototype.getAnimating=function(){return this.hints_[p.a.ANIMATING]>0},T.prototype.getInteracting=function(){return this.hints_[p.a.INTERACTING]>0},T.prototype.cancelAnimations=function(){this.setHint(p.a.ANIMATING,-this.hints_[p.a.ANIMATING]);for(var t=0,e=this.animations_.length;t<e;++t){var n=this.animations_[t];n[0].callback&&n[0].callback(!1)}this.animations_.length=0},T.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var r=this.animations_[n],o=!0,a=0,s=r.length;a<s;++a){var u=r[a];if(!u.complete){var l=t-u.start,c=u.duration>0?l/u.duration:1;c>=1?(u.complete=!0,c=1):o=!1;var h=u.easing(c);if(u.sourceCenter){var d=u.sourceCenter[0],g=u.sourceCenter[1],y=d+h*(u.targetCenter[0]-d),v=g+h*(u.targetCenter[1]-g);this.set(f.CENTER,[y,v])}if(u.sourceResolution&&u.targetResolution){var _=1===h?u.targetResolution:u.sourceResolution+h*(u.targetResolution-u.sourceResolution);u.anchor&&this.set(f.CENTER,this.calculateCenterZoom(_,u.anchor)),this.set(f.RESOLUTION,_)}if(void 0!==u.sourceRotation&&void 0!==u.targetRotation){var m=1===h?i.a.modulo(u.targetRotation+Math.PI,2*Math.PI)-Math.PI:u.sourceRotation+h*(u.targetRotation-u.sourceRotation);u.anchor&&this.set(f.CENTER,this.calculateCenterRotate(m,u.anchor)),this.set(f.ROTATION,m)}if(e=!0,!u.complete)break}}if(o){this.animations_[n]=null,this.setHint(p.a.ANIMATING,-1);var E=r[0].callback;E&&E(!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},T.prototype.calculateCenterRotate=function(t,e){var n,r=this.getCenter();return void 0!==r&&(n=[r[0]-e[0],r[1]-e[1]],g.a.rotate(n,t-this.getRotation()),g.a.add(n,e)),n},T.prototype.calculateCenterZoom=function(t,e){var n,r=this.getCenter(),i=this.getResolution();void 0!==r&&void 0!==i&&(n=[e[0]-t*(e[0]-r[0])/i,e[1]-t*(e[1]-r[1])/i]);return n},T.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+r.a.getUid(this)+'"]',n=document.querySelector(e);if(n){var i=getComputedStyle(n);t[0]=parseInt(i.width,10),t[1]=parseInt(i.height,10)}return t},T.prototype.constrainCenter=function(t){return this.constraints_.center(t)},T.prototype.constrainResolution=function(t,e,n){var r=e||0,i=n||0;return this.constraints_.resolution(t,r,i)},T.prototype.constrainRotation=function(t,e){var n=e||0;return this.constraints_.rotation(t,n)},T.prototype.getCenter=function(){return this.get(f.CENTER)},T.prototype.getConstraints=function(){return this.constraints_},T.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},T.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),n=this.getCenter();d.a.assert(n,1);var r=this.getResolution();d.a.assert(void 0!==r,2);var i=this.getRotation();return d.a.assert(void 0!==i,3),v.a.getForViewAndSize(n,r,i,e)},T.prototype.getMaxResolution=function(){return this.maxResolution_},T.prototype.getMinResolution=function(){return this.minResolution_},T.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},T.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},T.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},T.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},T.prototype.getProjection=function(){return this.projection_},T.prototype.getResolution=function(){return this.get(f.RESOLUTION)},T.prototype.getResolutions=function(){return this.resolutions_},T.prototype.getResolutionForExtent=function(t,e){var n=e||this.getSizeFromViewport_(),r=v.a.getWidth(t)/n[0],i=v.a.getHeight(t)/n[1];return Math.max(r,i)},T.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.maxResolution_,r=this.minResolution_,i=Math.log(n/r)/Math.log(e);return function(t){return n/Math.pow(e,t*i)}},T.prototype.getRotation=function(){return this.get(f.ROTATION)},T.prototype.getValueForResolutionFunction=function(t){var e=t||2,n=this.maxResolution_,r=this.minResolution_,i=Math.log(n/r)/Math.log(e);return function(t){return Math.log(n/t)/Math.log(e)/i}},T.prototype.getState=function(){var t=this.getCenter(),e=this.getProjection(),n=this.getResolution(),r=this.getRotation();return{center:t.slice(),projection:void 0!==e?e:null,resolution:n,rotation:r,zoom:this.getZoom()}},T.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},T.prototype.getZoomForResolution=function(t){var e,n,r=this.minZoom_||0;if(this.resolutions_){var i=u.a.linearFindNearest(this.resolutions_,t,1);r=i,e=this.resolutions_[i],n=i==this.resolutions_.length-1?2:e/this.resolutions_[i+1]}else e=this.maxResolution_,n=this.zoomFactor_;return r+Math.log(e/t)/Math.log(n)},T.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},T.prototype.fit=function(t,e){var n,i=e||{},o=i.size;o||(o=this.getSizeFromViewport_()),t instanceof E.a?t.getType()===_.a.CIRCLE?(t=t.getExtent(),(n=m.a.fromExtent(t)).rotate(this.getRotation(),v.a.getCenter(t))):n=t:(d.a.assert(Array.isArray(t),24),d.a.assert(!v.a.isEmpty(t),25),n=m.a.fromExtent(t));var a,s=void 0!==i.padding?i.padding:[0,0,0,0],u=void 0===i.constrainResolution||i.constrainResolution,l=void 0!==i.nearest&&i.nearest;a=void 0!==i.minResolution?i.minResolution:void 0!==i.maxZoom?this.constrainResolution(this.maxResolution_,i.maxZoom-this.minZoom_,0):0;for(var c=n.getFlatCoordinates(),h=this.getRotation(),p=Math.cos(-h),f=Math.sin(-h),g=1/0,y=1/0,C=-1/0,b=-1/0,x=n.getStride(),T=0,w=c.length;T<w;T+=x){var R=c[T]*p-c[T+1]*f,S=c[T]*f+c[T+1]*p;g=Math.min(g,R),y=Math.min(y,S),C=Math.max(C,R),b=Math.max(b,S)}var O=this.getResolutionForExtent([g,y,C,b],[o[0]-s[1]-s[3],o[1]-s[0]-s[2]]);if(O=isNaN(O)?a:Math.max(O,a),u){var I=this.constrainResolution(O,0,0);!l&&I<O&&(I=this.constrainResolution(I,-1,0)),O=I}f=-f;var P=(g+C)/2,A=(y+b)/2,L=[(P+=(s[1]-s[3])/2*O)*p-(A+=(s[0]-s[2])/2*O)*f,A*p+P*f],M=i.callback?i.callback:r.a.nullFunction;void 0!==i.duration?this.animate({resolution:O,center:L,duration:i.duration,easing:i.easing},M):(this.setResolution(O),this.setCenter(L),setTimeout(M.bind(void 0,!0),0))},T.prototype.centerOn=function(t,e,n){var r=this.getRotation(),i=Math.cos(-r),o=Math.sin(-r),a=t[0]*i-t[1]*o,s=t[1]*i+t[0]*o,u=this.getResolution(),l=(a+=(e[0]/2-n[0])*u)*i-(s+=(n[1]-e[1]/2)*u)*(o=-o),c=s*i+a*o;this.setCenter([l,c])},T.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},T.prototype.rotate=function(t,e){if(void 0!==e){var n=this.calculateCenterRotate(t,e);this.setCenter(n)}this.setRotation(t)},T.prototype.setCenter=function(t){this.set(f.CENTER,t),this.getAnimating()&&this.cancelAnimations()},T.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},T.prototype.setResolution=function(t){this.set(f.RESOLUTION,t),this.getAnimating()&&this.cancelAnimations()},T.prototype.setRotation=function(t){this.set(f.ROTATION,t),this.getAnimating()&&this.cancelAnimations()},T.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},T.createCenterConstraint_=function(t){return void 0!==t.extent?a.createExtent(t.extent):a.none},T.createResolutionConstraint_=function(t){var e,n,i,o=void 0!==t.minZoom?t.minZoom:r.a.DEFAULT_MIN_ZOOM,a=void 0!==t.maxZoom?t.maxZoom:28,s=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions){var u=t.resolutions;n=u[o],i=void 0!==u[a]?u[a]:u[u.length-1],e=c.createSnapToResolutions(u)}else{var l=b.default.createProjection(t.projection,"EPSG:3857"),h=l.getExtent(),p=(h?Math.max(v.a.getWidth(h),v.a.getHeight(h)):360*b.default.METERS_PER_UNIT[x.a.DEGREES]/l.getMetersPerUnit())/r.a.DEFAULT_TILE_SIZE/Math.pow(2,r.a.DEFAULT_MIN_ZOOM),f=p/Math.pow(2,28-r.a.DEFAULT_MIN_ZOOM);void 0!==(n=t.maxResolution)?o=0:n=p/Math.pow(s,o),void 0===(i=t.minResolution)&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(s,a):p/Math.pow(s,a):f),a=o+Math.floor(Math.log(n/i)/Math.log(s)),i=n/Math.pow(s,a-o),e=c.createSnapToPower(s,n,a-o)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:o,zoomFactor:s}},T.createRotationConstraint_=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?h.a.createSnapToZero():!1===e?h.a.none:"number"==typeof e?h.a.createSnapToN(e):h.a.none}return h.a.disable},T.isNoopAnimation=function(t){return!(t.sourceCenter&&t.targetCenter&&!g.a.equals(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)};e.default=T},"gL+p":function(t,e,n){"use strict";var r=n("OVmG"),i=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)};var o=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.count=0,this.thisArg=r||this}return i(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(r.a);e.a=function(t,e){return function(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}(t,e)(this)}},hrLW:function(t,e,n){"use strict";var r={coordinate:function(t,e,n,r){var i,o;for(i=0,o=n.length;i<o;++i)t[e++]=n[i];return e},coordinates:function(t,e,n,r){var i,o;for(i=0,o=n.length;i<o;++i){var a,s=n[i];for(a=0;a<r;++a)t[e++]=s[a]}return e},coordinatess:function(t,e,n,i,o){var a,s,u=o||[],l=0;for(a=0,s=n.length;a<s;++a){var c=r.coordinates(t,e,n[a],i);u[l++]=c,e=c}return u.length=l,u},coordinatesss:function(t,e,n,i,o){var a,s,u=o||[],l=0;for(a=0,s=n.length;a<s;++a){var c=r.coordinatess(t,e,n[a],i,u[l]);u[l++]=c,e=c[c.length-1]}return u.length=l,u}};e.a=r},i9s7:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=n("nsdQ").a.create},iHAK:function(t,e,n){"use strict";e.a={ADD:"add",REMOVE:"remove"}},kfRt:function(t,e,n){"use strict";e.a={ANIMATING:0,INTERACTING:1}},lY9i:function(t,e,n){"use strict";var r=n("CXX0"),i=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width,this.checksum_=void 0};i.prototype.clone=function(){var t=this.getColor();return new i({color:t&&t.slice?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},i.prototype.getColor=function(){return this.color_},i.prototype.getLineCap=function(){return this.lineCap_},i.prototype.getLineDash=function(){return this.lineDash_},i.prototype.getLineDashOffset=function(){return this.lineDashOffset_},i.prototype.getLineJoin=function(){return this.lineJoin_},i.prototype.getMiterLimit=function(){return this.miterLimit_},i.prototype.getWidth=function(){return this.width_},i.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},i.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},i.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},i.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},i.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},i.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},i.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},i.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"==typeof this.color_?this.checksum_+=this.color_:this.checksum_+=r.a.getUid(this.color_).toString():this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_},e.a=i},mLRC:function(t,e,n){"use strict";var r=n("CXX0"),i=n("sR3l"),o=n("8gh8"),a=n("o1z/"),s=n("tFCN"),u=function(t){i.a.call(this);var e=s.a.assign({},t);e[o.a.OPACITY]=void 0!==t.opacity?t.opacity:1,e[o.a.VISIBLE]=void 0===t.visible||t.visible,e[o.a.Z_INDEX]=void 0!==t.zIndex?t.zIndex:0,e[o.a.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,e[o.a.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,this.setProperties(e),this.state_={layer:this,managed:!0},this.type};r.a.inherits(u,i.a),u.prototype.getType=function(){return this.type},u.prototype.getLayerState=function(){return this.state_.opacity=a.a.clamp(this.getOpacity(),0,1),this.state_.sourceState=this.getSourceState(),this.state_.visible=this.getVisible(),this.state_.extent=this.getExtent(),this.state_.zIndex=this.getZIndex(),this.state_.maxResolution=this.getMaxResolution(),this.state_.minResolution=Math.max(this.getMinResolution(),0),this.state_},u.prototype.getLayersArray=function(t){},u.prototype.getLayerStatesArray=function(t){},u.prototype.getExtent=function(){return this.get(o.a.EXTENT)},u.prototype.getMaxResolution=function(){return this.get(o.a.MAX_RESOLUTION)},u.prototype.getMinResolution=function(){return this.get(o.a.MIN_RESOLUTION)},u.prototype.getOpacity=function(){return this.get(o.a.OPACITY)},u.prototype.getSourceState=function(){},u.prototype.getVisible=function(){return this.get(o.a.VISIBLE)},u.prototype.getZIndex=function(){return this.get(o.a.Z_INDEX)},u.prototype.setExtent=function(t){this.set(o.a.EXTENT,t)},u.prototype.setMaxResolution=function(t){this.set(o.a.MAX_RESOLUTION,t)},u.prototype.setMinResolution=function(t){this.set(o.a.MIN_RESOLUTION,t)},u.prototype.setOpacity=function(t){this.set(o.a.OPACITY,t)},u.prototype.setVisible=function(t){this.set(o.a.VISIBLE,t)},u.prototype.setZIndex=function(t){this.set(o.a.Z_INDEX,t)},e.a=u},mkUQ:function(t,e,n){"use strict";var r=n("CXX0"),i=function(){};i.prototype.disposed_=!1,i.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},i.prototype.disposeInternal=r.a.nullFunction,e.a=i},nsdQ:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("AMGY"),i=n("YaPU"),o=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},a=function(t){function e(e,n){t.call(this),this.promise=e,this.scheduler=n}return o(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e=this,n=this.promise,i=this.scheduler;if(null==i)this._isScalar?t.closed||(t.next(this.value),t.complete()):n.then(function(n){e.value=n,e._isScalar=!0,t.closed||(t.next(n),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){r.a.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return i.schedule(s,0,{value:this.value,subscriber:t})}else n.then(function(n){e.value=n,e._isScalar=!0,t.closed||t.add(i.schedule(s,0,{value:n,subscriber:t}))},function(e){t.closed||t.add(i.schedule(u,0,{err:e,subscriber:t}))}).then(null,function(t){r.a.setTimeout(function(){throw t})})},e}(i.a);function s(t){var e=t.value,n=t.subscriber;n.closed||(n.next(e),n.complete())}function u(t){var e=t.err,n=t.subscriber;n.closed||n.error(e)}},"o1z/":function(t,e,n){"use strict";var r=n("OEyb"),i={clamp:function(t,e,n){return Math.min(Math.max(t,e),n)}};i.cosh="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2},i.roundUpToPowerOfTwo=function(t){return r.a.assert(0<t,29),Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},i.squaredSegmentDistance=function(t,e,n,r,o,a){var s=o-n,u=a-r;if(0!==s||0!==u){var l=((t-n)*s+(e-r)*u)/(s*s+u*u);l>1?(n=o,r=a):l>0&&(n+=s*l,r+=u*l)}return i.squaredDistance(t,e,n,r)},i.squaredDistance=function(t,e,n,r){var i=n-t,o=r-e;return i*i+o*o},i.solveLinearSystem=function(t){for(var e=t.length,n=0;n<e;n++){for(var r=n,i=Math.abs(t[n][n]),o=n+1;o<e;o++){var a=Math.abs(t[o][n]);a>i&&(i=a,r=o)}if(0===i)return null;var s=t[r];t[r]=t[n],t[n]=s;for(var u=n+1;u<e;u++)for(var l=-t[u][n]/t[n][n],c=n;c<e+1;c++)n==c?t[u][c]=0:t[u][c]+=l*t[n][c]}for(var h=new Array(e),p=e-1;p>=0;p--){h[p]=t[p][e]/t[p][p];for(var f=p-1;f>=0;f--)t[f][e]-=t[f][p]*h[p]}return h},i.toDegrees=function(t){return 180*t/Math.PI},i.toRadians=function(t){return t*Math.PI/180},i.modulo=function(t,e){var n=t%e;return n*e<0?n+e:n},i.lerp=function(t,e,n){return t+n*(e-t)},e.a=i},"omE/":function(t,e,n){"use strict";var r=n("CXX0"),i=function(t){var e=r.a.VERSION?r.a.VERSION.split("-")[0]:"latest";this.message="Assertion failed. See https://openlayers.org/en/"+e+"/doc/errors/#"+t+" for details.",this.code=t,this.name="AssertionError"};r.a.inherits(i,Error),e.a=i},p8Td:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("OEyb"),i=n("6t+W"),o=n("ZVo0"),a=n("CXX0"),s=n("sR3l"),u=n("A6q1"),l=n("tOEd"),c=function(t){if(s.a.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,i.a.listen(this,s.a.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),void 0!==t)if(t instanceof u.a||!t){var e=t;this.setGeometry(e)}else{var n=t;this.setProperties(n)}};a.a.inherits(c,s.a),c.prototype.clone=function(){var t=new c(this.getProperties());t.setGeometryName(this.getGeometryName());var e=this.getGeometry();e&&t.setGeometry(e.clone());var n=this.getStyle();return n&&t.setStyle(n),t},c.prototype.getGeometry=function(){return this.get(this.geometryName_)},c.prototype.getId=function(){return this.id_},c.prototype.getGeometryName=function(){return this.geometryName_},c.prototype.getStyle=function(){return this.style_},c.prototype.getStyleFunction=function(){return this.styleFunction_},c.prototype.handleGeometryChange_=function(){this.changed()},c.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(i.a.unlistenByKey(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=i.a.listen(t,o.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},c.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},c.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?c.createStyleFunction(t):void 0,this.changed()},c.prototype.setId=function(t){this.id_=t,this.changed()},c.prototype.setGeometryName=function(t){i.a.unlisten(this,s.a.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=t,i.a.listen(this,s.a.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},c.createStyleFunction=function(t){var e,n;"function"==typeof t?e=2==t.length?function(e){return t(this,e)}:t:(Array.isArray(t)?n=t:(r.a.assert(t instanceof l.default,41),n=[t]),e=function(){return n});return e},e.default=c},pWpL:function(t,e,n){"use strict";var r=n("/LWt"),i=n("ZXW8"),o=n("vkQb"),a={lineString:function(t,e,n,i,a){var s=r.a.extendFlatCoordinates(r.a.createEmpty(),t,e,n,i);return!!r.a.intersects(a,s)&&(!!r.a.containsExtent(a,s)||(s[0]>=a[0]&&s[2]<=a[2]||(s[1]>=a[1]&&s[3]<=a[3]||o.a.forEach(t,e,n,i,function(t,e){return r.a.intersectsSegment(a,t,e)}))))},lineStrings:function(t,e,n,r,i){var o,s;for(o=0,s=n.length;o<s;++o){if(a.lineString(t,e,n[o],r,i))return!0;e=n[o]}return!1},linearRing:function(t,e,n,r,o){return!!a.lineString(t,e,n,r,o)||(!!i.a.linearRingContainsXY(t,e,n,r,o[0],o[1])||(!!i.a.linearRingContainsXY(t,e,n,r,o[0],o[3])||(!!i.a.linearRingContainsXY(t,e,n,r,o[2],o[1])||!!i.a.linearRingContainsXY(t,e,n,r,o[2],o[3]))))},linearRings:function(t,e,n,r,o){if(!a.linearRing(t,e,n[0],r,o))return!1;if(1===n.length)return!0;var s,u;for(s=1,u=n.length;s<u;++s)if(i.a.linearRingContainsExtent(t,n[s-1],n[s],r,o))return!1;return!0},linearRingss:function(t,e,n,r,i){var o,s;for(o=0,s=n.length;o<s;++o){var u=n[o];if(a.linearRings(t,e,u,r,i))return!0;e=u[u.length-1]}return!1}};e.a=a},piqq:function(t,e,n){"use strict";var r={coordinates:function(t,e,n,r){for(;e<n-r;){var i;for(i=0;i<r;++i){var o=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=o}e+=r,n-=r}}},i=r,o={linearRingIsClockwise:function(t,e,n,r){for(var i=0,o=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],u=t[e+1];i+=(s-o)*(u+a),o=s,a=u}return i>0},linearRingsAreOriented:function(t,e,n,r,i){var a,s,u=void 0!==i&&i;for(a=0,s=n.length;a<s;++a){var l=n[a],c=o.linearRingIsClockwise(t,e,l,r);if(0===a){if(u&&c||!u&&!c)return!1}else if(u&&!c||!u&&c)return!1;e=l}return!0},linearRingssAreOriented:function(t,e,n,r,i){var a,s;for(a=0,s=n.length;a<s;++a)if(!o.linearRingsAreOriented(t,e,n[a],r,i))return!1;return!0},orientLinearRings:function(t,e,n,r,a){var s,u,l=void 0!==a&&a;for(s=0,u=n.length;s<u;++s){var c=n[s],h=o.linearRingIsClockwise(t,e,c,r);(0===s?l&&h||!l&&!h:l&&!h||!l&&h)&&i.coordinates(t,e,c,r),e=c}return e},orientLinearRingss:function(t,e,n,r,i){var a,s;for(a=0,s=n.length;a<s;++a)e=o.orientLinearRings(t,e,n[a],r,i);return e}};e.a=o},qxxq:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CXX0"),i=n("/LWt"),o=n("aStr"),a=n("U/IR"),s=n("f5c8"),u=n("hrLW"),l=n("o1z/"),c=function(t,e){s.a.call(this),this.setCoordinates(t,e)};r.a.inherits(c,s.a),c.prototype.clone=function(){var t=new c(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),t},c.prototype.closestPointXY=function(t,e,n,r){var i=this.flatCoordinates,o=l.a.squaredDistance(t,e,i[0],i[1]);if(o<r){var a,s=this.stride;for(a=0;a<s;++a)n[a]=i[a];return n.length=s,o}return r},c.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},c.prototype.computeExtent=function(t){return i.a.createOrUpdateFromCoordinate(this.flatCoordinates,t)},c.prototype.getType=function(){return a.a.POINT},c.prototype.intersectsExtent=function(t){return i.a.containsXY(t,this.flatCoordinates[0],this.flatCoordinates[1])},c.prototype.setCoordinates=function(t,e){t?(this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=u.a.coordinate(this.flatCoordinates,0,t,this.stride),this.changed()):this.setFlatCoordinates(o.a.XY,null)},c.prototype.setFlatCoordinates=function(t,e){this.setFlatCoordinatesInternal(t,e),this.changed()},e.default=c},sR3l:function(t,e,n){"use strict";var r=n("CXX0"),i=n("SHxT"),o=n("2fQu"),a=n("J25b"),s=n("tFCN"),u=function(t){o.a.call(this),r.a.getUid(this),this.values_={},void 0!==t&&this.setProperties(t)};r.a.inherits(u,o.a),u.changeEventTypeCache_={},u.getChangeEventType=function(t){return u.changeEventTypeCache_.hasOwnProperty(t)?u.changeEventTypeCache_[t]:u.changeEventTypeCache_[t]="change:"+t},u.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},u.prototype.getKeys=function(){return Object.keys(this.values_)},u.prototype.getProperties=function(){return s.a.assign({},this.values_)},u.prototype.notify=function(t,e){var n;n=u.getChangeEventType(t),this.dispatchEvent(new u.Event(n,t,e)),n=i.a.PROPERTYCHANGE,this.dispatchEvent(new u.Event(n,t,e))},u.prototype.set=function(t,e,n){if(n)this.values_[t]=e;else{var r=this.values_[t];this.values_[t]=e,r!==e&&this.notify(t,r)}},u.prototype.setProperties=function(t,e){var n;for(n in t)this.set(n,t[n],e)},u.prototype.unset=function(t,e){if(t in this.values_){var n=this.values_[t];delete this.values_[t],e||this.notify(t,n)}},u.Event=function(t,e,n){a.a.call(this,t),this.key=e,this.oldValue=n},r.a.inherits(u.Event,a.a),e.a=u},t6Ve:function(t,e,n){"use strict";var r=function(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.snapToPixel_=t.snapToPixel};r.prototype.getOpacity=function(){return this.opacity_},r.prototype.getRotateWithView=function(){return this.rotateWithView_},r.prototype.getRotation=function(){return this.rotation_},r.prototype.getScale=function(){return this.scale_},r.prototype.getSnapToPixel=function(){return this.snapToPixel_},r.prototype.getAnchor=function(){},r.prototype.getImage=function(t){},r.prototype.getHitDetectionImage=function(t){},r.prototype.getImageState=function(){},r.prototype.getImageSize=function(){},r.prototype.getHitDetectionImageSize=function(){},r.prototype.getOrigin=function(){},r.prototype.getSize=function(){},r.prototype.setOpacity=function(t){this.opacity_=t},r.prototype.setRotateWithView=function(t){this.rotateWithView_=t},r.prototype.setRotation=function(t){this.rotation_=t},r.prototype.setScale=function(t){this.scale_=t},r.prototype.setSnapToPixel=function(t){this.snapToPixel_=t},r.prototype.listenImageChange=function(t,e){},r.prototype.load=function(){},r.prototype.unlistenImageChange=function(t,e){},e.a=r},t7NR:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},tFCN:function(t,e,n){"use strict";var r={};r.assign="function"==typeof Object.assign?Object.assign:function(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(void 0!==o&&null!==o)for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])}return n},r.clear=function(t){for(var e in t)delete t[e]},r.getValues=function(t){var e=[];for(var n in t)e.push(t[n]);return e},r.isEmpty=function(t){var e;for(e in t)return!1;return!e},e.a=r},tLDX:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("AMGY").a.Symbol,i="function"==typeof r&&"function"==typeof r.for?r.for("rxSubscriber"):"@@rxSubscriber"},tOEd:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("OEyb"),i=n("U/IR"),o=n("CXX0"),a=n("QBya"),s=n("w2Al"),u=n("4acs"),l=n("BV9W"),c=n("Oeue"),h=n("t6Ve"),p=function(t){this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==t.fill?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius_=void 0!==t.radius?t.radius:t.radius1,this.radius2_=t.radius2,this.angle_=void 0!==t.angle?t.angle:0,this.stroke_=void 0!==t.stroke?t.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=t.atlasManager,this.render_(this.atlasManager_);var e=void 0===t.snapToPixel||t.snapToPixel,n=void 0!==t.rotateWithView&&t.rotateWithView;h.a.call(this,{opacity:1,rotateWithView:n,rotation:void 0!==t.rotation?t.rotation:0,scale:1,snapToPixel:e})};o.a.inherits(p,h.a),p.prototype.clone=function(){var t=new p({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),snapToPixel:this.getSnapToPixel(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},p.prototype.getAnchor=function(){return this.anchor_},p.prototype.getAngle=function(){return this.angle_},p.prototype.getFill=function(){return this.fill_},p.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},p.prototype.getImage=function(t){return this.canvas_},p.prototype.getImageSize=function(){return this.imageSize_},p.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},p.prototype.getImageState=function(){return l.a.LOADED},p.prototype.getOrigin=function(){return this.origin_},p.prototype.getPoints=function(){return this.points_},p.prototype.getRadius=function(){return this.radius_},p.prototype.getRadius2=function(){return this.radius2_},p.prototype.getSize=function(){return this.size_},p.prototype.getStroke=function(){return this.stroke_},p.prototype.listenImageChange=function(t,e){},p.prototype.load=function(){},p.prototype.unlistenImageChange=function(t,e){},p.prototype.render_=function(t){var e,n,r="",i="",o=0,l=null,h=0,p=0;this.stroke_&&(null===(n=this.stroke_.getColor())&&(n=c.a.defaultStrokeStyle),n=a.a.asColorLike(n),void 0===(p=this.stroke_.getWidth())&&(p=c.a.defaultLineWidth),l=this.stroke_.getLineDash(),h=this.stroke_.getLineDashOffset(),u.a.CANVAS_LINE_DASH||(l=null,h=0),void 0===(i=this.stroke_.getLineJoin())&&(i=c.a.defaultLineJoin),void 0===(r=this.stroke_.getLineCap())&&(r=c.a.defaultLineCap),void 0===(o=this.stroke_.getMiterLimit())&&(o=c.a.defaultMiterLimit));var f=2*(this.radius_+p)+1,d={strokeStyle:n,strokeWidth:p,size:f,lineCap:r,lineDash:l,lineDashOffset:h,lineJoin:i,miterLimit:o};if(void 0===t){var g=s.a.createCanvasContext2D(f,f);this.canvas_=g.canvas,e=f=this.canvas_.width,this.draw_(d,g,0,0),this.createHitDetectionCanvas_(d)}else{f=Math.round(f);var y,v=!this.fill_;v&&(y=this.drawHitDetectionCanvas_.bind(this,d));var _=this.getChecksum(),m=t.add(_,f,f,this.draw_.bind(this,d),y);this.canvas_=m.image,this.origin_=[m.offsetX,m.offsetY],e=m.image.width,v?(this.hitDetectionCanvas_=m.hitImage,this.hitDetectionImageSize_=[m.hitImage.width,m.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[e,e])}this.anchor_=[f/2,f/2],this.size_=[f,f],this.imageSize_=[e,e]},p.prototype.draw_=function(t,e,n,r){var i,o,s;e.setTransform(1,0,0,1,0,0),e.translate(n,r),e.beginPath();var u=this.points_;if(u===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var l=void 0!==this.radius2_?this.radius2_:this.radius_;for(l!==this.radius_&&(u*=2),i=0;i<=u;i++)o=2*i*Math.PI/u-Math.PI/2+this.angle_,s=i%2==0?this.radius_:l,e.lineTo(t.size/2+s*Math.cos(o),t.size/2+s*Math.sin(o))}if(this.fill_){var h=this.fill_.getColor();null===h&&(h=c.a.defaultFillStyle),e.fillStyle=a.a.asColorLike(h),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},p.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var e=s.a.createCanvasContext2D(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e,0,0)}},p.prototype.drawHitDetectionCanvas_=function(t,e,n,r){e.setTransform(1,0,0,1,0,0),e.translate(n,r),e.beginPath();var i=this.points_;if(i===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var o,a,s,u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(i*=2),o=0;o<=i;o++)s=2*o*Math.PI/i-Math.PI/2+this.angle_,a=o%2==0?this.radius_:u,e.lineTo(t.size/2+a*Math.cos(s),t.size/2+a*Math.sin(s))}e.fillStyle=c.a.defaultFillStyle,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},p.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-",e=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||t!=this.checksums_[1]||e!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var n="r"+t+e+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[n,t,e,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]};var f=p,d=function(t){var e=t||{};f.call(this,{points:1/0,fill:e.fill,radius:e.radius,snapToPixel:e.snapToPixel,stroke:e.stroke,atlasManager:e.atlasManager})};o.a.inherits(d,f),d.prototype.clone=function(){var t=new d({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),snapToPixel:this.getSnapToPixel(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},d.prototype.setRadius=function(t){this.radius_=t,this.render_(this.atlasManager_)};var g=d,y=n("FeXB"),v=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.checksum_=void 0};v.prototype.clone=function(){var t=this.getColor();return new v({color:t&&t.slice?t.slice():t||void 0})},v.prototype.getColor=function(){return this.color_},v.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},v.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.color_ instanceof CanvasPattern||this.color_ instanceof CanvasGradient?this.checksum_=o.a.getUid(this.color_).toString():this.checksum_="f"+(this.color_?y.a.asString(this.color_):"-")),this.checksum_};var _=v,m=n("lY9i"),E=function(t){var e=t||{};this.geometry_=null,this.geometryFunction_=E.defaultGeometryFunction,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex};E.prototype.clone=function(){var t=this.getGeometry();return t&&t.clone&&(t=t.clone()),new E({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},E.prototype.getRenderer=function(){return this.renderer_},E.prototype.setRenderer=function(t){this.renderer_=t},E.prototype.getGeometry=function(){return this.geometry_},E.prototype.getGeometryFunction=function(){return this.geometryFunction_},E.prototype.getFill=function(){return this.fill_},E.prototype.setFill=function(t){this.fill_=t},E.prototype.getImage=function(){return this.image_},E.prototype.setImage=function(t){this.image_=t},E.prototype.getStroke=function(){return this.stroke_},E.prototype.setStroke=function(t){this.stroke_=t},E.prototype.getText=function(){return this.text_},E.prototype.setText=function(t){this.text_=t},E.prototype.getZIndex=function(){return this.zIndex_},E.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=E.defaultGeometryFunction,this.geometry_=t},E.prototype.setZIndex=function(t){this.zIndex_=t},E.createFunction=function(t){var e,n;"function"==typeof t?e=t:(Array.isArray(t)?n=t:(r.a.assert(t instanceof E,41),n=[t]),e=function(){return n});return e},E.default_=null,E.defaultFunction=function(t,e){if(!E.default_){var n=new _({color:"rgba(255,255,255,0.4)"}),r=new m.a({color:"#3399CC",width:1.25});E.default_=[new E({image:new g({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return E.default_},E.createDefaultEditing=function(){var t={},e=[255,255,255,1],n=[0,153,255,1];return t[i.a.POLYGON]=[new E({fill:new _({color:[255,255,255,.5]})})],t[i.a.MULTI_POLYGON]=t[i.a.POLYGON],t[i.a.LINE_STRING]=[new E({stroke:new m.a({color:e,width:5})}),new E({stroke:new m.a({color:n,width:3})})],t[i.a.MULTI_LINE_STRING]=t[i.a.LINE_STRING],t[i.a.CIRCLE]=t[i.a.POLYGON].concat(t[i.a.LINE_STRING]),t[i.a.POINT]=[new E({image:new g({radius:6,fill:new _({color:n}),stroke:new m.a({color:e,width:1.5})}),zIndex:1/0})],t[i.a.MULTI_POINT]=t[i.a.POINT],t[i.a.GEOMETRY_COLLECTION]=t[i.a.POLYGON].concat(t[i.a.LINE_STRING],t[i.a.POINT]),t},E.defaultGeometryFunction=function(t){return t.getGeometry()};e.default=E},tZ2B:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("OVmG"),i=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(r.a)},vLip:function(t,e,n){"use strict";var r=n("CXX0"),i=n("2p9+"),o=n("o1z/"),a=n("7yEG"),s=function(t){this.html_=t.html,this.tileRanges_=t.tileRanges?t.tileRanges:null};s.prototype.getHTML=function(){return this.html_},s.prototype.intersectsAnyTileRange=function(t,e,n){if(!this.tileRanges_)return!0;var r,s,u,l;for(l in t){var c;if(l in this.tileRanges_)for(u=t[l],r=0,s=this.tileRanges_[l].length;r<s;++r){if((c=this.tileRanges_[l][r]).intersects(u))return!0;var h=e.getTileRangeForExtentAndZ(a.a.extentFromProjection(n),parseInt(l,10)),p=h.getWidth();if(u.minX<h.minX||u.maxX>h.maxX){if(c.intersects(new i.a(o.a.modulo(u.minX,p),o.a.modulo(u.maxX,p),u.minY,u.maxY)))return!0;if(u.getWidth()>p&&c.intersects(h))return!0}}}return!1};var u=s,l=n("sR3l"),c=n("yGLh"),h=n("T4j3"),p=function(t){l.a.call(this),this.projection_=c.default.get(t.projection),this.attributions_=null,this.attributions2_=this.adaptAttributions_(t.attributions),this.logo_=t.logo,this.state_=void 0!==t.state?t.state:h.a.READY,this.wrapX_=void 0!==t.wrapX&&t.wrapX};r.a.inherits(p,l.a),p.prototype.adaptAttributions_=function(t){if(!t)return null;if(t instanceof u)return this.attributions_=[t],function(e){return[t.getHTML()]};if(Array.isArray(t)){if(t[0]instanceof u){this.attributions_=t;var e=t.map(function(t){return t.getHTML()});return function(t){return e}}return this.attributions_=t.map(function(t){return new u({html:t})}),function(e){return t}}return"function"==typeof t?t:(this.attributions_=[new u({html:t})],function(e){return[t]})},p.prototype.forEachFeatureAtCoordinate=r.a.nullFunction,p.prototype.getAttributions=function(){return this.attributions_},p.prototype.getAttributions2=function(){return this.attributions2_},p.prototype.getLogo=function(){return this.logo_},p.prototype.getProjection=function(){return this.projection_},p.prototype.getResolutions=function(){},p.prototype.getState=function(){return this.state_},p.prototype.getWrapX=function(){return this.wrapX_},p.prototype.refresh=function(){this.changed()},p.prototype.setAttributions=function(t){this.attributions2_=this.adaptAttributions_(t),this.changed()},p.prototype.setLogo=function(t){this.logo_=t},p.prototype.setState=function(t){this.state_=t,this.changed()};e.a=p},vkQb:function(t,e,n){"use strict";var r={forEach:function(t,e,n,r,i,o){for(var a,s=[t[e],t[e+1]],u=[];e+r<n;e+=r){if(u[0]=t[e+r],u[1]=t[e+r+1],a=i.call(o,s,u))return a;s[0]=u[0],s[1]=u[1]}return!1}};e.a=r},w2Al:function(t,e,n){"use strict";var r={createCanvasContext2D:function(t,e){var n=document.createElement("CANVAS");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")},outerWidth:function(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10)},outerHeight:function(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10)},replaceNode:function(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)},removeNode:function(t){return t&&t.parentNode?t.parentNode.removeChild(t):null},removeChildren:function(t){for(;t.lastChild;)t.removeChild(t.lastChild)}};e.a=r},wupX:function(t,e,n){"use strict";var r={coordinates:function(t,e,n,r,i){var o,a=void 0!==i?i:[],s=0;for(o=e;o<n;o+=r)a[s++]=t.slice(o,o+r);return a.length=s,a},coordinatess:function(t,e,n,i,o){var a,s,u=void 0!==o?o:[],l=0;for(a=0,s=n.length;a<s;++a){var c=n[a];u[l++]=r.coordinates(t,e,c,i,u[l]),e=c}return u.length=l,u},coordinatesss:function(t,e,n,i,o){var a,s,u=void 0!==o?o:[],l=0;for(a=0,s=n.length;a<s;++a){var c=n[a];u[l++]=r.coordinatess(t,e,c,i,u[l]),e=c[c.length-1]}return u.length=l,u}};e.a=r},x6VL:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error)},xL0k:function(t,e,n){"use strict";var r=n("CXX0"),i=n("zF6X"),o=n("/LWt"),a=n("aStr"),s=n("U/IR"),u=n("f5c8"),l=n("+b92"),c=n("bmSR"),h=n("hrLW"),p=n("wupX"),f=n("LmAy"),d=function(t,e){u.a.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(t,e)};r.a.inherits(d,u.a),d.prototype.clone=function(){var t=new d(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),t},d.prototype.closestPointXY=function(t,e,n,r){return r<o.a.closestSquaredDistanceXY(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(c.a.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),c.a.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,r))},d.prototype.getArea=function(){return l.a.linearRing(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},d.prototype.getCoordinates=function(){return p.a.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},d.prototype.getSimplifiedGeometryInternal=function(t){var e=[];e.length=f.a.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0);var n=new d(null);return n.setFlatCoordinates(a.a.XY,e),n},d.prototype.getType=function(){return s.a.LINEAR_RING},d.prototype.intersectsExtent=function(t){},d.prototype.setCoordinates=function(t,e){t?(this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=h.a.coordinates(this.flatCoordinates,0,t,this.stride),this.changed()):this.setFlatCoordinates(a.a.XY,null)},d.prototype.setFlatCoordinates=function(t,e){this.setFlatCoordinatesInternal(t,e),this.changed()};var g=d,y=n("qxxq"),v=n("ZXW8"),_={linearRings:function(t,e,n,r,o,a,s){for(var u,l,c,h,p,f,d,g=o[a+1],y=[],_=0,m=n.length;_<m;++_){var E=n[_];for(h=t[E-r],f=t[E-r+1],u=e;u<E;u+=r)p=t[u],d=t[u+1],(g<=f&&d<=g||f<=g&&g<=d)&&(c=(g-f)/(d-f)*(p-h)+h,y.push(c)),h=p,f=d}var C=NaN,b=-1/0;for(y.sort(i.a.numberSafeCompareFunction),h=y[0],u=1,l=y.length;u<l;++u){p=y[u];var x=Math.abs(p-h);x>b&&(c=(h+p)/2,v.a.linearRingsContainsXY(t,e,n,r,c,g)&&(C=c,b=x)),h=p}return isNaN(C)&&(C=o[a]),s?(s.push(C,g,b),s):[C,g,b]},linearRingss:function(t,e,n,r,i){var o,a,s=[];for(o=0,a=n.length;o<a;++o){var u=n[o];s=_.linearRings(t,e,u,r,i,2*o,s),e=u[u.length-1]}return s}},m=_,E=n("pWpL"),C=n("piqq"),b=n("o1z/"),x=function(t,e){u.a.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,this.setCoordinates(t,e)};r.a.inherits(x,u.a),x.prototype.appendLinearRing=function(t){this.flatCoordinates?i.a.extend(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},x.prototype.clone=function(){var t=new x(null);return t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice()),t},x.prototype.closestPointXY=function(t,e,n,r){return r<o.a.closestSquaredDistanceXY(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(c.a.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),c.a.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,r))},x.prototype.containsXY=function(t,e){return v.a.linearRingsContainsXY(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},x.prototype.getArea=function(){return l.a.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},x.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),C.a.orientLinearRings(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,p.a.coordinatess(e,0,this.ends_,this.stride)},x.prototype.getEnds=function(){return this.ends_},x.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=o.a.getCenter(this.getExtent());this.flatInteriorPoint_=m.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},x.prototype.getInteriorPoint=function(){return new y.default(this.getFlatInteriorPoint(),a.a.XYM)},x.prototype.getLinearRingCount=function(){return this.ends_.length},x.prototype.getLinearRing=function(t){if(t<0||this.ends_.length<=t)return null;var e=new g(null);return e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t])),e},x.prototype.getLinearRings=function(){var t,e,n=this.layout,r=this.flatCoordinates,i=this.ends_,o=[],a=0;for(t=0,e=i.length;t<e;++t){var s=i[t],u=new g(null);u.setFlatCoordinates(n,r.slice(a,s)),o.push(u),a=s}return o},x.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;C.a.linearRingsAreOriented(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=C.a.orientLinearRings(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},x.prototype.getSimplifiedGeometryInternal=function(t){var e=[],n=[];e.length=f.a.quantizes(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,n);var r=new x(null);return r.setFlatCoordinates(a.a.XY,e,n),r},x.prototype.getType=function(){return s.a.POLYGON},x.prototype.intersectsExtent=function(t){return E.a.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},x.prototype.setCoordinates=function(t,e){if(t){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=h.a.coordinatess(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}else this.setFlatCoordinates(a.a.XY,null,this.ends_)},x.prototype.setFlatCoordinates=function(t,e,n){this.setFlatCoordinatesInternal(t,e),this.ends_=n,this.changed()},x.circular=function(t,e,n,r){var o,s=r||32,u=[];for(o=0;o<s;++o)i.a.extend(u,t.offset(e,n,2*Math.PI*o/s));u.push(u[0],u[1]);var l=new x(null);return l.setFlatCoordinates(a.a.XY,u,[u.length]),l},x.fromExtent=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=[e,n,e,i,r,i,r,n,e,n],s=new x(null);return s.setFlatCoordinates(a.a.XY,o,[o.length]),s},x.fromCircle=function(t,e,n){for(var r=e||32,i=t.getStride(),o=t.getLayout(),a=new x(null,o),s=i*(r+1),u=new Array(s),l=0;l<s;l++)u[l]=0;var c=[u.length];return a.setFlatCoordinates(o,u,c),x.makeRegular(a,t.getCenter(),t.getRadius(),n),a},x.makeRegular=function(t,e,n,r){for(var i,o,a=t.getFlatCoordinates(),s=t.getLayout(),u=t.getStride(),l=t.getEnds(),c=a.length/u-1,h=r||0,p=0;p<=c;++p)o=p*u,i=h+2*b.a.modulo(p,c)*Math.PI/c,a[o]=e[0]+n*Math.cos(i),a[o+1]=e[1]+n*Math.sin(i);t.setFlatCoordinates(s,a,l)};e.a=x},xek4:function(t,e,n){"use strict";var r=n("o1z/"),i={disable:function(t,e){return void 0!==t?0:void 0},none:function(t,e){return void 0!==t?t+e:void 0},createSnapToN:function(t){var e=2*Math.PI/t;return function(t,n){return void 0!==t?t=Math.floor((t+n)/e+.5)*e:void 0}},createSnapToZero:function(t){var e=t||r.a.toRadians(5);return function(t,n){return void 0!==t?Math.abs(t+n)<=e?0:t+n:void 0}}};e.a=i},xifc:function(t,e,n){"use strict";var r={buffer:function(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]+2*e,n[1]=t[1]+2*e,n},hasArea:function(t){return t[0]>0&&t[1]>0},scale:function(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n},toSize:function(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}};e.a=r},yGLh:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("CXX0"),i=n("o1z/"),o=n("U/IR"),a=function(t){this.radius=t};a.prototype.geodesicArea=function(t){return a.getArea_(t,this.radius)},a.prototype.haversineDistance=function(t,e){return a.getDistance_(t,e,this.radius)},a.prototype.offset=function(t,e,n){var r=i.a.toRadians(t[1]),o=i.a.toRadians(t[0]),a=e/this.radius,s=Math.asin(Math.sin(r)*Math.cos(a)+Math.cos(r)*Math.sin(a)*Math.cos(n)),u=o+Math.atan2(Math.sin(n)*Math.sin(a)*Math.cos(r),Math.cos(a)-Math.sin(r)*Math.sin(s));return[i.a.toDegrees(u),i.a.toDegrees(s)]},a.DEFAULT_RADIUS=6371008.8,a.getLength=function(t,e){var n,r,i,s,u,l,c=e||{},h=c.radius||a.DEFAULT_RADIUS,p=c.projection||"EPSG:3857",f=(t=t.clone().transform(p,"EPSG:4326")).getType(),d=0;switch(f){case o.a.POINT:case o.a.MULTI_POINT:break;case o.a.LINE_STRING:case o.a.LINEAR_RING:n=t.getCoordinates(),d=a.getLength_(n,h);break;case o.a.MULTI_LINE_STRING:case o.a.POLYGON:for(i=0,s=(n=t.getCoordinates()).length;i<s;++i)d+=a.getLength_(n[i],h);break;case o.a.MULTI_POLYGON:for(i=0,s=(n=t.getCoordinates()).length;i<s;++i)for(u=0,l=(r=n[i]).length;u<l;++u)d+=a.getLength_(r[u],h);break;case o.a.GEOMETRY_COLLECTION:var g=t.getGeometries();for(i=0,s=g.length;i<s;++i)d+=a.getLength(g[i],e);break;default:throw new Error("Unsupported geometry type: "+f)}return d},a.getLength_=function(t,e){for(var n=0,r=0,i=t.length;r<i-1;++r)n+=a.getDistance_(t[r],t[r+1],e);return n},a.getDistance_=function(t,e,n){var r=i.a.toRadians(t[1]),o=i.a.toRadians(e[1]),a=(o-r)/2,s=i.a.toRadians(e[0]-t[0])/2,u=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(r)*Math.cos(o);return 2*n*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))},a.getArea=function(t,e){var n,r,i,s,u,l,c=e||{},h=c.radius||a.DEFAULT_RADIUS,p=c.projection||"EPSG:3857",f=(t=t.clone().transform(p,"EPSG:4326")).getType(),d=0;switch(f){case o.a.POINT:case o.a.MULTI_POINT:case o.a.LINE_STRING:case o.a.MULTI_LINE_STRING:case o.a.LINEAR_RING:break;case o.a.POLYGON:for(n=t.getCoordinates(),d=Math.abs(a.getArea_(n[0],h)),i=1,s=n.length;i<s;++i)d-=Math.abs(a.getArea_(n[i],h));break;case o.a.MULTI_POLYGON:for(i=0,s=(n=t.getCoordinates()).length;i<s;++i)for(r=n[i],d+=Math.abs(a.getArea_(r[0],h)),u=1,l=r.length;u<l;++u)d-=Math.abs(a.getArea_(r[u],h));break;case o.a.GEOMETRY_COLLECTION:var g=t.getGeometries();for(i=0,s=g.length;i<s;++i)d+=a.getArea(g[i],e);break;default:throw new Error("Unsupported geometry type: "+f)}return d},a.getArea_=function(t,e){for(var n=0,r=t.length,o=t[r-1][0],a=t[r-1][1],s=0;s<r;s++){var u=t[s][0],l=t[s][1];n+=i.a.toRadians(u-o)*(2+Math.sin(i.a.toRadians(a))+Math.sin(i.a.toRadians(l))),o=u,a=l}return n*e*e/2};var s=a,u=n("/LWt"),l=n("Ae3H"),c={cache_:null,set:function(t){c.cache_=t},get:function(){return c.cache_||window.proj4}},h=c,p=function(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit;var e=t.code;if(r.a.ENABLE_PROJ4JS){var n=h.get();if("function"==typeof n){var i=n.defs(e);void 0!==i&&(void 0!==i.axis&&void 0===t.axisOrientation&&(this.axisOrientation_=i.axis),void 0===t.metersPerUnit&&(this.metersPerUnit_=i.to_meter),void 0===t.units&&(this.units_=i.units))}}};p.prototype.canWrapX=function(){return this.canWrapX_},p.prototype.getCode=function(){return this.code_},p.prototype.getExtent=function(){return this.extent_},p.prototype.getUnits=function(){return this.units_},p.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||l.a.METERS_PER_UNIT[this.units_]},p.prototype.getWorldExtent=function(){return this.worldExtent_},p.prototype.getAxisOrientation=function(){return this.axisOrientation_},p.prototype.isGlobal=function(){return this.global_},p.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},p.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},p.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},p.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},p.prototype.setWorldExtent=function(t){this.worldExtent_=t},p.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},p.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};var f=p,d={Projection_:function(t){f.call(this,{code:t,units:l.a.METERS,extent:d.EXTENT,global:!0,worldExtent:d.WORLD_EXTENT,getPointResolution:function(t,e){return t/i.a.cosh(e[1]/d.RADIUS)}})}};r.a.inherits(d.Projection_,f),d.RADIUS=6378137,d.HALF_SIZE=Math.PI*d.RADIUS,d.EXTENT=[-d.HALF_SIZE,-d.HALF_SIZE,d.HALF_SIZE,d.HALF_SIZE],d.WORLD_EXTENT=[-180,-85,180,85],d.PROJECTIONS=[new d.Projection_("EPSG:3857"),new d.Projection_("EPSG:102100"),new d.Projection_("EPSG:102113"),new d.Projection_("EPSG:900913"),new d.Projection_("urn:ogc:def:crs:EPSG:6.18:3:3857"),new d.Projection_("urn:ogc:def:crs:EPSG::3857"),new d.Projection_("http://www.opengis.net/gml/srs/epsg.xml#3857")],d.fromEPSG4326=function(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var a=d.HALF_SIZE,s=0;s<r;s+=i){o[s]=a*t[s]/180;var u=d.RADIUS*Math.log(Math.tan(Math.PI*(t[s+1]+90)/360));u>a?u=a:u<-a&&(u=-a),o[s+1]=u}return o},d.toEPSG4326=function(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var a=0;a<r;a+=i)o[a]=180*t[a]/d.HALF_SIZE,o[a+1]=360*Math.atan(Math.exp(t[a+1]/d.RADIUS))/Math.PI-90;return o};var g=d,y={Projection_:function(t,e){f.call(this,{code:t,units:l.a.DEGREES,extent:y.EXTENT,axisOrientation:e,global:!0,metersPerUnit:y.METERS_PER_UNIT,worldExtent:y.EXTENT})}};r.a.inherits(y.Projection_,f),y.RADIUS=6378137,y.EXTENT=[-180,-90,180,90],y.METERS_PER_UNIT=Math.PI*y.RADIUS/180,y.PROJECTIONS=[new y.Projection_("CRS:84"),new y.Projection_("EPSG:4326","neu"),new y.Projection_("urn:ogc:def:crs:EPSG::4326","neu"),new y.Projection_("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new y.Projection_("urn:ogc:def:crs:OGC:1.3:CRS84"),new y.Projection_("urn:ogc:def:crs:OGC:2:84"),new y.Projection_("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new y.Projection_("urn:x-ogc:def:crs:EPSG:4326","neu")];var v=y,_={cache_:{},clear:function(){_.cache_={}},get:function(t){return _.cache_[t]||null},add:function(t,e){_.cache_[t]=e}},m=_,E=n("tFCN"),C={cache_:{},clear:function(){C.cache_={}},add:function(t,e,n){var r=t.getCode(),i=e.getCode(),o=C.cache_;r in o||(o[r]={}),o[r][i]=n},remove:function(t,e){var n=t.getCode(),r=e.getCode(),i=C.cache_,o=i[n][r];return delete i[n][r],E.a.isEmpty(i[n])&&delete i[n],o},get:function(t,e){var n,r=C.cache_;return t in r&&e in r[t]&&(n=r[t][e]),n}},b=C,x={};x.METERS_PER_UNIT=l.a.METERS_PER_UNIT,x.SPHERE_=new s(s.DEFAULT_RADIUS),r.a.ENABLE_PROJ4JS&&(x.setProj4=function(t){h.set(t)}),x.getPointResolution=function(t,e,n,r){var i,o=(t=x.get(t)).getPointResolutionFunc();if(o)i=o(e,n);else if(t.getUnits()==l.a.DEGREES&&!r||r==l.a.DEGREES)i=e;else{var a=x.getTransformFromProjections(t,x.get("EPSG:4326")),s=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];s=a(s,s,2),i=(x.SPHERE_.haversineDistance(s.slice(0,2),s.slice(2,4))+x.SPHERE_.haversineDistance(s.slice(4,6),s.slice(6,8)))/2;var u=r?l.a.METERS_PER_UNIT[r]:t.getMetersPerUnit();void 0!==u&&(i/=u)}return i},x.addEquivalentProjections=function(t){x.addProjections(t),t.forEach(function(e){t.forEach(function(t){e!==t&&b.add(e,t,x.cloneTransform)})})},x.addEquivalentTransforms=function(t,e,n,r){t.forEach(function(t){e.forEach(function(e){b.add(t,e,n),b.add(e,t,r)})})},x.addProjection=function(t){m.add(t.getCode(),t),b.add(t,t,x.cloneTransform)},x.addProjections=function(t){t.forEach(x.addProjection)},x.clearAllProjections=function(){m.clear(),b.clear()},x.createProjection=function(t,e){return t?"string"==typeof t?x.get(t):t:x.get(e)},x.addCoordinateTransforms=function(t,e,n,r){var i=x.get(t),o=x.get(e);b.add(i,o,x.createTransformFromCoordinateTransform(n)),b.add(o,i,x.createTransformFromCoordinateTransform(r))},x.createTransformFromCoordinateTransform=function(t){return function(e,n,r){var i,o,a,s=e.length,u=void 0!==r?r:2,l=void 0!==n?n:new Array(s);for(o=0;o<s;o+=u)for(i=t([e[o],e[o+1]]),l[o]=i[0],l[o+1]=i[1],a=u-1;a>=2;--a)l[o+a]=e[o+a];return l}},x.fromLonLat=function(t,e){return x.transform(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")},x.toLonLat=function(t,e){var n=x.transform(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),r=n[0];return(r<-180||r>180)&&(n[0]=i.a.modulo(r+180,360)-180),n},x.get=function(t){var e=null;if(t instanceof f)e=t;else if("string"==typeof t){var n=t;if(e=m.get(n),r.a.ENABLE_PROJ4JS&&!e){var i=h.get();"function"==typeof i&&void 0!==i.defs(n)&&(e=new f({code:n}),x.addProjection(e))}}return e},x.equivalent=function(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return t.getCode()===e.getCode()?n:x.getTransformFromProjections(t,e)===x.cloneTransform&&n},x.getTransform=function(t,e){var n=x.get(t),r=x.get(e);return x.getTransformFromProjections(n,r)},x.getTransformFromProjections=function(t,e){var n=t.getCode(),i=e.getCode(),o=b.get(n,i);if(r.a.ENABLE_PROJ4JS&&!o){var a=h.get();if("function"==typeof a){var s=a.defs(n),u=a.defs(i);if(void 0!==s&&void 0!==u){if(s===u)x.addEquivalentProjections([e,t]);else{var l=a(i,n);x.addCoordinateTransforms(e,t,l.forward,l.inverse)}o=b.get(n,i)}}}return o||(o=x.identityTransform),o},x.identityTransform=function(t,e,n){if(void 0!==e&&t!==e){for(var r=0,i=t.length;r<i;++r)e[r]=t[r];t=e}return t},x.cloneTransform=function(t,e,n){var r;if(void 0!==e){for(var i=0,o=t.length;i<o;++i)e[i]=t[i];r=e}else r=t.slice();return r},x.transform=function(t,e,n){return x.getTransform(e,n)(t,void 0,t.length)},x.transformExtent=function(t,e,n){var r=x.getTransform(e,n);return u.a.applyTransform(t,r)},x.transformWithProjections=function(t,e,n){return x.getTransformFromProjections(e,n)(t)},x.addCommon=function(){x.addEquivalentProjections(g.PROJECTIONS),x.addEquivalentProjections(v.PROJECTIONS),x.addEquivalentTransforms(v.PROJECTIONS,g.PROJECTIONS,g.fromEPSG4326,g.toEPSG4326)},x.addCommon();e.default=x},"z+iw":function(t,e,n){"use strict";var r=n("Qnch");e.a=function(t,e){return function(t,e){return Object(r.a)(t,e,1)}(t,e)(this)}},zF6X:function(t,e,n){"use strict";var r={binarySearch:function(t,e,n){for(var i,o,a=n||r.numberSafeCompareFunction,s=0,u=t.length,l=!1;s<u;)(o=+a(t[i=s+(u-s>>1)],e))<0?s=i+1:(u=i,l=!o);return l?s:~s},numberSafeCompareFunction:function(t,e){return t>e?1:t<e?-1:0},includes:function(t,e){return t.indexOf(e)>=0},linearFindNearest:function(t,e,n){var r,i=t.length;if(t[0]<=e)return 0;if(e<=t[i-1])return i-1;if(n>0){for(r=1;r<i;++r)if(t[r]<e)return r-1}else if(n<0){for(r=1;r<i;++r)if(t[r]<=e)return r}else for(r=1;r<i;++r){if(t[r]==e)return r;if(t[r]<e)return t[r-1]-e<e-t[r]?r-1:r}return i-1},reverseSubArray:function(t,e,n){for(;e<n;){var r=t[e];t[e]=t[n],t[n]=r,++e,--n}},extend:function(t,e){var n,r=Array.isArray(e)?e:[e],i=r.length;for(n=0;n<i;n++)t[t.length]=r[n]},remove:function(t,e){var n=t.indexOf(e),r=n>-1;return r&&t.splice(n,1),r},find:function(t,e){for(var n,r=t.length>>>0,i=0;i<r;i++)if(e(n=t[i],i,t))return n;return null},equals:function(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0},stableSort:function(t,e){var n,r=t.length,i=Array(t.length);for(n=0;n<r;n++)i[n]={index:n,value:t[n]};for(i.sort(function(t,n){return e(t.value,n.value)||t.index-n.index}),n=0;n<t.length;n++)t[n]=i[n].value},findIndex:function(t,e){var n;return!t.every(function(r,i){return n=i,!e(r,i,t)})?n:-1},isSorted:function(t,e,n){var i=e||r.numberSafeCompareFunction;return t.every(function(e,r){if(0===r)return!0;var o=i(t[r-1],e);return!(o>0||n&&0===o)})}};e.a=r}});